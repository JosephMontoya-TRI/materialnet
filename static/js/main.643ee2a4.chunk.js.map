{"version":3,"sources":["scene-manager/shader/circle-highlight-vert.glsl","scene-manager/shader/circle-highlight-frag.glsl","scene-manager/shader/line-vert.glsl","scene-manager/shader/line-frag.glsl","components/header/logo.svg","../node_modules/split-me/dist/esm/es5/build lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ groupOptions: {} namespace object","components/graph-vis/info-panel.js","components/graph-vis/sort.js","geojs-scene-manager/index.js","data-provider/index.js","templates/material.js","templates/minimal.js","components/controls/grid.js","components/controls/search.js","components/controls/slider.js","components/controls/select.js","components/controls/checkbox.js","components/graph-vis/controls.js","utils/webcomponents.js","components/graph-vis/structure.js","components/graph-vis/index.js","rest/index.js","containers/graph-vis/index.js","components/header/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","map","./u9hv9ptx.entry.js","./u9hv9ptx.sc.entry.js","webpackAsyncContext","req","ids","e","then","id","Promise","resolve","Error","code","keys","Object","InfoPanel","template","this","props","Component","sortStringsLength","a","b","length","sortStringsAlpha","GeoJSSceneManager","_ref","el","dp","onValueChanged","picked","classCallCheck","parent","initScene","lineSelected","Set","expansion","createClass","key","value","_this","degrees","nodeDegrees","nodes","nodeNames","forEach","name","pos","nodePosition","x","y","degree","xs","values","d","ys","bounds","Math","min","apply","toConsumableArray","max","params","geo","util","pixelCoordinateParams","maxBounds","left","top","right","bottom","center","maxwh","layer","createLayer","features","edges","lines","createFeature","data","style","position","width","strokeColor","strokeOpacity","points","fillColor","fillOpacity","radius","sqrt","tooltip","zIndex","createWidget","tooltipElem","canvas","setAttribute","classList","toggle","onNode","geoOn","event","feature","mouseon","evt","mouse","innerText","mousemove","mouseoff","mouseclick","pickName","text","concat","zoom","dataTime","modified","draw","m","factor","expanded","objectSpread","node","positioner","_this2","linkOpacity","selected","idx","edge","has","year","level","_this3","pow","sizes","i","deg","nodeId","hasNode","nodeProperty","discovery","formationEnergy","synthesisProbability","clusCoeff","eigenCent","degCent","shortestPath","degNeigh","_this4","onehop","edgeCount","edgeNodes","add","lineFocus","delete","setLinkOpacity","show","visible","night","bgColor","linkColor","select","_this5","colors","color","nodeExists","prop","_this6","_this$propMinMax","propMinMax","_this$propMinMax2","slicedToArray","low","high","cmap","scaleSequential","interpolateViridis","domain","val","_this7","push","_this8","filter","undefined","_this9","get","set","DiskDataProvider","_DataProvider","possibleConstructorReturn","getPrototypeOf","call","graph","index","count","n","hasOwnProperty","edgeIndex","nodeIndex","computeGraph","_nodeIndex","_names","bad","indexOf","slice","inherits","console","log","table","countEdge","other","DataProvider","material","onClear","hypothetical","react_default","createElement","Fragment","index_es","float","onClick","Close_default","gutterBottom","variant","paragraph","toFixed","minimal","grid","children","React","Children","toArray","container","spacing","child","gridsize","assign","item","renderInputComponent","inputProps","classes","_inputProps$inputRef","inputRef","ref","objectWithoutProperties","TextField_default","fullWidth","InputProps","input","renderSuggestion","suggestion","query","isHighlighted","matches","match","label","parts","parse","MenuItem_default","component","part","highlight","String","fontWeight","IntegrationAutosuggest","state","suggestions","handleSuggestionsFetchRequested","_ref2","setState","getSuggestions","handleSuggestionsClearRequested","handleChange","_ref3","newValue","defineProperty","inputValue","deburr","trim","toLowerCase","inputLength","maxItems","options","includes","_this$props","onChange","autosuggestProps","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","className","root","dist_default","placeholder","InputLabelProps","shrink","popperNode","theme","suggestionsContainerOpen","suggestionsList","renderSuggestionsContainer","Popper_default","anchorEl","open","Boolean","placement","Paper_default","square","containerProps","clientWidth","height","overflowY","items","disabled","withStyles","flexGrow","marginTop","unit","display","margin","padding","listStyleType","SliderControlComponent","range","step","digits","only","paddingRight","alignItems","Number","isInteger","paddingLeft","lab_index_es","_e","SelectControlComponent","selectOptions","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","option","isString","replace","isFinite","err","return","target","CheckboxControlComponent","control","checked","Controls","dataset","opacity","search","size","colorYear","showLinks","nightMode","searchOptions","toggleAutoplay","controls_select","slider","play","icons_index_es","controls_search","controls_checkbox","wc","storedEl","customEvents","arguments","entries","action","addEventListener","removeEventListener","_ref4","Structure","cjson","GraphVisComponent","dragging","status","start","update","sceneSetters","onVisDrag","preventDefault","clientX","clientY","linksOn","scene","linksVisible","mouseMoveListener","onDrag","window","mouseUpListener","setTimeout","interval","clearInterval","setInterval","nextYear","setPlayState","dx","dy","moveCamera","onClearSelection","undisplay","expand","hideAfter","setDegreeSize","setNightMode","setConstColor","setBooleanColor","setDiscoveryColor","setUndiscoveredColor","setPropertyColor","sort","visElement","selectNode","setDefaults","requestAnimationFrame","animate","render","ro","ResizeObserver","resize","observe","renderInfo","renderControls","unobserve","obj","currentName","fetch","asyncToGenerator","regenerator_default","mark","_callee","res","json","wrap","_context","prev","sent","JSON","abrupt","stop","_x","_this$props2","drawerRef","current","ReactDOM","controls","_this$props3","structure","info_panel","templates","graph_vis_structure","_this$props4","datasetName","clear","draggable","onDragStart","GraphVisContainer","datafile","resp","_this$state","graph_vis","Header","aria-label","marginRight","src","logo","alt","noWrap","flex","App","createRef","CssBaseline_default","header","body","paper","drawerPaper","contentContainer","content","containers_graph_vis","minHeight","flexDirection","backgroundColor","grey","overflowX","footer","chris","location","hostname","defineSplitMe","defineMolecule","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.643ee2a4.chunk.js","sourcesContent":["module.exports = \"varying vec4 vColor;\\nattribute float size;\\nuniform float zoom;\\nattribute float selected;\\nvarying vec4 edgeColor;\\nattribute float focus;\\nattribute float hidden;\\nvarying float _hidden;\\n\\nvoid main() {\\n  gl_PointSize = zoom * 0.5 * size;\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  vColor = selected > 0.5 ? vec4(1.0, 1.0, 0.0, focus) : vec4(color, focus);\\n  edgeColor = vec4(0.0, 0.0, 0.0, focus);\\n  _hidden = hidden;\\n}\\n\"","module.exports = \"varying vec4 vColor;\\nvarying vec4 edgeColor;\\nvarying float _hidden;\\n\\nvoid main() {\\n  float f = length(gl_PointCoord - vec2(0.5, 0.5));\\n  if (_hidden > 0.0 || f > 0.5) {\\n    discard;\\n  } else if (f > 0.4) {\\n    gl_FragColor = edgeColor;\\n  } else {\\n    gl_FragColor = vColor;\\n  }\\n}\\n\"","module.exports = \"attribute float focus;\\nvarying float attenuate;\\nattribute float hidden;\\nvarying float _hidden;\\n\\nvoid main() {\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  attenuate = focus;\\n  _hidden = hidden;\\n}\\n\"","module.exports = \"uniform float opacity;\\nuniform float night;\\nvarying float attenuate;\\nvarying float _hidden;\\n\\nvoid main() {\\n  if (_hidden > 0.0) {\\n    discard;\\n  }\\n  gl_FragColor = night > 0.0 ? vec4(1.0, 1.0, 1.0, attenuate * opacity) : vec4(0.0, 0.0, 0.0, attenuate * opacity);\\n}\\n\"","module.exports = __webpack_public_path__ + \"static/media/logo.89378f99.svg\";","var map = {\n\t\"./u9hv9ptx.entry.js\": [\n\t\t5642,\n\t\t18\n\t],\n\t\"./u9hv9ptx.sc.entry.js\": [\n\t\t5643,\n\t\t19\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar id = ids[0];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 5634;\nmodule.exports = webpackAsyncContext;","import { Component } from 'react';\n\nclass InfoPanel extends Component {\n  render() {\n    const {\n      template\n    } = this.props;\n\n    return template(this.props);\n  }\n}\n\nexport default InfoPanel;\n","function sortStringsAlpha (a, b) {\n  return a < b ? -1 : (a > b ? 1 : 0);\n}\n\nfunction sortStringsLength (a, b) {\n  if (a.length < b.length) {\n    return -1;\n  } else if (a.length > b.length) {\n    return 1;\n  } else {\n    return sortStringsAlpha(a, b);\n  }\n}\n\nexport { sortStringsAlpha, sortStringsLength };","import { scaleSequential } from 'd3-scale';\nimport { interpolateViridis } from 'd3-scale-chromatic';\nimport { color as d3Color } from 'd3-color';\nimport { select } from 'd3-selection';\n\nimport geo from 'geojs';\n\nimport './tooltip.css';\n\nexport class GeoJSSceneManager {\n  constructor({el, dp, onValueChanged, picked}) {\n    this.parent = el;\n    this.initScene(dp);\n    this.onValueChanged = onValueChanged;\n    this.picked = picked;\n    this.lineSelected = new Set([]);\n    this.expansion = 1;\n  }\n\n  initScene(dp) {\n    this.dp = dp;\n\n    const degrees = dp.nodeDegrees(2020);\n\n    let nodes = this.nodes = {};\n    dp.nodeNames().forEach(name => {\n      const pos = dp.nodePosition(name);\n      nodes[name] = {\n        x: pos.x,\n        y: pos.y,\n        degree: degrees[name],\n      };\n    });\n\n    const xs = Object.values(nodes).map(d => d.x);\n    const ys = Object.values(nodes).map(d => d.y);\n\n    const bounds = {\n      minx: Math.min(...xs),\n      maxx: Math.max(...xs),\n      miny: Math.min(...ys),\n      maxy: Math.max(...ys),\n    };\n\n    let params = geo.util.pixelCoordinateParams(this.parent, bounds.maxx - bounds.minx, bounds.maxy - bounds.miny);\n\n    // the utility function assumes top left is 0, 0.  Move it to minx, miny.\n    params.map.maxBounds.left += bounds.minx;\n    params.map.maxBounds.top += bounds.miny;\n    params.map.maxBounds.right += bounds.minx;\n    params.map.maxBounds.bottom += bounds.miny;\n    params.map.center.x += bounds.minx;\n    params.map.center.y += bounds.miny;\n\n    // inflate the bounds to add a border\n    const maxwh = Math.max(bounds.maxx - bounds.minx, bounds.maxy - bounds.miny);\n    const factor = 0.5;\n    params.map.maxBounds.left -= maxwh * factor;\n    params.map.maxBounds.top -= maxwh * factor;\n    params.map.maxBounds.right += maxwh * factor;\n    params.map.maxBounds.bottom += maxwh * factor;\n\n    // allow zoomming in until 1 unit of space is 2^(value) bigger.\n    params.map.max += 3;\n    params.map.min -= 3;\n\n    const map = this.map = geo.map(params.map);\n\n    const layer = map.createLayer('feature', {\n      features: [\n        'point',\n        'line',\n      ],\n    });\n\n    const edges = dp.edges;\n    const lines = this.lines = layer.createFeature('line')\n      .data(edges)\n      .style({\n        position: name => nodes[name],\n        width: 1,\n        strokeColor: 'black',\n        strokeOpacity: 0.1,\n      });\n\n    const points = this.points = layer.createFeature('point', {\n      // primitiveShape: 'triangle',\n      style: {\n        strokeColor: 'black',\n        fillColor: 'gray',\n        strokeOpacity: 0.8,\n        fillOpacity: 0.8,\n        radius: name => Math.max(2, Math.sqrt(nodes[name].degree)),\n      },\n      position: name => nodes[name],\n    })\n      .data(Object.keys(nodes));\n\n    const ui = map.createLayer('ui', {\n      zIndex: 2,\n    });\n\n    const tooltip = ui.createWidget('dom', {\n      position: {\n        x: 0,\n        y: 0,\n      },\n    });\n\n    const tooltipElem = tooltip.canvas();\n    tooltipElem.setAttribute('id', 'tooltip');\n    tooltipElem.classList.toggle('hidden', true);\n    tooltipElem.style['pointer-events'] = 'none';\n\n    let onNode = false;\n\n    points.geoOn(geo.event.feature.mouseon, evt => {\n      onNode = true;\n\n      const name = evt.data;\n      const node = nodes[name];\n\n      tooltip.position(evt.mouse.geo);\n      tooltipElem.innerText = name;\n      tooltipElem.classList.toggle('hidden', false);\n    });\n    points.geoOn(geo.event.feature.mousemove, evt => {\n      tooltip.position(evt.mouse.geo);\n    });\n    points.geoOn(geo.event.feature.mouseoff, evt => {\n      onNode = false;\n\n      tooltipElem.classList.toggle('hidden', true);\n    });\n    points.geoOn(geo.event.feature.mouseclick, evt => {\n      if (evt.top) {\n        const data = this.pickName(evt.data);\n        this.picked(data);\n      }\n    });\n\n    lines.geoOn(geo.event.feature.mouseon, evt => {\n      if (onNode) {\n        return;\n      }\n\n      const text = `${evt.data[0]} - ${evt.data[1]}`;\n\n      tooltip.position(evt.mouse.geo);\n      tooltipElem.innerText = text;\n      tooltipElem.classList.toggle('hidden', false);\n    });\n    lines.geoOn(geo.event.feature.mousemove, evt => {\n      tooltip.position(evt.mouse.geo);\n    });\n    lines.geoOn(geo.event.feature.mouseoff, evt => {\n      if (onNode) {\n        return;\n      }\n\n      tooltipElem.classList.toggle('hidden', true);\n    });\n\n    map.geoOn(geo.event.zoom, () => {\n      points.dataTime().modified();\n      this.onValueChanged(map.zoom(), 'zoom');\n    });\n\n    map.draw();\n  }\n\n  expand (m) {\n    const factor = m / this.expansion;\n    this.expansion = m;\n\n    let expanded = {...this.nodes};\n    Object.keys(expanded).forEach(node => {\n      expanded[node].x *= factor;\n      expanded[node].y *= factor;\n    });\n\n    const positioner = name => expanded[name];\n\n    this.points.position(positioner);\n    this.lines.position(positioner);\n\n    this.map.draw();\n  }\n\n  setLinkOpacity (value) {\n    this.linkOpacity = value;\n    if (this.selected) {\n      this.lines.style('strokeOpacity', (node, idx, edge) => {\n        if (this.lineSelected.has(edge[0]) && this.lineSelected.has(edge[1])) {\n          return value;\n        } else {\n          return 0;\n        }\n      });\n    } else {\n      this.lines.style('strokeOpacity', value);\n    }\n    this.lines.modified();\n    this.map.draw();\n  }\n\n  hideAfter () {}\n\n  setDegreeSize (year, level) {\n    // const zoom = Math.pow(2, this.map.zoom());\n\n    if (level === 'none') {\n      this.points.style('radius', () => {\n        return Math.pow(2, this.map.zoom()) * 10;\n      });\n      this.map.draw();\n    } else {\n      const degrees = this.dp.nodeDegrees(year);\n\n      let sizes = [];\n      this.dp.nodeNames().forEach((name, i) => {\n        const deg = degrees[name];\n\n        switch(level) {\n          case 'normal':\n            sizes[i] = 10 + Math.sqrt(deg);\n            break;\n\n          case 'large':\n            sizes[i] = 10 + Math.sqrt(Math.sqrt(deg * deg * deg));\n            break;\n\n          case 'huge':\n            sizes[i] = 10 + deg;\n            break;\n\n          default:\n            throw new Error(`bad level option: ${level}`);\n            break;\n        }\n      });\n\n      this.points.style('radius', (nodeId, i) => Math.pow(2, this.map.zoom()) * sizes[i]);\n      this.map.draw();\n    }\n  }\n\n  pickName (name) {\n    if (!this.dp.hasNode(name)) {\n      return null;\n    }\n\n    const data = {\n      name,\n      degree: this.dp.nodeProperty(name, 'degree'),\n      discovery: this.dp.nodeProperty(name, 'discovery'),\n      formationEnergy: this.dp.nodeProperty(name, 'formation_energy'),\n      synthesisProbability: this.dp.nodeProperty(name, 'synthesis_probability'),\n      clusCoeff: this.dp.nodeProperty(name, 'clus_coeff'),\n      eigenCent: this.dp.nodeProperty(name, 'eigen_cent'),\n      degCent: this.dp.nodeProperty(name, 'deg_cent'),\n      shortestPath: this.dp.nodeProperty(name, 'shortest_path'),\n      degNeigh: this.dp.nodeProperty(name, 'deg_neigh')\n    };\n\n    return data;\n  }\n\n  display (name) {\n    this.selected = name;\n\n    // Collect neighborhood of selected node.\n    let onehop = new Set([]);\n    for(let i = 0; i < this.dp.edgeCount(); i++) {\n      const edge = this.dp.edgeNodes(i);\n\n      if (name === edge[0] || name === edge[1]) {\n        onehop.add(edge[0]);\n        onehop.add(edge[1]);\n      }\n    }\n\n    // Set opacity of all nodes in accordance with membership in the\n    // neighborhood.\n    let focus = 0.8;\n    let defocus = 0.05;\n    this.points.style('fillOpacity', (nodeId) => onehop.has(nodeId) ? focus : defocus);\n    this.points.style('strokeOpacity', (nodeId) => onehop.has(nodeId) ? focus : defocus);\n\n    // Same for edges.\n    const lineFocus = this.linkOpacity;\n    const lineDefocus = 0;\n    this.lines.style('strokeOpacity', (node, idx, edge) => {\n      if (onehop.has(edge[0]) && onehop.has(edge[1])) {\n        this.lineSelected.add(edge[0]);\n        this.lineSelected.add(edge[1]);\n\n        return lineFocus;\n      } else {\n        this.lineSelected.delete(edge[0]);\n        this.lineSelected.delete(edge[1]);\n\n        return lineDefocus;\n      }\n    });\n\n    this.map.draw();\n  }\n\n  undisplay () {\n    this.points.style('fillOpacity', 0.8);\n    this.points.style('strokeOpacity', 0.8);\n    this.setLinkOpacity(this.linkOpacity);\n\n    this.map.draw();\n  }\n\n  linksVisible (show) {\n    this.lines.visible(show);\n    this.map.draw();\n  }\n\n  setNightMode (night) {\n    const bgColor = night ? 'black' : 'white';\n    const strokeColor = night ? 'white' : 'black';\n    const linkColor = strokeColor;\n\n    select(this.parent)\n      .style('background-color', bgColor);\n    this.lines.style('strokeColor', linkColor);\n    this.map.draw();\n  }\n\n  setConstColor () {\n    this.points.style('fillColor', `rgb(${0.2 * 255}, ${0.3 * 255}, ${0.8 * 255})`);\n    this.map.draw();\n  }\n\n  setBooleanColor () {\n    let colors = [];\n    this.dp.nodeNames().forEach((name, i) => {\n      const exists = this.dp.nodeExists(name);\n      const color = exists ? 'rgb(81,96,204)' : '#de2d26';\n\n      colors[i] = color;\n    });\n\n    this.points.style('fillColor', (nodeId, i) => colors[i]);\n    this.map.draw();\n  }\n\n  setPropertyColor (prop) {\n    const [low, high] = this.propMinMax(prop);\n\n    this.cmap = scaleSequential(interpolateViridis)\n      .domain([low, high]);\n\n    let colors = [];\n    this.dp.nodeNames().forEach((name, i) => {\n      const val = this.dp.nodeProperty(name, prop);\n\n      let color = this.cmap(val);\n      if (!color) {\n        color = '#ff0000';\n      }\n\n      colors[i] = color;\n    });\n\n    this.points.style('fillColor', (nodeId, i) => colors[i]);\n    this.map.draw();\n  }\n\n  setDiscoveryColor () {\n    this.cmap = scaleSequential(interpolateViridis)\n      .domain([1945, 2015]);\n\n    let colors = [];\n    this.dp.nodeNames().forEach((name, i) => {\n      const discovery = this.dp.nodeProperty(name, 'discovery');\n\n      let color;\n      if (discovery !== null) {\n        color = (this.cmap(discovery));\n      } else {\n        color = ('#de2d26');\n      }\n\n      colors.push(color);\n    });\n\n    this.points.style('fillColor', (nodeId, i) => colors[i]);\n    this.map.draw();\n  }\n\n  propMinMax (prop) {\n    const props = this.dp.nodeNames()\n      .map(name => this.dp.nodeProperty(name, prop))\n      .filter(d => d !== undefined);\n\n    return [\n      Math.min.apply(null, props),\n      Math.max.apply(null, props)\n    ];\n  }\n\n  setUndiscoveredColor (year) {\n    let colors = [];\n    this.dp.nodeNames().forEach((name, i) => {\n      const existsYet = this.dp.nodeExists(name) && this.dp.nodeProperty(name, 'discovery') <= year;\n      const color = existsYet ? 'rgb(81,96,204)' : '#de2d26';\n\n      colors[i] = color;\n    });\n\n    this.points.style('fillColor', (nodeId, i) => colors[i]);\n    this.map.draw();\n  }\n\n  render () {}\n  resize () {}\n  pick () {}\n  moveCamera () {}\n  clear () {}\n\n  get zoom () {\n    return this.map.zoom();\n  }\n\n  set zoom (zoom) {\n    this.map.zoom(zoom);\n  }\n}\n","export class DataProvider {\n  constructor () {\n    console.log('hi');\n  }\n}\n\nexport function computeGraph (edges) {\n  // Create a node index table.\n  let index = {};\n  let count = 0;\n  edges.forEach(e => {\n    // Create an entry if the node hasn't been seen yet.\n    e.forEach(n => {\n      if (!index.hasOwnProperty(n)) {\n        // Record the index.\n        index[n] = count++;\n      }\n    });\n  });\n\n  // Create a version of the edges list that has indices instead of names.\n  const edgeIndex = edges.map(e => e.map(n => index[n]));\n\n  return {\n    nodeIndex: index,\n    edgeIndex\n  };\n}\n\nexport class DiskDataProvider extends DataProvider {\n  constructor (nodes, edges) {\n    super();\n\n    this.nodes = nodes;\n    this.edges = edges;\n\n    const graph = computeGraph(edges);\n    this._nodeIndex = graph.nodeIndex;\n    this.edgeIndex = graph.edgeIndex;\n\n    this._names = Object.keys(this.nodes);\n    const bad = this._names.indexOf('value');\n    if (bad > -1) {\n      this._names = this._names.slice(0, bad).concat(this._names.slice(bad + 1));\n    }\n  }\n\n  edgeCount () {\n    return this.edges.length;\n  }\n\n  edgePosition (idx) {\n    const edge = this.edges[idx];\n\n    const val = [\n      this.nodes[edge[0]],\n      this.nodes[edge[1]]\n    ];\n\n    if (val[0] === undefined || val[1] === undefined) {\n      console.log(idx);\n      console.log(edge);\n      console.log(val);\n    }\n\n    return val;\n  }\n\n  edgeNodes (idx) {\n    const edge = this.edges[idx];\n    return edge;\n  }\n\n  nodeNames () {\n    return this._names;\n  }\n\n  nodePosition (name) {\n    const node = this.nodes[name];\n\n    return {\n      x: node.x,\n      y: node.y\n    };\n  }\n\n  nodeDegrees (year) {\n    let table = {};\n    const countEdge = (node, other) => {\n      if (!table.hasOwnProperty(node)) {\n        table[node] = 0;\n      }\n\n      const discovery = this.nodeProperty(other, 'discovery') || 2016;\n\n      if (this.nodeExists(other) && discovery <= year) {\n        table[node]++;\n      }\n    }\n\n    this.edges.forEach(edge => {\n      countEdge(edge[0], edge[1]);\n      countEdge(edge[1], edge[0]);\n    });\n\n    return table;\n  }\n\n  nodeIndex (name) {\n    return this._nodeIndex[name];\n  }\n\n  nodeProperty (name, prop) {\n    return this.nodes[name][prop];\n  }\n\n  nodeExists (name) {\n    return this.nodes[name].discovery !== null;\n  }\n\n  hasNode (name) {\n    return this.nodes[name] !== undefined;\n  }\n}\n","import React from 'react';\nimport {\n  Typography,\n  IconButton\n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nexport default function ({name, degree, discovery, formationEnergy, synthesisProbability, clusCoeff, eigenCent, degCent, shortestPath, degNeigh, onClear}) {\n  const hypothetical = discovery === null;\n\n  return (\n    <React.Fragment>\n      <IconButton style={{float: 'right'}} onClick={onClear}><CloseIcon/></IconButton>\n      <Typography gutterBottom variant=\"h4\">{`${name} (${hypothetical ? 'undiscovered' : discovery})`}</Typography>\n      <Typography gutterBottom variant=\"title\">\n        Material Properties\n      </Typography>\n\n      <React.Fragment>\n        <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n          Derived materials\n        </Typography>\n        <Typography  paragraph>\n          {degree}\n        </Typography>\n      </React.Fragment>\n\n      {formationEnergy &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Formation energy\n          </Typography>\n          <Typography  paragraph>\n            {formationEnergy.toFixed(3)} eV/atom\n          </Typography>\n        </React.Fragment>\n      }\n\n      {(hypothetical && synthesisProbability) &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Synthesis probability\n          </Typography>\n          <Typography  paragraph>\n            {(synthesisProbability * 100).toFixed(1)}%\n          </Typography>\n        </React.Fragment>\n      }\n\n      <Typography gutterBottom variant='title'>\n        Network Properties\n      </Typography>\n\n      {clusCoeff &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Clustering coefficient\n          </Typography>\n          <Typography  paragraph>\n            {clusCoeff.toFixed(3)}\n          </Typography>\n        </React.Fragment>\n      }\n\n      {eigenCent &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Eigenvector centrality\n          </Typography>\n          <Typography  paragraph>\n            {eigenCent.toFixed(3)}\n          </Typography>\n        </React.Fragment>\n      }\n\n      {degCent &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Degree centrality\n          </Typography>\n          <Typography  paragraph>\n            {degCent.toFixed(3)}\n          </Typography>\n        </React.Fragment>\n      }\n\n      {shortestPath &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Shortest path\n          </Typography>\n          <Typography  paragraph>\n            {shortestPath.toFixed(3)}\n          </Typography>\n        </React.Fragment>\n      }\n\n      {degNeigh &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Degree neighborhood\n          </Typography>\n          <Typography  paragraph>\n            {degNeigh.toFixed(3)}\n          </Typography>\n        </React.Fragment>\n      }\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport {\n  Typography,\n  IconButton\n} from '@material-ui/core';\n\nimport CloseIcon from '@material-ui/icons/Close';\n\nexport default function ({name, degree, discovery, formationEnergy, synthesisProbability, clusCoeff, eigenCent, degCent, shortestPath, degNeigh, onClear}) {\n  const hypothetical = discovery === null;\n\n  return (\n    <React.Fragment>\n      <IconButton style={{float: 'right'}} onClick={onClear}><CloseIcon/></IconButton>\n      <Typography gutterBottom variant=\"h4\">{`${name} (${hypothetical ? 'undiscovered' : discovery})`}</Typography>\n\n      <Typography gutterBottom variant=\"title\">\n        Material Properties\n      </Typography>\n\n      <React.Fragment>\n        <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n          Derived materials\n        </Typography>\n        <Typography  paragraph>\n          {degree}\n        </Typography>\n      </React.Fragment>\n\n      {formationEnergy &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Formation energy\n          </Typography>\n          <Typography  paragraph>\n            {formationEnergy.toFixed(3)} eV/atom\n          </Typography>\n        </React.Fragment>\n      }\n\n      {(hypothetical && synthesisProbability) &&\n        <React.Fragment>\n          <Typography gutterBottom variant=\"subheading\" color=\"textSecondary\">\n            Synthesis probability\n          </Typography>\n          <Typography  paragraph>\n            {(synthesisProbability * 100).toFixed(1)}%\n          </Typography>\n        </React.Fragment>\n      }\n\n    </React.Fragment>\n  );\n}\n","import React from 'react';\nimport {\n  Grid\n} from '@material-ui/core';\n\nexport default (props) => {\n  let {\n    children\n  } = props;\n\n  children = React.Children.toArray(children);\n\n  return (\n    <Grid container spacing={24}>\n      {children.map((child, i) => {\n        const gridsize = child.props.gridsize || {xs: 12}\n        return (\n          <Grid item key={i} {...gridsize}>\n            {child}\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n}\n","import React from 'react';\n\nimport match from 'autosuggest-highlight/match';\nimport parse from 'autosuggest-highlight/parse';\nimport Autosuggest from 'react-autosuggest';\n\nimport { deburr } from 'lodash-es';\n\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\n\nfunction renderInputComponent(inputProps) {\n  const { classes, inputRef = () => {}, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      fullWidth\n      InputProps={{\n        inputRef: node => {\n          ref(node);\n          inputRef(node);\n        },\n        classes: {\n          input: classes.input,\n        },\n      }}\n      {...other}\n    />\n  );\n}\n\nfunction renderSuggestion(suggestion, { query, isHighlighted }) {\n  const matches = match(suggestion.label, query);\n  const parts = parse(suggestion.label, matches);\n\n  return (\n    <MenuItem selected={isHighlighted} component=\"div\">\n      <div>\n        {parts.map((part, index) => {\n          return part.highlight ? (\n            <span key={String(index)} style={{ fontWeight: 500 }}>\n              {part.text}\n            </span>\n          ) : (\n            <strong key={String(index)} style={{ fontWeight: 300 }}>\n              {part.text}\n            </strong>\n          );\n        })}\n      </div>\n    </MenuItem>\n  );\n}\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    position: 'relative',\n  },\n  suggestionsContainerOpen: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  suggestion: {\n    display: 'block',\n  },\n  suggestionsList: {\n    margin: 0,\n    padding: 0,\n    listStyleType: 'none',\n  }\n});\n\nclass IntegrationAutosuggest extends React.Component {\n  state = {\n    suggestions: [],\n  };\n\n  handleSuggestionsFetchRequested = ({ value }) => {\n    this.setState({\n      suggestions: this.getSuggestions(value),\n    });\n  };\n\n  handleSuggestionsClearRequested = () => {\n    this.setState({\n      suggestions: [],\n    });\n  };\n\n  handleChange = name => (event, { newValue }) => {\n    this.setState({\n      [name]: newValue,\n    });\n  };\n\n  getSuggestions(value) {\n    const inputValue = deburr(value.trim()).toLowerCase();\n    const inputLength = inputValue.length;\n    const { maxItems } =  this.props;\n    let count = 0;\n\n    const matchFn = (suggestion) => {\n      if (count >= maxItems) {\n        return false;\n      }\n\n      const match = suggestion.label.toLowerCase().includes(inputValue);\n\n      if (match) {\n        count += 1;\n      }\n\n      return match;\n    }\n\n    return inputLength === 0\n      ? []\n      : this.props.options.filter(matchFn);\n  }\n\n  getSuggestionValue(suggestion) {\n    return suggestion.label;\n  }\n\n  render() {\n    const { classes, onChange, value, maxItems, label } = this.props;\n\n    const autosuggestProps = {\n      renderInputComponent,\n      suggestions: this.state.suggestions,\n      onSuggestionsFetchRequested: this.handleSuggestionsFetchRequested,\n      onSuggestionsClearRequested: this.handleSuggestionsClearRequested,\n      getSuggestionValue: this.getSuggestionValue,\n      renderSuggestion,\n    };\n\n    return (\n      <div className={classes.root}>\n        <Autosuggest\n          {...autosuggestProps}\n          inputProps={{\n            classes,\n            label,\n            placeholder: 'Search (e.g. NaCl)',\n            value: value,\n            onChange: onChange,\n            InputLabelProps: {\n              shrink: true,\n            },\n            inputRef: node => {\n              this.popperNode = node;\n            }\n          }}\n          theme={{\n            container: classes.container,\n            suggestionsContainerOpen: classes.suggestionsContainerOpen,\n            suggestionsList: classes.suggestionsList,\n            suggestion: classes.suggestion,\n          }}\n          renderSuggestionsContainer={options => (\n            <Popper anchorEl={this.popperNode} open={Boolean(options.children)} placement='bottom-start'>\n              <Paper\n                square\n                {...options.containerProps}\n                style={{ width: this.popperNode ? this.popperNode.clientWidth : null, height: '15rem', overflowY: 'scroll' }}\n              >\n                {options.children}\n                {(options.children && options.children.props.items.length === maxItems) &&\n                  <MenuItem disabled>...</MenuItem>\n                }\n              </Paper>\n            </Popper>\n          )}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(IntegrationAutosuggest);\n","import React, {Component} from 'react';\nimport {\n  FormControl,\n  Typography\n} from '@material-ui/core';\nimport { Slider} from '@material-ui/lab';\n\nclass SliderControlComponent extends Component {\n\n  render() {\n    const {\n      label,\n      value,\n      range,\n      step,\n      onChange,\n      digits,\n      children\n    } = this.props;\n\n    const child = children ? React.Children.only(children) : undefined;\n\n    const paddingRight = child ? 16 : 0;\n\n    return (\n      <FormControl fullWidth>\n        <Typography variant='caption'>\n          {label}\n        </Typography>\n        <div style={{display: 'flex', alignItems: 'center', width: '100%'}}>\n          <div>\n            {value.toFixed(Number.isInteger(digits) ? digits : 2)}\n          </div>\n          <div style={{flexGrow: 1, paddingLeft: 16, paddingRight}}>\n            <Slider\n              {...this.props}\n              min={range[0]} max={range[1]} step={step}\n              value={value}\n              onChange={(_e, val) => { onChange(val); }}\n            />\n          </div>\n          {child}\n        </div>\n      </FormControl>\n    );\n  }\n}\n\nexport default SliderControlComponent;\n","import React, {Component} from 'react';\nimport {\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel\n} from '@material-ui/core';\n\nimport { isString } from 'lodash-es';\n\nclass SelectControlComponent extends Component {\n\n  render() {\n    const {\n      label,\n      value,\n      options,\n      onChange\n    } = this.props;\n\n    let selectOptions = [];\n    for (let option of options) {\n      if (isString(option)) {\n        selectOptions.push(\n          <MenuItem key={option} value={option}>{option.replace('\\\\u002', '.')}</MenuItem>\n        );\n      } else if (Number.isFinite(option)) {\n        selectOptions.push(\n          <MenuItem key={option} value={option}>{option}</MenuItem>\n        );\n      } else {\n        const {label, value} = option;\n        selectOptions.push(\n          <MenuItem key={value} value={value}>{label.replace('\\\\u002', '.')}</MenuItem>\n        );\n      }\n    }\n\n    return (\n      <FormControl fullWidth>\n        <InputLabel>\n          {label}\n        </InputLabel>\n        <Select\n          value={value || \"\"}\n          onChange={(e) => {onChange(e.target.value)}}\n          inputProps={{name: 'select', id: 'select'}}\n        >\n          {selectOptions}\n        </Select>\n      </FormControl>\n    );\n  }\n}\n\nexport default SelectControlComponent;\n","import React, {Component} from 'react';\nimport {\n  FormControl,\n  FormControlLabel,\n  Checkbox\n} from '@material-ui/core';\n\nclass CheckboxControlComponent extends Component {\n\n  render() {\n    const {\n      label,\n      value,\n      onChange\n    } = this.props;\n\n    return (\n      <FormControl fullWidth>\n        <FormControlLabel\n          control={\n            <Checkbox\n              checked={value}\n              onChange={(_e, val) => {onChange(val);}}\n            />\n          }\n          label={label}\n        />\n      </FormControl>\n    );\n  }\n}\n\nexport default CheckboxControlComponent;\n","import React from 'react';\n\nimport {\n  Checkbox,\n  IconButton\n} from '@material-ui/core';\n\nimport { PlayArrow, Pause } from '@material-ui/icons';\n\nimport Grid from '../controls/grid';\nimport SearchControl from '../controls/search';\nimport SliderControl from '../controls/slider';\nimport SelectControl from '../controls/select';\nimport CheckboxControl from '../controls/checkbox';\n\nconst Controls = ({\n  dataset,\n  template,\n  zoom,\n  spacing,\n  opacity,\n  year,\n  search,\n  size,\n  color,\n  colorYear,\n  showLinks,\n  nightMode,\n  onValueChanged,\n  searchOptions,\n  toggleAutoplay\n}) => (\n  <Grid>\n    <SelectControl\n      {...dataset}\n      label={'Dataset'}\n      onChange={(val) => {onValueChanged(val, 'dataset')}}\n    />\n    <SelectControl\n      {...template}\n      label={'Template'}\n      onChange={(val) => {onValueChanged(val, 'template')}}\n    />\n    <SliderControl\n      {...zoom}\n      label={'Zoom'}\n      range={[zoom.min, zoom.max]}\n      onChange={(val) => {onValueChanged(val, 'zoom')}}\n    />\n    <SliderControl\n      {...opacity}\n      label={'Link opacity / display'}\n      disabled={!showLinks.value}\n      range={[opacity.min, opacity.max]}\n      onChange={(val) => {onValueChanged(val, 'opacity')}}\n    >\n      <Checkbox checked={showLinks.value} onChange={(_e, val) => {onValueChanged(val, 'showLinks')}}/>\n    </SliderControl>\n    <SliderControl\n      {...spacing}\n      label={'Node spacing'}\n      range={[spacing.min, spacing.max]}\n      onChange={(val) => {onValueChanged(val, 'spacing')}}\n    />\n    <SliderControl\n      {...year}\n      label={'Discovered before'}\n      range={[year.min, year.max]}\n      digits={0}\n      onChange={(val) => {onValueChanged(val, 'year')}}\n    >\n      <IconButton\n        onClick={toggleAutoplay}\n      >\n        { year.play ? <Pause/> : <PlayArrow/>}\n      </IconButton>\n    </SliderControl>\n    <SearchControl\n      label={'Search'}\n      options={searchOptions}\n      value={search.value}\n      maxItems={20}\n      onChange={(_e, val) => {onValueChanged(val.newValue, 'search')}}\n    />\n    <SelectControl\n      {...size}\n      label={'Node size'}\n      onChange={(val) => {onValueChanged(val, 'size')}}\n    />\n    <SelectControl\n      {...color}\n      label={'Node color'}\n      onChange={(val) => {onValueChanged(val, 'color')}}\n    />\n    <SliderControl\n      {...colorYear}\n      label={'Color year'}\n      range={[colorYear.min, colorYear.max]}\n      digits={0}\n      disabled={color.value !== 'undiscovered'}\n      onChange={(val) => {onValueChanged(val, 'colorYear')}}\n    />\n    <CheckboxControl\n      label=\"Night mode\"\n      value={nightMode.value}\n      onChange={(val) => {onValueChanged(val, 'nightMode')}}\n    />\n  </Grid>\n)\n\nexport default Controls;\n","/***\n Taken from: https://github.com/ionic-team/ionic-react-conference-app/blob/master/src/utils/stencil.js\n \nThis function is meant to make it easier to use Props and Custom Events with Custom\nElements in React.\n<ion-segment\n  value={props.filterFavorites}\n  ionChange={(e) => props.updateFavoriteFilter(e.target.value)}\n>\n</ion-segment>\n     <<< SHOULD BE WRITTEN AS >>>\n<ion-segment\n  value={props.filterFavorites}\n  ref={wc({\n    ionChange: (e) => props.updateFavoriteFilter(e.target.value)\n  })}\n>\n</ion-segment>\n***/\n\nexport function wc(customEvents = {}, props = {}) {\n  let storedEl;\n\n  return function (el) {\n    Object.entries(customEvents).forEach(([name, value]) => {\n      // If we have an element then add event listeners\n      // otherwise remove the event listener\n      const action = (el) ? el.addEventListener : storedEl.removeEventListener;\n      if (typeof value === 'function') {\n        action(name, value);\n        return;\n      }\n    });\n    // If we have an element then set props\n    if (el) {\n      Object.entries(props).forEach(([name, value]) => {\n        el[name] = value;\n      });\n    }\n    storedEl = el;\n  };\n}\n","import React from 'react';\n\nimport { wc } from '../../utils/webcomponents.js';\n\nconst Structure = ({cjson}) => (\n  <oc-molecule\n    ref={wc(\n      // Events\n      {},\n      // Props\n      {\n        cjson\n      }\n    )}\n  />\n);\n\nexport default Structure;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  Paper\n} from '@material-ui/core';\n\nimport ResizeObserver from 'resize-observer-polyfill';\n\nimport { fetchStructure } from '../../rest';\n\nimport InfoPanel from './info-panel';\n\nimport { sortStringsLength } from './sort';\n\nimport { SceneManager } from '../../scene-manager';\nimport { GeoJSSceneManager } from '../../geojs-scene-manager';\nimport { DiskDataProvider } from '../../data-provider';\n\nimport * as templates from '../../templates';\n\nimport Controls from './controls';\nimport Structure from './structure';\n\nclass GraphVisComponent extends Component {\n  visElement;\n  scene;\n  data;\n  dragging = {\n    status: false,\n    start: {x: 0, y: 0}\n  }\n  ro;\n\n  constructor(props) {\n    super(props);\n\n    this.sceneSetters = {\n      zoom: (val) => { this.scene.zoom = val; },\n      spacing: (val) => { this.scene.expand(val); },\n      year: (val) => {\n        this.scene.hideAfter(val);\n        if (this.props.size.value !== 'none') {\n          this.scene.setDegreeSize(this.props.year.value, this.props.size.value);\n        }\n      },\n      opacity: (val) => { this.scene.setLinkOpacity(val); },\n      search: (val) => {\n        const obj = this.scene.pickName(val);\n        if (obj) {\n          this.scene.display(val, true);\n        } else {\n          this.scene.undisplay();\n          this.onValueChanged(null, 'selected');\n          this.onValueChanged(null, 'structure');\n        }\n      },\n      showLinks: (val) => { this.scene.linksVisible(val); },\n      nightMode: (val) => { this.scene.setNightMode(val); },\n      size: (val) => { this.scene.setDegreeSize(this.props.year.value, val); },\n      color: (val) => {\n        switch (val) {\n          case 'none':\n            this.scene.setConstColor();\n            break;\n\n          case 'boolean':\n            this.scene.setBooleanColor();\n            break;\n\n          case 'discovery':\n            this.scene.setDiscoveryColor();\n            break;\n\n          case 'undiscovered':\n            this.scene.setUndiscoveredColor(this.props.colorYear.value);\n            break;\n\n          default:\n            this.scene.setPropertyColor(val);\n        }\n      },\n      colorYear: (val) => {\n        switch (this.props.color.value) {\n          case 'boolean':\n            this.scene.setBooleanColor();\n            break;\n\n          case 'discovery':\n            this.scene.setDiscoveryColor();\n            break;\n\n          case 'undiscovered':\n            this.scene.setUndiscoveredColor(val);\n            break;\n\n          case 'none':\n            this.scene.setConstColor();\n            break;\n\n          default:\n            throw new Error(`impossible colormap option: ${val}`);\n        }\n      }\n    }\n  }\n\n  componentDidMount() {\n    const { edges, nodes } = this.props;\n    this.data = new DiskDataProvider(nodes, edges);\n    this.searchOptions = this.data.nodeNames().slice().sort(sortStringsLength).map(val=>({label: val}));\n    this.scene = new GeoJSSceneManager({\n      el: this.visElement,\n      dp: this.data,\n      onValueChanged: this.onValueChanged,\n      picked: (data) => {\n        this.selectNode(data);\n      },\n    });\n\n    this.setDefaults();\n\n    const animate = (e) => {\n      this.scene.render();\n      window.requestAnimationFrame(animate);\n    }\n\n    window.requestAnimationFrame(animate);\n\n    this.ro = new ResizeObserver(() => {\n      this.scene.resize();\n    });\n\n    this.ro.observe(this.visElement);\n  }\n\n  componentDidUpdate() {\n    const { selected } = this.props;\n    if (selected.value) {\n      this.renderInfo();\n    } else {\n      this.renderControls();\n    }\n  }    \n\n  componentWillUnmount() {\n    if (this.ro) {\n      this.ro.unobserve(this.visElement);\n    }\n  }\n\n  setDefaults() {\n    for (let key in this.props) {\n      if (this.props[key] && this.props[key].value ){\n        const value = this.props[key].value;\n        if (key !== 'colorYear' || ['discovery', 'boolean', 'undiscovered'].indexOf(value) !== -1) {\n          this.onValueChanged(value, key);\n        }\n      }\n    }\n  }\n\n  onValueChanged = (value, key) => {\n    if (key in this.props) {\n      if (this.props.update) {\n        this.props.update(value, key);\n      }\n    }\n    if (key in this.sceneSetters) {\n      this.sceneSetters[key](value);\n    }\n  }\n\n  selectNode (obj) {\n    const currentName = this.props.selected.value ? this.props.selected.value.name : '';\n    if (obj.name === currentName) {\n      this.scene.undisplay();\n      obj = null;\n    } else {\n      this.scene.display(obj.name);\n    }\n\n    this.onValueChanged(obj, 'selected');\n    this.onValueChanged(null, 'structure');\n\n    if (!obj) {\n      return;\n    }\n\n    fetchStructure(obj.name)\n    .then(cjson => {\n      if (cjson) {\n        this.onValueChanged(cjson, 'structure');\n      }\n    })\n  }\n\n  onVisDrag = (event) => {\n    event.preventDefault();\n    this.dragging.status = true;\n    this.dragging.start = {x: event.clientX, y: event.clientY};\n\n    const linksOn = this.props.showLinks.value;\n    if (linksOn) {\n      this.scene.linksVisible(false);\n    }\n\n    const mouseMoveListener = (e) => {\n      this.onDrag(e);\n    };\n\n    const mouseUpListener = () => {\n      window.removeEventListener('mousemove', mouseMoveListener);\n      window.removeEventListener('mouseup', mouseUpListener);\n\n      if (linksOn) {\n        this.scene.linksVisible(true);\n      }\n\n      setTimeout(() => {this.dragging.status = false;}, 50);\n    };\n\n    window.addEventListener('mousemove', mouseMoveListener);\n    window.addEventListener('mouseup', mouseUpListener);\n  }\n\n  toggleAutoplay = () => {\n    const {year} = this.props;\n    let interval = year.interval;\n    let play = !year.play;\n\n    if (year.play && year.interval) {\n      clearInterval(year.interval);\n      interval = null;\n    }\n\n    if (!year.play) {\n      interval = setInterval(() => {\n        const {year} = this.props;\n        let nextYear = year.value + 1;\n        if (year.value === year.max) {\n          nextYear = year.min;\n        }\n        this.onValueChanged(nextYear, 'year');\n      }, 1000);\n    }\n\n    this.props.setPlayState(play, interval);\n  }\n\n  onDrag = (e) => {\n    if (!this.dragging.status) {\n      return;\n    }\n    const dx = e.clientX - this.dragging.start.x;\n    const dy = e.clientY - this.dragging.start.y;\n    this.scene.moveCamera(dx, dy);\n    this.dragging.start = {x: e.clientX, y: e.clientY};\n  }\n\n  onClearSelection = () => {\n    this.scene.undisplay();\n    this.onValueChanged(null, 'selected');\n    this.onValueChanged(null, 'structure');\n  }\n\n  renderControls() {\n    const {\n      drawerRef,\n      dataset,\n      template,\n      zoom,\n      spacing,\n      opacity,\n      year,\n      search,\n      size,\n      color,\n      colorYear,\n      showLinks,\n      nightMode\n    } = this.props;\n    if (!drawerRef || !drawerRef.current) {\n      return;\n    }\n\n    const props = {\n      dataset,\n      template,\n      zoom,\n      spacing,\n      opacity,\n      year,\n      search,\n      size,\n      color,\n      colorYear,\n      showLinks,\n      nightMode,\n      searchOptions: this.searchOptions,\n      onValueChanged: this.onValueChanged,\n      toggleAutoplay: this.toggleAutoplay,\n    }\n\n    ReactDOM.render(<Controls {...props}/>, drawerRef.current);\n  }\n\n  renderInfo() {\n    const {\n      drawerRef,\n      selected,\n      template,\n      structure\n    } = this.props;\n\n    ReactDOM.render(\n      <React.Fragment>\n        <InfoPanel {...selected.value} onClear={this.onClearSelection} template={templates[template.value]} />\n        <div style={{width: '100%', height: '15rem'}}>\n          <Structure cjson={structure.value}/>\n        </div>\n      </React.Fragment>,\n      drawerRef.current\n    );\n\n  }\n\n  render() {\n    const {\n      nodes,\n      edges\n    } = this.props;\n\n    const dataChanged = this.datasetName !== this.props.dataset.value;\n    if (dataChanged) {\n      console.log('DATA CHANGED');\n      if (this.scene) {\n        this.scene.clear();\n\n        this.data = new DiskDataProvider(nodes, edges);\n\n        this.scene.initScene(this.data);\n        this.setDefaults();\n      }\n    }\n    this.datasetName = this.props.dataset.value;\n\n    return (\n      <div\n        style={{width: '100%', height: '100%'}}\n        ref={ref => {this.visElement = ref}}\n        draggable={true}\n        onDragStart={this.onVisDrag}\n      />\n    );\n  }\n}\n\nexport default GraphVisComponent;\n","export function fetchStructure(name) {\n  return fetch(`sample-data/structures/${name}.cjson`)\n    .then(async res => {\n      const text = await res.text();\n      let json;\n      try {\n        json = JSON.parse(text);\n      } catch (e) {\n        json = null;\n      }\n\n      return json;\n    });\n}\n","import React, { Component } from 'react';\n\nimport GraphVisComponent from '../../components/graph-vis';\n\nclass GraphVisContainer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      nodes: null,\n      edges: null,\n      dataset: {\n        value: 'precise',\n        options: [\n          {label: 'Precise', value: 'precise'},\n          {label: 'Precise - Gephi', value: 'precise-gephi'},\n          {label: 'Sample 1', value: 'sample1'},\n          {label: 'Sample 1 - Gephi', value: 'sample1-gephi'},\n          {label: 'Sample 2', value: 'sample2'},\n        ]\n      },\n      template: {\n        value: 'material',\n        options: [\n          {label: 'Material', value: 'material'},\n          {label: 'Minimal', value: 'minimal'}\n        ]\n      },\n      zoom: {\n        value: -2.3,\n        min: -3.75,\n        max: 3\n      },\n      spacing: {\n        value: 1,\n        min: 0.1,\n        max: 10\n      },\n      opacity: {\n        value: 0.01,\n        min: 0,\n        max: 0.1,\n        step: 0.001\n      },\n      year: {\n        value: 2016,\n        min: 1945,\n        max: 2016,\n        step: 1,\n        play: false,\n        interval: null\n      },\n      search: {\n        value: ''\n      },\n      color: {\n        value: 'discovery',\n        options: [\n          {label: 'None', value: 'none'},\n          {label: 'Year of discovery', value: 'discovery'},\n          {label: 'Discovered/Hypothetical', value: 'boolean'},\n          {label: 'Discovered/Undiscovered', value: 'undiscovered'},\n          {label: 'Formation Energy', value: 'formation_energy'},\n          {label: 'Synthesis Probability', value: 'synthesis_probability'},\n          {label: 'Clustering Coefficient', value: 'clus_coeff'},\n          {label: 'Eigenvector Centrality', value: 'eigen_cent'},\n          {label: 'Degree Centrality', value: 'deg_cent'},\n          {label: 'Shortest path', value: 'shortest_path'},\n          {label: 'Degree Neighborhood', value: 'deg_neigh'},\n        ]\n      },\n      colorYear: {\n        value: 2016,\n        min: 1945,\n        max: 2016,\n        step: 1\n      },\n      size: {\n        value: 'normal',\n        options: [\n          {label: 'None', value: 'none'},\n          {label: 'Degree', value: 'normal'},\n          {label: 'Degree - Large', value: 'large'},\n          {label: 'Degree - Huge', value: 'huge'}\n        ]\n      },\n      showLinks: {\n        value: false\n      },\n      nightMode: {\n        value: false\n      },\n      selected: {\n        value: null\n      },\n      structure: {\n        value: null\n      }\n    }\n  }\n\n  componentDidMount() {\n    this.update(this.state.dataset.value, 'dataset');\n  }\n\n  render() {\n    const {\n      nodes,\n      edges,\n      zoom,\n      dataset,\n      template,\n      spacing,\n      opacity,\n      year,\n      search,\n      size,\n      color,\n      colorYear,\n      showLinks,\n      nightMode,\n      selected,\n      structure\n    } = this.state;\n\n    const {\n      drawerRef\n    } = this.props;\n\n    if (nodes && edges) {\n      return (\n        <GraphVisComponent\n          update={this.update}\n          setPlayState={this.setPlayState}\n          nodes={nodes}\n          edges={edges}\n          dataset={dataset}\n          template={template}\n          zoom={zoom}\n          spacing={spacing}\n          opacity={opacity}\n          year={year}\n          search={search}\n          size={size}\n          color={color}\n          colorYear={colorYear}\n          showLinks={showLinks}\n          nightMode={nightMode}\n          selected={selected}\n          structure={structure}\n          drawerRef={drawerRef}\n        />\n      );\n    } else {\n      return (null);\n    }\n  }\n\n  update = (value, key) => {\n    if (!this.state) {\n      return;\n    }\n\n    if (key === 'dataset') {\n      const datafile = `sample-data/${value}.json`;\n      fetch(datafile).then(resp => resp.json())\n        .then(data => {\n          this.setState(state => {\n            state[key].value = value;\n            state.nodes = data.nodes;\n            state.edges = data.edges;\n\n            return state;\n          });\n        });\n    } else {\n      if (key in this.state) {\n        this.setState((state) => {\n          state[key]['value'] = value;\n          return state;\n        });\n      }\n    }\n  }\n\n  setPlayState = (play, interval) => {\n    this.setState((state, props) => {\n      state['year']['play'] = play;\n      state['year']['interval'] = interval;\n      return state;\n    });\n  }\n}\n\nexport default GraphVisContainer;\n","import React, { Component } from 'react';\n\nimport { AppBar, Toolbar, Button, Typography } from '@material-ui/core';\n\nimport logo from './logo.svg';\n\nclass Header extends Component {\n  render() {\n    return (\n      <AppBar color=\"default\" position=\"static\">\n        <Toolbar>\n          <Button color=\"inherit\" aria-label=\"Logo\" style={{marginRight: 9}}>\n            <img className='logo' src={logo} alt=\"logo\" />\n          </Button>\n          <Typography variant=\"h5\" color=\"inherit\" noWrap>\n            MaterialNet\n          </Typography>\n          <div style={{flex: 1}}>\n          </div>\n        </Toolbar>\n      </AppBar>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\n\nimport { withStyles, Drawer } from '@material-ui/core';\nimport { grey } from '@material-ui/core/colors';\nimport CssBaseline from '@material-ui/core/CssBaseline';\n\nimport GraphVis from './containers/graph-vis';\nimport Header from './components/header';\nimport './App.css';\n\nconst appStyles = theme => ({\n  root: {\n    width: '100%',\n    minHeight: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  drawerPaper: {\n    position: 'relative',\n    backgroundColor: grey['100'],\n    width: 360,\n    padding: theme.spacing.unit * 2,\n    overflowX: 'hidden'\n  },\n  body: {\n    display: 'flex',\n    flexGrow:1\n  },\n  contentContainer: {\n    flexGrow: 1,\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  content: {\n    flexGrow:1,\n    height: '100%'\n  },\n  footer: {\n  },\n  chris: {\n    height: '100%'\n  }\n})\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.drawerRef = React.createRef();\n  }\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <Header />\n        <div className={classes.body}>\n          <Drawer\n            variant='persistent'\n            open\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n          >\n            <div style={{width: '100%'}} ref={this.drawerRef}></div>\n          </Drawer>\n\n          <div className={classes.contentContainer}>\n            <div className={classes.content}>\n              <GraphVis drawerRef={this.drawerRef}></GraphVis>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(appStyles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { defineCustomElements as defineSplitMe } from 'split-me/dist/loader';\nimport { defineCustomElements as defineMolecule } from '@openchemistry/molecule';\ndefineSplitMe(window);\ndefineMolecule(window);\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}