(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{219:function(e,t,r){"use strict";r.d(t,"a",function(){return m}),r.d(t,"b",function(){return u}),r.d(t,"c",function(){return p}),r.d(t,"d",function(){return d}),r.d(t,"e",function(){return c}),r.d(t,"f",function(){return a}),r.d(t,"g",function(){return s}),r.d(t,"h",function(){return l});var n=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(t){i(t)}}function s(e){try{l(n.throw(e))}catch(t){i(t)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})},o=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},i=0;function a(e,t){var r=e.ownerDocument;(function(e){0===i&&(i=1,e.addEventListener("focusin",function(t){var r=l(e);if(r&&r.backdropDismiss&&!function(e,t){for(;t;){if(t===e)return!0;t=t.parentElement}return!1}(r,t.target)){var n=r.querySelector("input,button");n&&n.focus()}}),e.addEventListener("ionBackButton",function(t){var r=l(e);r&&r.backdropDismiss&&t.detail.register(100,function(){return r.dismiss(void 0,m)})}),e.addEventListener("keyup",function(t){if("Escape"===t.key){var r=l(e);r&&r.backdropDismiss&&r.dismiss(void 0,m)}}))})(r),Object.assign(e,t),e.classList.add("overlay-hidden");var n=i++;return e.overlayIndex=n,e.hasAttribute("id")||(e.id="ion-overlay-"+n),h(r).appendChild(e),e.componentOnReady()}function s(e,t,r,n,o){var i=l(e,n,o);return i?i.dismiss(t,r):Promise.reject("overlay does not exist")}function l(e,t,r){var n=function(e,t){var r=Array.from(h(e).children).filter(function(e){return e.overlayIndex>0});return void 0===t?r:(t=t.toUpperCase(),r.filter(function(e){return e.tagName===t}))}(e,t);return void 0===r?n[n.length-1]:n.find(function(e){return e.id===r})}function c(e,t,r,i,a){return n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return e.presented?[2]:(e.presented=!0,e.willPresent.emit(),n=e.enterAnimation?e.enterAnimation:e.config.get(t,"ios"===e.mode?r:i),[4,f(e,n,e.el,a)]);case 1:return o.sent()&&e.didPresent.emit(),[2]}})})}function u(e,t,r,i,a,s,l){return n(this,void 0,void 0,function(){var n,c;return o(this,function(o){switch(o.label){case 0:if(!e.presented)return[2,!1];e.presented=!1,o.label=1;case 1:return o.trys.push([1,3,,4]),e.willDismiss.emit({data:t,role:r}),n=e.leaveAnimation?e.leaveAnimation:e.config.get(i,"ios"===e.mode?a:s),[4,f(e,n,e.el,l)];case 2:return o.sent(),e.didDismiss.emit({data:t,role:r}),[3,4];case 3:return c=o.sent(),console.error(c),[3,4];case 4:return[2,(e.el.remove(),!0)]}})})}function h(e){return e.querySelector("ion-app")||e.body}function f(e,t,i,a){return n(this,void 0,void 0,function(){var n,s,l,c;return o(this,function(o){switch(o.label){case 0:return e.animation?[2,(e.animation.destroy(),e.animation=void 0,!1)]:(i.classList.remove("overlay-hidden"),n=i.shadowRoot||e.el,l=e,[4,r.e(34).then(r.bind(null,221)).then(function(e){return e.create(t,n,a)})]);case 1:return s=l.animation=o.sent(),e.animation=s,e.animated&&e.config.getBoolean("animated",!0)||s.duration(0),e.keyboardClose&&s.beforeAddWrite(function(){var e=i.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()}),[4,s.playAsync()];case 2:return o.sent(),c=s.hasCompleted,[2,(s.destroy(),e.animation=void 0,c)]}})})}function p(e,t){var r,n=new Promise(function(e){return r=e});return function(e,t,r){e.addEventListener(t,function n(o){e.removeEventListener(t,n),r(o)})}(e,t,function(e){r(e.detail)}),n}function d(e){return"cancel"===e||e===m}var m="backdrop"},255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__.d(__webpack_exports__,"IonActionSheetController",function(){return ActionSheetController}),__webpack_require__.d(__webpack_exports__,"IonAlertController",function(){return AlertController}),__webpack_require__.d(__webpack_exports__,"IonPopoverController",function(){return PopoverController}),__webpack_require__.d(__webpack_exports__,"OcMoleculeMoljs",function(){return MoleculeMoljs});var _molecule_core_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(95),_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(219),_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(220),__awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})},__generator=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ActionSheetController=function(){function e(){}return e.prototype.create=function(e){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.doc.createElement("ion-action-sheet"),e)},e.prototype.dismiss=function(e,t,r){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.doc,e,t,"ion-action-sheet",r)},e.prototype.getTop=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.doc,"ion-action-sheet")]})})},Object.defineProperty(e,"is",{get:function(){return"ion-action-sheet-controller"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}},enumerable:!0,configurable:!0}),e}(),AlertController=function(){function e(){}return e.prototype.create=function(e){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.doc.createElement("ion-alert"),e)},e.prototype.dismiss=function(e,t,r){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.doc,e,t,"ion-alert",r)},e.prototype.getTop=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.doc,"ion-alert")]})})},Object.defineProperty(e,"is",{get:function(){return"ion-alert-controller"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}},enumerable:!0,configurable:!0}),e}(),PopoverController=function(){function e(){}return e.prototype.create=function(e){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.f)(this.doc.createElement("ion-popover"),e)},e.prototype.dismiss=function(e,t,r){return Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.g)(this.doc,e,t,"ion-popover",r)},e.prototype.getTop=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,Object(_chunk_966f112c_js__WEBPACK_IMPORTED_MODULE_1__.h)(this.doc,"ion-popover")]})})},Object.defineProperty(e,"is",{get:function(){return"ion-popover-controller"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{create:{method:!0},dismiss:{method:!0},doc:{context:"document"},getTop:{method:!0}}},enumerable:!0,configurable:!0}),e}(),MapShim=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some(function(e,n){return e[0]===t&&(r=n,!0)}),r}return function(){function t(){this.__entries__=[]}var r={size:{configurable:!0}};return r.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r+=1){var o=n[r];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,r),t}()}(),isBrowser="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,global$1$1=void 0!==_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a&&_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a.Math===Math?_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),requestAnimationFrame$1="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(global$1$1):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},trailingTimeout=2,throttle=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&s()}function a(){requestAnimationFrame$1(i)}function s(){var e=Date.now();if(r){if(e-o<trailingTimeout)return;n=!0}else r=!0,n=!1,setTimeout(a,t);o=e}return s},REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported="undefined"!=typeof MutationObserver,ResizeObserverController=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)};ResizeObserverController.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},ResizeObserverController.prototype.connect_=function(){isBrowser&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){isBrowser&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),transitionKeys.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null;var defineConfigurable=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r+=1){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},getWindowOf=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||global$1$1},emptyRect=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return t.reduce(function(t,r){return t+toFloat(e["border-"+r+"-width"])},0)}function getPaddings(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r+=1){var o=n[r],i=e["padding-"+o];t[o]=toFloat(i)}return t}function getSVGContentRect(e){var t=e.getBBox();return createRectInit(0,0,t.width,t.height)}function getHTMLElementContentRect(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return emptyRect;var n=getWindowOf(e).getComputedStyle(e),o=getPaddings(n),i=o.left+o.right,a=o.top+o.bottom,s=toFloat(n.width),l=toFloat(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=getBordersSize(n,"left","right")+i),Math.round(l+a)!==r&&(l-=getBordersSize(n,"top","bottom")+a)),!isDocumentElement(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return createRectInit(o.left,o.top,s,l)}var isSVGGraphicsElement="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof getWindowOf(e).SVGGraphicsElement}:function(e){return e instanceof getWindowOf(e).SVGElement&&"function"==typeof e.getBBox};function isDocumentElement(e){return e===getWindowOf(e).document.documentElement}function getContentRect(e){return isBrowser?isSVGGraphicsElement(e)?getSVGContentRect(e):getHTMLElementContentRect(e):emptyRect}function createReadOnlyRect(e){var t=e.x,r=e.y,n=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return defineConfigurable(a,{x:t,y:r,width:n,height:o,top:r,right:t+n,bottom:o+r,left:t}),a}function createRectInit(e,t,r,n){return{x:e,y:t,width:r,height:n}}var ResizeObservation=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e};ResizeObservation.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var ResizeObserverEntry=function(e,t){var r=createReadOnlyRect(t);defineConfigurable(this,{target:e,contentRect:r})},ResizeObserverSPI=function(e,t,r){if(this.activeObservations_=[],this.observations_=new MapShim,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r};ResizeObserverSPI.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new ResizeObservation(e)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new ResizeObserverEntry(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0};var observers="undefined"!=typeof WeakMap?new WeakMap:new MapShim,ResizeObserver=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=ResizeObserverController.getInstance(),n=new ResizeObserverSPI(t,r,this);observers.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){ResizeObserver.prototype[e]=function(){return(t=observers.get(this))[e].apply(t,arguments);var t}});var index=void 0!==global$1$1.ResizeObserver?global$1$1.ResizeObserver:ResizeObserver,commonjsGlobal="undefined"!=typeof window?window:void 0!==_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a?_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a:"undefined"!=typeof self?self:{};function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var jquery=createCommonjsModule(function(e){var t,r;t="undefined"!=typeof window?window:commonjsGlobal,r=function(e,t){var r=[],n=e.document,o=Object.getPrototypeOf,i=r.slice,a=r.concat,s=r.push,l=r.indexOf,c={},u=c.toString,h=c.hasOwnProperty,f=h.toString,p=f.call(Object),d={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},g=function(e){return null!=e&&e===e.window},v={type:!0,src:!0,noModule:!0};function y(e,t,r){var o,i=(t=t||n).createElement("script");if(i.text=e,r)for(o in v)r[o]&&(i[o]=r[o]);t.head.appendChild(i).parentNode.removeChild(i)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[u.call(e)]||"object":typeof e}var _=function e(t,r){return new e.fn.init(t,r)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(e){var t=!!e&&"length"in e&&e.length,r=b(e);return!m(e)&&!g(e)&&("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:"3.3.1",constructor:_,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},_.extend=_.fn.extend=function(){var e,t,r,n,o,i,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=a[t],a!==(n=e[t])&&(c&&n&&(_.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,i=r&&Array.isArray(r)?r:[]):i=r&&_.isPlainObject(r)?r:{},a[t]=_.extend(c,i,n)):void 0!==n&&(a[t]=n));return a},_.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==u.call(e)||(t=o(e))&&("function"!=typeof(r=h.call(t,"constructor")&&t.constructor)||f.call(r)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var r,n=0;if(w(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(w(Object(e))?_.merge(r,"string"==typeof e?[e]:e):s.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:l.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,r){for(var n=[],o=0,i=e.length,a=!r;o<i;o++)!t(e[o],o)!==a&&n.push(e[o]);return n},map:function(e,t,r){var n,o,i=0,s=[];if(w(e))for(n=e.length;i<n;i++)null!=(o=t(e[i],i,r))&&s.push(o);else for(i in e)null!=(o=t(e[i],i,r))&&s.push(o);return a.apply([],s)},guid:1,support:d}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=r[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var A=function(e){var t,r,n,o,i,a,s,l,c,u,h,f,p,d,m,g,v,y,b,_="sizzle"+1*new Date,x=e.document,w=0,A=0,$=ae(),D=ae(),C=ae(),S=function(e,t){return e===t&&(h=!0),0},T={}.hasOwnProperty,M=[],R=M.pop,L=M.push,E=M.push,I=M.slice,O=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+j+"*("+z+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+j+"*\\]",k=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",N=new RegExp(j+"+","g"),G=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),B=new RegExp("^"+j+"*,"+j+"*"),U=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),W=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),V=new RegExp(k),H=new RegExp("^"+z+"$"),q={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+k),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Q=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),ee=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){f()},oe=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{E.apply(M=I.call(x.childNodes),x.childNodes),M[x.childNodes.length].nodeType}catch(e){E={apply:M.length?function(e,t){L.apply(e,I.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function ie(e,t,n,o){var i,s,c,u,h,d,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n;if(!o&&((t?t.ownerDocument||t:x)!==p&&f(t),t=t||p,m)){if(11!==w&&(h=Z.exec(e)))if(i=h[1]){if(9===w){if(!(c=t.getElementById(i)))return n;if(c.id===i)return n.push(c),n}else if(y&&(c=y.getElementById(i))&&b(t,c)&&c.id===i)return n.push(c),n}else{if(h[2])return E.apply(n,t.getElementsByTagName(e)),n;if((i=h[3])&&r.getElementsByClassName&&t.getElementsByClassName)return E.apply(n,t.getElementsByClassName(i)),n}if(r.qsa&&!C[e+" "]&&(!g||!g.test(e))){if(1!==w)y=t,v=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,re):t.setAttribute("id",u=_),s=(d=a(e)).length;s--;)d[s]="#"+u+" "+ve(d[s]);v=d.join(","),y=J.test(e)&&me(t.parentNode)||t}if(v)try{return E.apply(n,y.querySelectorAll(v)),n}catch(e){}finally{u===_&&t.removeAttribute("id")}}}return l(e.replace(G,"$1"),t,n,o)}function ae(){var e=[];return function t(r,o){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=o}}function se(e){return e[_]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var r=e.split("|"),o=r.length;o--;)n.attrHandle[r[o]]=t}function ue(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&oe(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se(function(t){return t=+t,se(function(r,n){for(var o,i=e([],r.length,t),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=ie.support={},i=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=ie.setDocument=function(e){var t,o,a=e?e.ownerDocument||e:x;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,m=!i(p),x!==p&&(o=p.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",ne,!1):o.attachEvent&&o.attachEvent("onunload",ne)),r.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),r.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=K.test(p.getElementsByClassName),r.getById=le(function(e){return d.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),r.getById?(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r=t.getElementById(e);return r?[r]:[]}}):(n.filter.ID=function(e){var t=e.replace(Q,ee);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var r,n,o,i=t.getElementById(e);if(i){if((r=i.getAttributeNode("id"))&&r.value===e)return[i];for(o=t.getElementsByName(e),n=0;i=o[n++];)if((r=i.getAttributeNode("id"))&&r.value===e)return[i]}return[]}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;r=i[o++];)1===r.nodeType&&n.push(r);return n}return i},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],r.qsa=K.test(p.querySelectorAll),r.matchesSelector=K.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(d.compareDocumentPosition),b=t||K.test(d.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return h=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===x&&b(x,e)?-1:t===p||t.ownerDocument===x&&b(x,t)?1:u?O(u,e)-O(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0;var r,n=0,o=e.parentNode,i=t.parentNode,a=[e],s=[t];if(!o||!i)return e===p?-1:t===p?1:o?-1:i?1:u?O(u,e)-O(u,t):0;if(o===i)return ue(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;a[n]===s[n];)n++;return n?ue(a[n],s[n]):a[n]===x?-1:s[n]===x?1:0},p):p},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(W,"='$1']"),r.matchesSelector&&m&&!C[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=y.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ie(t,p,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var o=n.attrHandle[t.toLowerCase()],i=o&&T.call(n.attrHandle,t.toLowerCase())?o(e,t,!m):void 0;return void 0!==i?i:r.attributes||!m?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ie.escape=function(e){return(e+"").replace(te,re)},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,n=[],o=0,i=0;if(h=!r.detectDuplicates,u=!r.sortStable&&e.slice(0),e.sort(S),h){for(;t=e[i++];)t===e[i]&&(o=n.push(i));for(;o--;)e.splice(n[o],1)}return u=null,e},o=ie.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=o(t);return r},(n=ie.selectors={cacheLength:50,createPseudo:se,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Q,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Q,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&V.test(r)&&(t=a(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Q,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(n){var o=ie.attr(n,e);return null==o?"!="===t:!t||(o+="","="===t?o===r:"!="===t?o!==r:"^="===t?r&&0===o.indexOf(r):"*="===t?r&&o.indexOf(r)>-1:"$="===t?r&&o.slice(-r.length)===r:"~="===t?(" "+o.replace(N," ")+" ").indexOf(r)>-1:"|="===t&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,r,l){var c,u,h,f,p,d,m=i!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(g){if(i){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&y){for(b=(p=(c=(u=(h=(f=g)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){u[e]=[w,p,b];break}}else if(y&&(b=p=(c=(u=(h=(f=t)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++b||(y&&((u=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[w,b]),f!==t)););return(b-=o)===n||b%n==0&&b/n>=0}}},PSEUDO:function(e,t){var r,o=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return o[_]?o(t):o.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,r){for(var n,i=o(e,t),a=i.length;a--;)e[n=O(e,i[a])]=!(r[n]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:se(function(e){var t=[],r=[],n=s(e.replace(G,"$1"));return n[_]?se(function(e,t,r,o){for(var i,a=n(e,null,o,[]),s=e.length;s--;)(i=a[s])&&(e[s]=!(t[s]=i))}):function(e,o,i){return t[0]=e,n(t,null,i,r),t[0]=null,!r.pop()}}),has:se(function(e){return function(t){return ie(e,t).length>0}}),contains:se(function(e){return e=e.replace(Q,ee),function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:se(function(e){return H.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(Q,ee).toLowerCase(),function(t){var r;do{if(r=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,r){return[r<0?r+t:r]}),even:de(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:de(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:de(function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e}),gt:de(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=fe(t);function ge(){}function ve(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ye(e,t,r){var n=t.dir,o=t.next,i=o||n,a=r&&"parentNode"===i,s=A++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||a)return e(t,r,o);return!1}:function(t,r,l){var c,u,h,f=[w,s];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,r,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(u=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),o&&o===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=u[i])&&c[0]===w&&c[1]===s)return f[2]=c[2];if(u[i]=f,f[2]=e(t,r,l))return!0}return!1}}function be(e){return e.length>1?function(t,r,n){for(var o=e.length;o--;)if(!e[o](t,r,n))return!1;return!0}:e[0]}function _e(e,t,r,n,o){for(var i,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(i=e[s])&&(r&&!r(i,n,o)||(a.push(i),c&&t.push(s)));return a}function xe(e,t,r,n,o,i){return n&&!n[_]&&(n=xe(n)),o&&!o[_]&&(o=xe(o,i)),se(function(i,a,s,l){var c,u,h,f=[],p=[],d=a.length,m=i||function(e,t,r){for(var n=0,o=t.length;n<o;n++)ie(e,t[n],r);return r}(t||"*",s.nodeType?[s]:s,[]),g=!e||!i&&t?m:_e(m,f,e,s,l),v=r?o||(i?e:d||n)?[]:a:g;if(r&&r(g,v,s,l),n)for(c=_e(v,p),n(c,[],s,l),u=c.length;u--;)(h=c[u])&&(v[p[u]]=!(g[p[u]]=h));if(i){if(o||e){if(o){for(c=[],u=v.length;u--;)(h=v[u])&&c.push(g[u]=h);o(null,v=[],c,l)}for(u=v.length;u--;)(h=v[u])&&(c=o?O(i,h):f[u])>-1&&(i[c]=!(a[c]=h))}}else v=_e(v===a?v.splice(d,v.length):v),o?o(null,a,v,l):E.apply(a,v)})}function we(e){for(var t,r,o,i=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,u=ye(function(e){return e===t},s,!0),h=ye(function(e){return O(t,e)>-1},s,!0),f=[function(e,r,n){var o=!a&&(n||r!==c)||((t=r).nodeType?u(e,r,n):h(e,r,n));return t=null,o}];l<i;l++)if(r=n.relative[e[l].type])f=[ye(be(f),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(o=++l;o<i&&!n.relative[e[o].type];o++);return xe(l>1&&be(f),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(G,"$1"),r,l<o&&we(e.slice(l,o)),o<i&&we(e=e.slice(o)),o<i&&ve(e))}f.push(r)}return be(f)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,a=ie.tokenize=function(e,t){var r,o,i,a,s,l,c,u=D[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=n.preFilter;s;){for(a in r&&!(o=B.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=U.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(G," ")}),s=s.slice(r.length)),n.filter)!(o=q[a].exec(s))||c[a]&&!(o=c[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return t?s.length:s?ie.error(e):D(e,l).slice(0)},s=ie.compile=function(e,t){var r,o=[],i=[],s=C[e+" "];if(!s){for(t||(t=a(e)),r=t.length;r--;)(s=we(t[r]))[_]?o.push(s):i.push(s);(s=C(e,function(e,t){var r=t.length>0,o=e.length>0,i=function(e){function t(t,r,n,o,i){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(i,a,s,l,u){var h,d,g,v=0,y="0",b=i&&[],_=[],x=c,A=i||o&&n.find.TAG("*",u),$=w+=null==x?1:Math.random()||.1,D=A.length;for(u&&(c=a===p||a||u);y!==D&&null!=(h=A[y]);y++){if(o&&h){for(d=0,a||h.ownerDocument===p||(f(h),s=!m);g=e[d++];)if(g(h,a||p,s)){l.push(h);break}u&&(w=$)}r&&((h=!g&&h)&&v--,i&&b.push(h))}if(v+=y,r&&y!==v){for(d=0;g=t[d++];)g(b,_,a,s);if(i){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=R.call(l));_=_e(_)}E.apply(l,_),u&&!i&&_.length>0&&v+t.length>1&&ie.uniqueSort(l)}return u&&(w=$,c=x),b});return r?se(i):i}(i,o))).selector=e}return s},l=ie.select=function(e,t,r,o){var i,l,c,u,h,f="function"==typeof e&&e,p=!o&&a(e=f.selector||e);if(r=r||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(Q,ee),t)||[])[0]))return r;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(i=q.needsContext.test(e)?0:l.length;i--&&(c=l[i],!n.relative[u=c.type]);)if((h=n.find[u])&&(o=h(c.matches[0].replace(Q,ee),J.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(i,1),!(e=o.length&&ve(l)))return E.apply(r,o),r;break}}return(f||s(e,p))(o,t,!m,r,!t||J.test(e)&&me(t.parentNode)||t),r},r.sortStable=_.split("").sort(S).join("")===_,r.detectDuplicates=!!h,f(),r.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),r.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(P,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ie}(e);_.find=A,_.expr=A.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=A.uniqueSort,_.text=A.getText,_.isXMLDoc=A.isXML,_.contains=A.contains,_.escapeSelector=A.escape;var $=function(e,t,r){for(var n=[],o=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&_(e).is(r))break;n.push(e)}return n},D=function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r},C=_.expr.match.needsContext;function S(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,r){return m(t)?_.grep(e,function(e,n){return!!t.call(e,n,e)!==r}):t.nodeType?_.grep(e,function(e){return e===t!==r}):"string"!=typeof t?_.grep(e,function(e){return l.call(t,e)>-1!==r}):_.filter(t,e,r)}_.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_.find.matchesSelector(n,e)?[n]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,r,n=this.length,o=this;if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<n;t++)if(_.contains(o[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)_.find(e,o[t],r);return n>1?_.uniqueSort(r):r},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&C.test(e)?_(e):e||[],!1).length}});var R,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,r){var o,i;if(!e)return this;if(r=r||R,"string"==typeof e){if(!(o="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!o[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(o[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),T.test(o[1])&&_.isPlainObject(t))for(o in t)m(this[o])?this[o](t[o]):this.attr(o,t[o]);return this}return(i=n.getElementById(o[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==r.ready?r.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,R=_(n);var E=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,o=this.length,i=[],a="string"!=typeof e&&_(e);if(!C.test(e))for(;n<o;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&_.find.matchesSelector(r,e))){i.push(r);break}return this.pushStack(i.length>1?_.uniqueSort(i):i)},index:function(e){return e?"string"==typeof e?l.call(_(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return $(e,"parentNode")},parentsUntil:function(e,t,r){return $(e,"parentNode",r)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return $(e,"nextSibling")},prevAll:function(e){return $(e,"previousSibling")},nextUntil:function(e,t,r){return $(e,"nextSibling",r)},prevUntil:function(e,t,r){return $(e,"previousSibling",r)},siblings:function(e){return D((e.parentNode||{}).firstChild,e)},children:function(e){return D(e.firstChild)},contents:function(e){return S(e,"iframe")?e.contentDocument:(S(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(e,t){_.fn[e]=function(r,n){var o=_.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=_.filter(n,o)),this.length>1&&(I[e]||_.uniqueSort(o),E.test(e)&&o.reverse()),this.pushStack(o)}});var P=/[^\x20\t\r\n\f]+/g;function j(e){return e}function z(e){throw e}function F(e,t,r,n){var o;try{e&&m(o=e.promise)?o.call(e).done(t).fail(r):e&&m(o=e.then)?o.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return _.each(e.match(P)||[],function(e,r){t[r]=!0}),t}(e):_.extend({},e);var t,r,n,o,i=[],a=[],s=-1,l=function(){for(o=o||e.once,n=t=!0;a.length;s=-1)for(r=a.shift();++s<i.length;)!1===i[s].apply(r[0],r[1])&&e.stopOnFalse&&(s=i.length,r=!1);e.memory||(r=!1),t=!1,o&&(i=r?[]:"")},c={add:function(){return i&&(r&&!t&&(s=i.length-1,a.push(r)),function t(r){_.each(r,function(r,n){m(n)?e.unique&&c.has(n)||i.push(n):n&&n.length&&"string"!==b(n)&&t(n)})}(arguments),r&&!t&&l()),this},remove:function(){return _.each(arguments,function(e,t){for(var r;(r=_.inArray(t,i,r))>-1;)i.splice(r,1),r<=s&&s--}),this},has:function(e){return e?_.inArray(e,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=r="",this},disabled:function(){return!i},lock:function(){return o=a=[],r||t||(i=r=""),this},locked:function(){return!!o},fireWith:function(e,r){return o||(r=[e,(r=r||[]).slice?r.slice():r],a.push(r),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},_.extend({Deferred:function(t){var r=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var e=arguments;return _.Deferred(function(t){_.each(r,function(r,n){var o=m(e[n[4]])&&e[n[4]];i[n[1]](function(){var e=o&&o.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,o?[e]:arguments)})}),e=null}).promise()},then:function(t,n,o){var i=0;function a(t,r,n,o){return function(){var s=this,l=arguments,c=function(){var e,c;if(!(t<i)){if((e=n.apply(s,l))===r.promise())throw new TypeError("Thenable self-resolution");c=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(c)?o?c.call(e,a(i,r,j,o),a(i,r,z,o)):(i++,c.call(e,a(i,r,j,o),a(i,r,z,o),a(i,r,j,r.notifyWith))):(n!==j&&(s=void 0,l=[e]),(o||r.resolveWith)(s,l))}},u=o?c:function(){try{c()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,u.stackTrace),t+1>=i&&(n!==z&&(s=void 0,l=[e]),r.rejectWith(s,l))}};t?u():(_.Deferred.getStackHook&&(u.stackTrace=_.Deferred.getStackHook()),e.setTimeout(u))}}return _.Deferred(function(e){r[0][3].add(a(0,e,m(o)?o:j,e.notifyWith)),r[1][3].add(a(0,e,m(t)?t:j)),r[2][3].add(a(0,e,m(n)?n:z))}).promise()},promise:function(e){return null!=e?_.extend(e,o):o}},i={};return _.each(r,function(e,t){var a=t[2],s=t[5];o[t[1]]=a.add,s&&a.add(function(){n=s},r[3-e][2].disable,r[3-e][3].disable,r[0][2].lock,r[0][3].lock),a.add(t[3].fire),i[t[0]]=function(){return i[t[0]+"With"](this===i?void 0:this,arguments),this},i[t[0]+"With"]=a.fireWith}),o.promise(i),t&&t.call(i,i),i},when:function(e){var t=arguments.length,r=t,n=Array(r),o=i.call(arguments),a=_.Deferred(),s=function(e){return function(r){n[e]=this,o[e]=arguments.length>1?i.call(arguments):r,--t||a.resolveWith(n,o)}};if(t<=1&&(F(e,a.done(s(r)).resolve,a.reject,!t),"pending"===a.state()||m(o[r]&&o[r].then)))return a.then();for(;r--;)F(o[r],s(r),a.reject);return a.promise()}});var k=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;_.Deferred.exceptionHook=function(t,r){e.console&&e.console.warn&&t&&k.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,r)},_.readyException=function(t){e.setTimeout(function(){throw t})};var N=_.Deferred();function G(){n.removeEventListener("DOMContentLoaded",G),e.removeEventListener("load",G),_.ready()}_.fn.ready=function(e){return N.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||N.resolveWith(n,[_]))}}),_.ready.then=N.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(_.ready):(n.addEventListener("DOMContentLoaded",G),e.addEventListener("load",G));var B=function e(t,r,n,o,i,a,s){var l=0,c=t.length,u=null==n;if("object"===b(n))for(l in i=!0,n)e(t,r,l,n[l],!0,a,s);else if(void 0!==o&&(i=!0,m(o)||(s=!0),u&&(s?(r.call(t,o),r=null):(u=r,r=function(e,t,r){return u.call(_(e),r)})),r))for(;l<c;l++)r(t[l],n,s?o:o.call(t[l],l,r(t[l],n)));return i?t:u?r.call(t):c?r(t[0],n):a},U=/^-ms-/,W=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function H(e){return e.replace(U,"ms-").replace(W,V)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=_.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,o=this.cache(e);if("string"==typeof t)o[H(t)]=r;else for(n in t)o[H(n)]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][H(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(H):(t=H(t))in n?[t]:t.match(P)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||_.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!_.isEmptyObject(t)}};var X=new Y,K=new Y,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Q(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(J,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}(r)}catch(e){}K.set(e,t,r)}else r=void 0;return r}_.extend({hasData:function(e){return K.hasData(e)||X.hasData(e)},data:function(e,t,r){return K.access(e,t,r)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,r){return X.access(e,t,r)},_removeData:function(e,t){X.remove(e,t)}}),_.fn.extend({data:function(e,t){var r,n,o,i=this[0],a=i&&i.attributes;if(void 0===e){if(this.length&&(o=K.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(r=a.length;r--;)a[r]&&0===(n=a[r].name).indexOf("data-")&&(n=H(n.slice(5)),Q(i,n,o[n]));X.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){K.set(this,e)}):B(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=K.get(i,e))?r:void 0!==(r=Q(i,e))?r:void 0;this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),_.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=X.get(e,t),r&&(!n||Array.isArray(r)?n=X.access(e,t,_.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=_.queue(e,t),n=r.length,o=r.shift(),i=_._queueHooks(e,t);"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===t&&r.unshift("inprogress"),delete i.stop,o.call(e,function(){_.dequeue(e,t)},i)),!n&&i&&i.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return X.get(e,r)||X.access(e,r,{empty:_.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",r])})})}}),_.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?_.queue(this[0],e):void 0===t?this:this.each(function(){var r=_.queue(this,e,t);_._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,o=_.Deferred(),i=this,a=this.length,s=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=X.get(i[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],ne=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&_.contains(e.ownerDocument,e)&&"none"===_.css(e,"display")},oe=function(e,t,r,n){var o,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];for(i in o=r.apply(e,n||[]),t)e.style[i]=a[i];return o};function ie(e,t,r,n){var o,i,a=20,s=n?function(){return n.cur()}:function(){return _.css(e,t,"")},l=s(),c=r&&r[3]||(_.cssNumber[t]?"":"px"),u=(_.cssNumber[t]||"px"!==c&&+l)&&te.exec(_.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)_.style(e,t,u+c),(1-i)*(1-(i=s()/l||.5))<=0&&(a=0),u/=i;u*=2,_.style(e,t,u+c),r=r||[]}return r&&(u=+u||+l||0,o=r[1]?u+(r[1]+1)*r[2]:+r[2],n&&(n.unit=c,n.start=u,n.end=o)),o}var ae={};function se(e){var t,r=e.ownerDocument,n=e.nodeName,o=ae[n];return o||(t=r.body.appendChild(r.createElement(n)),o=_.css(t,"display"),t.parentNode.removeChild(t),"none"===o&&(o="block"),ae[n]=o,o)}function le(e,t){for(var r,n,o=[],i=0,a=e.length;i<a;i++)(n=e[i]).style&&(r=n.style.display,t?("none"===r&&(o[i]=X.get(n,"display")||null,o[i]||(n.style.display="")),""===n.style.display&&ne(n)&&(o[i]=se(n))):"none"!==r&&(o[i]="none",X.set(n,"display",r)));for(i=0;i<a;i++)null!=o[i]&&(e[i].style.display=o[i]);return e}_.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ne(this)?_(this).show():_(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&S(e,t)?_.merge([e],r):r}function de(e,t){for(var r=0,n=e.length;r<n;r++)X.set(e[r],"globalEval",!t||X.get(t[r],"globalEval"))}fe.optgroup=fe.option,fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td;var me,ge,ve=/<|&#?\w+;/;function ye(e,t,r,n,o){for(var i,a,s,l,c,u,h=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((i=e[p])||0===i)if("object"===b(i))_.merge(f,i.nodeType?[i]:i);else if(ve.test(i)){for(a=a||h.appendChild(t.createElement("div")),s=(ue.exec(i)||["",""])[1].toLowerCase(),l=fe[s]||fe._default,a.innerHTML=l[1]+_.htmlPrefilter(i)+l[2],u=l[0];u--;)a=a.lastChild;_.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(t.createTextNode(i));for(h.textContent="",p=0;i=f[p++];)if(n&&_.inArray(i,n)>-1)o&&o.push(i);else if(c=_.contains(i.ownerDocument,i),a=pe(h.appendChild(i),"script"),c&&de(a),r)for(u=0;i=a[u++];)he.test(i.type||"")&&r.push(i);return h}me=n.createDocumentFragment().appendChild(n.createElement("div")),(ge=n.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),me.appendChild(ge),d.checkClone=me.cloneNode(!0).cloneNode(!0).lastChild.checked,me.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!me.cloneNode(!0).lastChild.defaultValue;var be=n.documentElement,_e=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,we=/^([^.]*)(?:\.(.+)|)/;function Ae(){return!0}function $e(){return!1}function De(){try{return n.activeElement}catch(e){}}function Ce(e,t,r,n,o,i){var a,s;if("object"==typeof t){for(s in"string"!=typeof r&&(n=n||r,r=void 0),t)Ce(e,s,r,n,t[s],i);return e}if(null==n&&null==o?(o=r,n=r=void 0):null==o&&("string"==typeof r?(o=n,n=void 0):(o=n,n=r,r=void 0)),!1===o)o=$e;else if(!o)return e;return 1===i&&(a=o,(o=function(e){return _().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),e.each(function(){_.event.add(this,t,o,n,r)})}_.event={global:{},add:function(e,t,r,n,o){var i,a,s,l,c,u,h,f,p,d,m,g=X.get(e);if(g)for(r.handler&&(r=(i=r).handler,o=i.selector),o&&_.find.matchesSelector(be,o),r.guid||(r.guid=_.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(P)||[""]).length;c--;)p=m=(s=we.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(h=_.event.special[p]||{},p=(o?h.delegateType:h.bindType)||p,h=_.event.special[p]||{},u=_.extend({type:p,origType:m,data:n,handler:r,guid:r.guid,selector:o,needsContext:o&&_.expr.match.needsContext.test(o),namespace:d.join(".")},i),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,d,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),_.event.global[p]=!0)},remove:function(e,t,r,n,o){var i,a,s,l,c,u,h,f,p,d,m,g=X.hasData(e)&&X.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(P)||[""]).length;c--;)if(p=m=(s=we.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},f=l[p=(n?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=f.length;i--;)u=f[i],!o&&m!==u.origType||r&&r.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(i,1),u.selector&&f.delegateCount--,h.remove&&h.remove.call(e,u));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,d,g.handle)||_.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)_.event.remove(e,p+t[c],r,n,!0);_.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,r,n,o,i,a,s=_.event.fix(e),l=new Array(arguments.length),c=(X.get(this,"events")||{})[s.type]||[],u=_.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=_.event.handlers.call(this,s,c),t=0;(o=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,r=0;(i=o.handlers[r++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(i.namespace)||(s.handleObj=i,s.data=i.data,void 0!==(n=((_.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var r,n,o,i,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(i=[],a={},r=0;r<l;r++)void 0===a[o=(n=t[r]).selector+" "]&&(a[o]=n.needsContext?_(o,this).index(c)>-1:_.find(o,this,null,[c]).length),a[o]&&i.push(n);i.length&&s.push({elem:c,handlers:i})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==De()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===De()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S(this,"input"))return this.click(),!1},_default:function(e){return S(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ae:$e,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:$e,isPropagationStopped:$e,isImmediatePropagationStopped:$e,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ae,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ae,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ae,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=e.relatedTarget,o=e.handleObj;return n&&(n===this||_.contains(this,n))||(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),_.fn.extend({on:function(e,t,r,n){return Ce(this,e,t,r,n)},one:function(e,t,r,n){return Ce(this,e,t,r,n,1)},off:function(e,t,r){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=$e),this.each(function(){_.event.remove(this,e,r,t)})}});var Se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Te=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return S(e,"table")&&S(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function Ee(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Oe(e,t){var r,n,o,i,a,s,l,c;if(1===t.nodeType){if(X.hasData(e)&&(i=X.access(e),a=X.set(t,i),c=i.events))for(o in delete a.handle,a.events={},c)for(r=0,n=c[o].length;r<n;r++)_.event.add(t,o,c[o][r]);K.hasData(e)&&(s=K.access(e),l=_.extend({},s),K.set(t,l))}}function Pe(e,t,r,n){t=a.apply([],t);var o,i,s,l,c,u,h=0,f=e.length,p=f-1,g=t[0],v=m(g);if(v||f>1&&"string"==typeof g&&!d.checkClone&&Me.test(g))return e.each(function(o){var i=e.eq(o);v&&(t[0]=g.call(this,o,i.html())),Pe(i,t,r,n)});if(f&&(i=(o=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===o.childNodes.length&&(o=i),i||n)){for(l=(s=_.map(pe(o,"script"),Ee)).length;h<f;h++)c=o,h!==p&&(c=_.clone(c,!0,!0),l&&_.merge(s,pe(c,"script"))),r.call(e[h],c,h);if(l)for(u=s[s.length-1].ownerDocument,_.map(s,Ie),h=0;h<l;h++)c=s[h],he.test(c.type||"")&&!X.access(c,"globalEval")&&_.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?_._evalUrl&&_._evalUrl(c.src):y(c.textContent.replace(Re,""),u,c))}return e}function je(e,t,r){for(var n,o=t?_.filter(t,e):e,i=0;null!=(n=o[i]);i++)r||1!==n.nodeType||_.cleanData(pe(n)),n.parentNode&&(r&&_.contains(n.ownerDocument,n)&&de(pe(n,"script")),n.parentNode.removeChild(n));return e}_.extend({htmlPrefilter:function(e){return e.replace(Se,"<$1></$2>")},clone:function(e,t,r){var n,o,i,a,s,l,c,u=e.cloneNode(!0),h=_.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=pe(u),n=0,o=(i=pe(e)).length;n<o;n++)s=i[n],"input"===(c=(l=a[n]).nodeName.toLowerCase())&&ce.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(r)for(i=i||pe(e),a=a||pe(u),n=0,o=i.length;n<o;n++)Oe(i[n],a[n]);else Oe(e,u);return(a=pe(u,"script")).length>0&&de(a,!h&&pe(e,"script")),u},cleanData:function(e){for(var t,r,n,o=_.event.special,i=0;void 0!==(r=e[i]);i++)if(q(r)){if(t=r[X.expando]){if(t.events)for(n in t.events)o[n]?_.event.remove(r,n):_.removeEvent(r,n,t.handle);r[X.expando]=void 0}r[K.expando]&&(r[K.expando]=void 0)}}}),_.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return B(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Te.test(e)&&!fe[(ue.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(_.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var r=this.parentNode;_.inArray(this,e)<0&&(_.cleanData(pe(this)),r&&r.replaceChild(t,this))},e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(e){for(var r,n=[],o=_(e),i=o.length-1,a=0;a<=i;a++)r=a===i?this:this.clone(!0),_(o[a])[t](r),s.apply(n,r.get());return this.pushStack(n)}});var ze=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(t){var r=t.ownerDocument.defaultView;return r&&r.opener||(r=e),r.getComputedStyle(t)},ke=new RegExp(re.join("|"),"i");function Ne(e,t,r){var n,o,i,a,s=e.style;return(r=r||Fe(e))&&(""!==(a=r.getPropertyValue(t)||r[t])||_.contains(e.ownerDocument,e)||(a=_.style(e,t)),!d.pixelBoxStyles()&&ze.test(a)&&ke.test(t)&&(n=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function Ge(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(c).appendChild(u);var t=e.getComputedStyle(u);o="1%"!==t.top,l=12===r(t.marginLeft),u.style.right="60%",s=36===r(t.right),i=36===r(t.width),u.style.position="absolute",a=36===u.offsetWidth||"absolute",be.removeChild(c),u=null}}function r(e){return Math.round(parseFloat(e))}var o,i,a,s,l,c=n.createElement("div"),u=n.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===u.style.backgroundClip,_.extend(d,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),o},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a}}))}();var Be=/^(none|table(?!-c[ea]).+)/,Ue=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},He=["Webkit","Moz","ms"],qe=n.createElement("div").style;function Ye(e){var t=_.cssProps[e];return t||(t=_.cssProps[e]=function(e){if(e in qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=He.length;r--;)if((e=He[r]+t)in qe)return e}(e)||e),t}function Xe(e,t,r){var n=te.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function Ke(e,t,r,n,o,i){var a="width"===t?1:0,s=0,l=0;if(r===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===r&&(l+=_.css(e,r+re[a],!0,o)),n?("content"===r&&(l-=_.css(e,"padding"+re[a],!0,o)),"margin"!==r&&(l-=_.css(e,"border"+re[a]+"Width",!0,o))):(l+=_.css(e,"padding"+re[a],!0,o),"padding"!==r?l+=_.css(e,"border"+re[a]+"Width",!0,o):s+=_.css(e,"border"+re[a]+"Width",!0,o));return!n&&i>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-i-l-s-.5))),l}function Ze(e,t,r){var n=Fe(e),o=Ne(e,t,n),i="border-box"===_.css(e,"boxSizing",!1,n),a=i;if(ze.test(o)){if(!r)return o;o="auto"}return a=a&&(d.boxSizingReliable()||o===e.style[t]),("auto"===o||!parseFloat(o)&&"inline"===_.css(e,"display",!1,n))&&(o=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(o=parseFloat(o)||0)+Ke(e,t,r||(i?"border":"content"),a,n,o)+"px"}function Je(e,t,r,n,o){return new Je.prototype.init(e,t,r,n,o)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ne(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,i,a,s=H(t),l=Ue.test(t),c=e.style;if(l||(t=Ye(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:c[t];"string"==(i=typeof r)&&(o=te.exec(r))&&o[1]&&(r=ie(e,t,o),i="number"),null!=r&&r==r&&("number"===i&&(r+=o&&o[3]||(_.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==r||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(r=a.set(e,r,n))||(l?c.setProperty(t,r):c[t]=r))}},css:function(e,t,r,n){var o,i,a,s=H(t);return Ue.test(t)||(t=Ye(s)),(a=_.cssHooks[t]||_.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=Ne(e,t,n)),"normal"===o&&t in Ve&&(o=Ve[t]),""===r||r?(i=parseFloat(o),!0===r||isFinite(i)?i||0:o):o}}),_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,r,n){if(r)return!Be.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):oe(e,We,function(){return Ze(e,t,n)})},set:function(e,r,n){var o,i=Fe(e),a="border-box"===_.css(e,"boxSizing",!1,i),s=n&&Ke(e,t,n,a,i);return a&&d.scrollboxSize()===i.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(i[t])-Ke(e,t,"border",!1,i)-.5)),s&&(o=te.exec(r))&&"px"!==(o[3]||"px")&&(e.style[t]=r,r=_.css(e,t)),Xe(0,r,s)}}}),_.cssHooks.marginLeft=Ge(d.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ne(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[e+re[n]+t]=i[n]||i[n-2]||i[0];return o}},"margin"!==e&&(_.cssHooks[e+t].set=Xe)}),_.fn.extend({css:function(e,t){return B(this,function(e,t,r){var n,o,i={},a=0;if(Array.isArray(t)){for(n=Fe(e),o=t.length;a<o;a++)i[t[a]]=_.css(e,t[a],!1,n);return i}return void 0!==r?_.style(e,t,r):_.css(e,t)},e,t,arguments.length>1)}}),_.Tween=Je,Je.prototype={constructor:Je,init:function(e,t,r,n,o,i){this.elem=e,this.prop=r,this.easing=o||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=i||(_.cssNumber[r]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,r=Je.propHooks[this.prop];return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Je.propHooks._default.set(this),this}},Je.prototype.init.prototype=Je.prototype,Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[_.cssProps[e.prop]]&&!_.cssHooks[e.prop]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=Je.prototype.init,_.fx.step={};var Qe,et,tt=/^(?:toggle|show|hide)$/,rt=/queueHooks$/;function nt(){et&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(nt):e.setTimeout(nt,_.fx.interval),_.fx.tick())}function ot(){return e.setTimeout(function(){Qe=void 0}),Qe=Date.now()}function it(e,t){var r,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(r=re[n])]=o["padding"+r]=e;return t&&(o.opacity=o.width=e),o}function at(e,t,r){for(var n,o=(st.tweeners[t]||[]).concat(st.tweeners["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,t,e))return n}function st(e,t,r){var n,o,i=0,a=st.prefilters.length,s=_.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Qe||ot(),r=Math.max(0,c.startTime+c.duration-t),n=1-(r/c.duration||0),i=0,a=c.tweens.length;i<a;i++)c.tweens[i].run(n);return s.notifyWith(e,[c,n,r]),n<1&&a?r:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},r),originalProperties:t,originalOptions:r,startTime:Qe||ot(),duration:r.duration,tweens:[],createTween:function(t,r){var n=_.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)c.tweens[r].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(function(e,t){var r,n,o,i,a;for(r in e)if(o=t[n=H(r)],i=e[r],Array.isArray(i)&&(o=i[1],i=e[r]=i[0]),r!==n&&(e[n]=i,delete e[r]),(a=_.cssHooks[n])&&"expand"in a)for(r in i=a.expand(i),delete e[n],i)r in e||(e[r]=i[r],t[r]=o);else t[n]=o}(u,c.opts.specialEasing);i<a;i++)if(n=st.prefilters[i].call(c,e,u,c.opts))return m(n.stop)&&(_._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return _.map(u,at,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}_.Animation=_.extend(st,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return ie(r.elem,e,te.exec(t),r),r}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var r,n=0,o=e.length;n<o;n++)r=e[n],st.tweeners[r]=st.tweeners[r]||[],st.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,o,i,a,s,l,c,u,h="width"in t||"height"in t,f=this,p={},d=e.style,m=e.nodeType&&ne(e),g=X.get(e,"fxshow");for(n in r.queue||(null==(a=_._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,_.queue(e,"fx").length||a.empty.fire()})})),t)if(o=t[n],tt.test(o)){if(delete t[n],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||_.style(e,n)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(p))for(n in h&&1===e.nodeType&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=X.get(e,"display")),"none"===(u=_.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=_.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===_.css(e,"float")&&(l||(f.done(function(){d.display=c}),null==c&&(u=d.display,c="none"===u?"":u)),d.display="inline-block")),r.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=X.access(e,"fxshow",{display:c}),i&&(g.hidden=!m),m&&le([e],!0),f.done(function(){for(n in m||le([e]),X.remove(e,"fxshow"),p)_.style(e,n,p[n])})),l=at(m?g[n]:0,n,f),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?st.prefilters.unshift(e):st.prefilters.push(e)}}),_.speed=function(e,t,r){var n=e&&"object"==typeof e?_.extend({},e):{complete:r||!r&&t||m(e)&&e,duration:e,easing:r&&t||t&&!m(t)&&t};return _.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in _.fx.speeds?n.duration=_.fx.speeds[n.duration]:n.duration=_.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&_.dequeue(this,n.queue)},n},_.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ne).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var o=_.isEmptyObject(e),i=_.speed(t,r,n),a=function(){var t=st(this,_.extend({},e),i);(o||X.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",i=_.timers,a=X.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&rt.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=e&&i[o].queue!==e||(i[o].anim.stop(r),t=!1,i.splice(o,1));!t&&r||_.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,r=X.get(this),n=r[e+"queue"],o=r[e+"queueHooks"],i=_.timers,a=n?n.length:0;for(r.finish=!0,_.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===e&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),_.each(["toggle","show","hide"],function(e,t){var r=_.fn[t];_.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(it(t,!0),e,n,o)}}),_.each({slideDown:it("show"),slideUp:it("hide"),slideToggle:it("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,r=_.timers;for(Qe=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||_.fx.stop(),Qe=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){et||(et=!0,nt())},_.fx.stop=function(){et=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,r){return t=_.fx&&_.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(r,n){var o=e.setTimeout(r,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=n.createElement("input"),t=n.createElement("select").appendChild(n.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=t.selected,(e=n.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var lt,ct=_.expr.attrHandle;_.fn.extend({attr:function(e,t){return B(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===e.getAttribute?_.prop(e,t,r):(1===i&&_.isXMLDoc(e)||(o=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?lt:void 0)),void 0!==r?null===r?void _.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:(e.setAttribute(t,r+""),r):o&&"get"in o&&null!==(n=o.get(e,t))?n:null==(n=_.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&S(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,o=t&&t.match(P);if(o&&1===e.nodeType)for(;r=o[n++];)e.removeAttribute(r)}}),lt={set:function(e,t,r){return!1===t?_.removeAttr(e,r):e.setAttribute(r,r),r}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var r=ct[t]||_.find.attr;ct[t]=function(e,t,n){var o,i,a=t.toLowerCase();return n||(i=ct[a],ct[a]=o,o=null!=r(e,t,n)?a:null,ct[a]=i),o}});var ut=/^(?:input|select|textarea|button)$/i,ht=/^(?:a|area)$/i;function ft(e){return(e.match(P)||[]).join(" ")}function pt(e){return e.getAttribute&&e.getAttribute("class")||""}function dt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}_.fn.extend({prop:function(e,t){return B(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,r){var n,o,i=e.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&_.isXMLDoc(e)||(t=_.propFix[t]||t,o=_.propHooks[t]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(e,r,t))?n:e[t]=r:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(e){var t,r,n,o,i,a,s,l=0;if(m(e))return this.each(function(t){_(this).addClass(e.call(this,t,pt(this)))});if((t=dt(e)).length)for(;r=this[l++];)if(o=pt(r),n=1===r.nodeType&&" "+ft(o)+" "){for(a=0;i=t[a++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");o!==(s=ft(n))&&r.setAttribute("class",s)}return this},removeClass:function(e){var t,r,n,o,i,a,s,l=0;if(m(e))return this.each(function(t){_(this).removeClass(e.call(this,t,pt(this)))});if(!arguments.length)return this.attr("class","");if((t=dt(e)).length)for(;r=this[l++];)if(o=pt(r),n=1===r.nodeType&&" "+ft(o)+" "){for(a=0;i=t[a++];)for(;n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");o!==(s=ft(n))&&r.setAttribute("class",s)}return this},toggleClass:function(e,t){var r=typeof e,n="string"===r||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(r){_(this).toggleClass(e.call(this,r,pt(this),t),t)}):this.each(function(){var t,o,i,a;if(n)for(o=0,i=_(this),a=dt(e);t=a[o++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==r||((t=pt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&(" "+ft(pt(r))+" ").indexOf(t)>-1)return!0;return!1}});var mt=/\r/g;_.fn.extend({val:function(e){var t,r,n,o=this[0];return arguments.length?(n=m(e),this.each(function(r){var o;1===this.nodeType&&(null==(o=n?e.call(this,r,_(this).val()):e)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=_.map(o,function(e){return null==e?"":e+""})),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=_.valHooks[o.type]||_.valHooks[o.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(o,"value"))?r:"string"==typeof(r=o.value)?r.replace(mt,""):null==r?"":r:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value");return null!=t?t:ft(_.text(e))}},select:{get:function(e){var t,r,n,o=e.options,i=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?i+1:o.length;for(n=i<0?l:a?i:0;n<l;n++)if(((r=o[n]).selected||n===i)&&!r.disabled&&(!r.parentNode.disabled||!S(r.parentNode,"optgroup"))){if(t=_(r).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var r,n,o=e.options,i=_.makeArray(t),a=o.length;a--;)((n=o[a]).selected=_.inArray(_.valHooks.option.get(n),i)>-1)&&(r=!0);return r||(e.selectedIndex=-1),i}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},d.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),d.focusin="onfocusin"in e;var gt=/^(?:focusinfocus|focusoutblur)$/,vt=function(e){e.stopPropagation()};_.extend(_.event,{trigger:function(t,r,o,i){var a,s,l,c,u,f,p,d,v=[o||n],y=h.call(t,"type")?t.type:t,b=h.call(t,"namespace")?t.namespace.split("."):[];if(s=d=l=o=o||n,3!==o.nodeType&&8!==o.nodeType&&!gt.test(y+_.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),u=y.indexOf(":")<0&&"on"+y,(t=t[_.expando]?t:new _.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),r=null==r?[t]:_.makeArray(r,[t]),p=_.event.special[y]||{},i||!p.trigger||!1!==p.trigger.apply(o,r))){if(!i&&!p.noBubble&&!g(o)){for(c=p.delegateType||y,gt.test(c+y)||(s=s.parentNode);s;s=s.parentNode)v.push(s),l=s;l===(o.ownerDocument||n)&&v.push(l.defaultView||l.parentWindow||e)}for(a=0;(s=v[a++])&&!t.isPropagationStopped();)d=s,t.type=a>1?c:p.bindType||y,(f=(X.get(s,"events")||{})[t.type]&&X.get(s,"handle"))&&f.apply(s,r),(f=u&&s[u])&&f.apply&&q(s)&&(t.result=f.apply(s,r),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),r)||!q(o)||u&&m(o[y])&&!g(o)&&((l=o[u])&&(o[u]=null),_.event.triggered=y,t.isPropagationStopped()&&d.addEventListener(y,vt),o[y](),t.isPropagationStopped()&&d.removeEventListener(y,vt),_.event.triggered=void 0,l&&(o[u]=l)),t.result}},simulate:function(e,t,r){var n=_.extend(new _.Event,r,{type:e,isSimulated:!0});_.event.trigger(n,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return _.event.trigger(e,t,r,!0)}}),d.focusin||_.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){_.event.simulate(t,e.target,_.event.fix(e))};_.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=X.access(n,t);o||n.addEventListener(e,r,!0),X.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=X.access(n,t)-1;o?X.access(n,t,o):(n.removeEventListener(e,r,!0),X.remove(n,t))}}});var yt=e.location,bt=Date.now(),_t=/\?/;_.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),r};var xt=/\[\]$/,wt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,r,n){var o;if(Array.isArray(t))_.each(t,function(t,o){r||xt.test(e)?n(e,o):Dt(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,r,n)});else if(r||"object"!==b(t))n(e,t);else for(o in t)Dt(e+"["+o+"]",t[o],r,n)}_.param=function(e,t){var r,n=[],o=function(e,t){var r=m(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)};if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){o(this.name,this.value)});else for(r in e)Dt(r,e[r],t,o);return n.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements");return e?_.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!_(this).is(":disabled")&&$t.test(this.nodeName)&&!At.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var r=_(this).val();return null==r?null:Array.isArray(r)?_.map(r,function(e){return{name:t.name,value:e.replace(wt,"\r\n")}}):{name:t.name,value:r.replace(wt,"\r\n")}}).get()}});var Ct=/%20/g,St=/#.*$/,Tt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Rt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Et={},It={},Ot="*/".concat("*"),Pt=n.createElement("a");function jt(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,o=0,i=t.toLowerCase().match(P)||[];if(m(r))for(;n=i[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function zt(e,t,r,n){var o={},i=e===It;function a(s){var l;return o[s]=!0,_.each(e[s]||[],function(e,s){var c=s(t,r,n);return"string"!=typeof c||i||o[c]?i?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),l}return a(t.dataTypes[0])||!o["*"]&&a("*")}function Ft(e,t){var r,n,o=_.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((o[r]?e:n||(n={}))[r]=t[r]);return n&&_.extend(!0,e,n),e}Pt.href=yt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ot,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,_.ajaxSettings),t):Ft(_.ajaxSettings,e)},ajaxPrefilter:jt(Et),ajaxTransport:jt(It),ajax:function(t,r){"object"==typeof t&&(r=t,t=void 0),r=r||{};var o,i,a,s,l,c,u,h,f,p,d=_.ajaxSetup({},r),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?_(m):_.event,v=_.Deferred(),y=_.Callbacks("once memory"),b=d.statusCode||{},x={},w={},A="canceled",$={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Mt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,x[e]=t),this},overrideMimeType:function(e){return null==u&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)$.always(e[$.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||A;return o&&o.abort(t),D(0,t),this}};if(v.promise($),d.url=((t||d.url||yt.href)+"").replace(Lt,yt.protocol+"//"),d.type=r.method||r.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(P)||[""],null==d.crossDomain){c=n.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Pt.protocol+"//"+Pt.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=_.param(d.data,d.traditional)),zt(Et,d,r,$),u)return $;for(f in(h=_.event&&d.global)&&0==_.active++&&_.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rt.test(d.type),i=d.url.replace(St,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(_t.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(Tt,"$1"),p=(_t.test(i)?"&":"?")+"_="+bt+++p),d.url=i+p),d.ifModified&&(_.lastModified[i]&&$.setRequestHeader("If-Modified-Since",_.lastModified[i]),_.etag[i]&&$.setRequestHeader("If-None-Match",_.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||r.contentType)&&$.setRequestHeader("Content-Type",d.contentType),$.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ot+"; q=0.01":""):d.accepts["*"]),d.headers)$.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(m,$,d)||u))return $.abort();if(A="abort",y.add(d.complete),$.done(d.success),$.fail(d.error),o=zt(It,d,r,$)){if($.readyState=1,h&&g.trigger("ajaxSend",[$,d]),u)return $;d.async&&d.timeout>0&&(l=e.setTimeout(function(){$.abort("timeout")},d.timeout));try{u=!1,o.send(x,D)}catch(e){if(u)throw e;D(-1,e)}}else D(-1,"No Transport");function D(t,r,n,s){var c,f,p,x,w,A=r;u||(u=!0,l&&e.clearTimeout(l),o=void 0,a=s||"",$.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(x=function(e,t,r){for(var n,o,i,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in r)i=l[0];else{for(o in r){if(!l[0]||e.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),r[i]}(d,$,n)),x=function(e,t,r,n){var o,i,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(i=u.shift();i;)if(e.responseFields[i]&&(r[e.responseFields[i]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=c[l+" "+i]||c["* "+i]))for(o in c)if((s=o.split(" "))[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(i=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+i}}}return{state:"success",data:t}}(d,x,$,c),c?(d.ifModified&&((w=$.getResponseHeader("Last-Modified"))&&(_.lastModified[i]=w),(w=$.getResponseHeader("etag"))&&(_.etag[i]=w)),204===t||"HEAD"===d.type?A="nocontent":304===t?A="notmodified":(A=x.state,f=x.data,c=!(p=x.error))):(p=A,!t&&A||(A="error",t<0&&(t=0))),$.status=t,$.statusText=(r||A)+"",c?v.resolveWith(m,[f,A,$]):v.rejectWith(m,[$,A,p]),$.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[$,d,c?f:p]),y.fireWith(m,[$,A]),h&&(g.trigger("ajaxComplete",[$,d]),--_.active||_.event.trigger("ajaxStop")))}return $},getJSON:function(e,t,r){return _.get(e,t,r,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,t){_[t]=function(e,r,n,o){return m(r)&&(o=o||n,n=r,r=void 0),_.ajax(_.extend({url:e,type:t,dataType:o,data:r,success:n},_.isPlainObject(e)&&e))}}),_._evalUrl=function(e){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},_.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e);return this.each(function(r){_(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var kt={0:200,1223:204},Nt=_.ajaxSettings.xhr();d.cors=!!Nt&&"withCredentials"in Nt,d.ajax=Nt=!!Nt,_.ajaxTransport(function(t){var r,n;if(d.cors||Nt&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);r=function(e){return function(){r&&(r=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(kt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=r(),n=s.onerror=s.ontimeout=r("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){r&&n()})},r=r("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(e){var t,r;if(e.crossDomain)return{send:function(o,i){t=_("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){r&&r()}}});var Gt,Bt=[],Ut=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bt.pop()||_.expando+"_"+bt++;return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(t,r,n){var o,i,a,s=!1!==t.jsonp&&(Ut.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ut,"$1"+o):!1!==t.jsonp&&(t.url+=(_t.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||_.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=e[o],e[o]=function(){a=arguments},n.always(function(){void 0===i?_(e).removeProp(o):e[o]=i,t[o]&&(t.jsonpCallback=r.jsonpCallback,Bt.push(o)),a&&m(i)&&i(a[0]),a=i=void 0}),"script"}),d.createHTMLDocument=((Gt=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),_.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(d.createHTMLDocument?((o=(t=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,t.head.appendChild(o)):t=n),a=!r&&[],(i=T.exec(e))?[t.createElement(i[1])]:(i=ye([e],t,a),a&&a.length&&_(a).remove(),_.merge([],i.childNodes)));var o,i,a},_.fn.load=function(e,t,r){var n,o,i,a=this,s=e.indexOf(" ");return s>-1&&(n=ft(e.slice(s)),e=e.slice(0,s)),m(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&_.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?_("<div>").append(_.parseHTML(e)).find(n):e)}).always(r&&function(e,t){a.each(function(){r.apply(this,i||[e.responseText,t,e])})}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.expr.pseudos.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length},_.offset={setOffset:function(e,t,r){var n,o,i,a,s,l,c=_.css(e,"position"),u=_(e),h={};"static"===c&&(e.style.position="relative"),s=u.offset(),i=_.css(e,"top"),l=_.css(e,"left"),("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1?(a=(n=u.position()).top,o=n.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),m(t)&&(t=t.call(e,r,_.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+o),"using"in t?t.using.call(e,h):u.css(h)}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)});var t,r,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:t.top+r.pageYOffset,left:t.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],o={top:0,left:0};if("fixed"===_.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((o=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),o.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-o.top-_.css(n,"marginTop",!0),left:t.left-o.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent;return e||be})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;_.fn[e]=function(n){return B(this,function(e,n,o){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===o)return i?i[t]:e[n];i?i.scrollTo(r?i.pageXOffset:o,r?o:i.pageYOffset):e[n]=o},e,n,arguments.length)}}),_.each(["top","left"],function(e,t){_.cssHooks[t]=Ge(d.pixelPosition,function(e,r){if(r)return r=Ne(e,t),ze.test(r)?_(e).position()[t]+"px":r})}),_.each({Height:"height",Width:"width"},function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){_.fn[n]=function(o,i){var a=arguments.length&&(r||"boolean"!=typeof o),s=r||(!0===o||!0===i?"margin":"border");return B(this,function(t,r,o){var i;return g(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===o?_.css(t,r,s):_.style(t,r,o,s)},t,a?o:void 0,a)}})}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),_.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),_.proxy=function(e,t){var r,n,o;if("string"==typeof t&&(r=e[t],t=e,e=r),m(e))return n=i.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(i.call(arguments)))}).guid=e.guid=e.guid||_.guid++,o},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=S,_.isFunction=m,_.isWindow=g,_.camelCase=H,_.type=b,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))};var Wt=e.jQuery,Vt=e.$;return _.noConflict=function(t){return e.$===_&&(e.$=Vt),t&&e.jQuery===_&&(e.jQuery=Wt),_},t||(e.jQuery=e.$=_),_},e.exports=t.document?r(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return r(e)}});window.$=jquery;var _3DmolNojqueryMin=createCommonjsModule(function(module,exports){var $jscomp=$jscomp||{},g;$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),g=commonjsGlobal,function(e){function t(e,t,r){for(var n=0,o=r.length;n<o;n++){var i=r.charCodeAt(n);if(128>i)e.setUint8(t++,i>>>0&127|0);else if(2048>i)e.setUint8(t++,i>>>6&31|192),e.setUint8(t++,i>>>0&63|128);else if(65536>i)e.setUint8(t++,i>>>12&15|224),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128);else{if(!(1114112>i))throw Error("bad codepoint "+i);e.setUint8(t++,i>>>18&7|240),e.setUint8(t++,i>>>12&63|128),e.setUint8(t++,i>>>6&63|128),e.setUint8(t++,i>>>0&63|128)}}}function r(e){for(var t=0,r=0,n=e.length;r<n;r++){var o=e.charCodeAt(r);if(128>o)t+=1;else if(2048>o)t+=2;else if(65536>o)t+=3;else{if(!(1114112>o))throw Error("bad codepoint "+o);t+=4}}return t}function n(e){var n=new ArrayBuffer(function e(t){var n=typeof t;if("string"===n){var o=r(t);if(32>o)return 1+o;if(256>o)return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if(t instanceof Uint8Array){if(256>(o=t.byteLength))return 2+o;if(65536>o)return 3+o;if(4294967296>o)return 5+o}if("number"===n){if(Math.floor(t)!==t)return 9;if(0<=t){if(128>t)return 1;if(256>t)return 2;if(65536>t)return 3;if(4294967296>t)return 5;throw Error("Number too big 0x"+t.toString(16))}if(-32<=t)return 1;if(-128<=t)return 2;if(-32768<=t)return 3;if(-2147483648<=t)return 5;throw Error("Number too small -0x"+t.toString(16).substr(1))}if("boolean"===n||null===t)return 1;if("object"===n){if(n=0,Array.isArray(t)){o=t.length;for(var i=0;i<o;i++)n+=e(t[i])}else{var a=Object.keys(t);for(o=a.length,i=0;i<o;i++){var s=a[i];n+=e(s)+e(t[s])}}if(16>o)return 1+n;if(65536>o)return 3+n;if(4294967296>o)return 5+n;throw Error("Array or object too long 0x"+o.toString(16))}throw Error("Unknown type "+n)}(e));return function e(n,o,i){var a=typeof n;if("string"===a){var s=r(n);if(32>s)return o.setUint8(i,160|s),t(o,i+1,n),1+s;if(256>s)return o.setUint8(i,217),o.setUint8(i+1,s),t(o,i+2,n),2+s;if(65536>s)return o.setUint8(i,218),o.setUint16(i+1,s),t(o,i+3,n),3+s;if(4294967296>s)return o.setUint8(i,219),o.setUint32(i+1,s),t(o,i+5,n),5+s}if(n instanceof Uint8Array){s=n.byteLength;var l=new Uint8Array(o.buffer);if(256>s)return o.setUint8(i,196),o.setUint8(i+1,s),l.set(n,i+2),2+s;if(65536>s)return o.setUint8(i,197),o.setUint16(i+1,s),l.set(n,i+3),3+s;if(4294967296>s)return o.setUint8(i,198),o.setUint32(i+1,s),l.set(n,i+5),5+s}if("number"===a){if(!isFinite(n))throw Error("Number not finite: "+n);if(Math.floor(n)!==n)return o.setUint8(i,203),o.setFloat64(i+1,n),9;if(0<=n){if(128>n)return o.setUint8(i,n),1;if(256>n)return o.setUint8(i,204),o.setUint8(i+1,n),2;if(65536>n)return o.setUint8(i,205),o.setUint16(i+1,n),3;if(4294967296>n)return o.setUint8(i,206),o.setUint32(i+1,n),5;throw Error("Number too big 0x"+n.toString(16))}if(-32<=n)return o.setInt8(i,n),1;if(-128<=n)return o.setUint8(i,208),o.setInt8(i+1,n),2;if(-32768<=n)return o.setUint8(i,209),o.setInt16(i+1,n),3;if(-2147483648<=n)return o.setUint8(i,210),o.setInt32(i+1,n),5;throw Error("Number too small -0x"+(-n).toString(16).substr(1))}if(null===n)return o.setUint8(i,192),1;if("boolean"===a)return o.setUint8(i,n?195:194),1;if("object"===a){if(a=0,l=Array.isArray(n))s=n.length;else{var c=Object.keys(n);s=c.length}if(16>s?(o.setUint8(i,s|(l?144:128)),a=1):65536>s?(o.setUint8(i,l?220:222),o.setUint16(i+1,s),a=3):4294967296>s&&(o.setUint8(i,l?221:223),o.setUint32(i+1,s),a=5),l)for(l=0;l<s;l++)a+=e(n[l],o,i+a);else for(l=0;l<s;l++){var u=c[l];a+=e(u,o,i+a),a+=e(n[u],o,i+a)}return a}throw Error("Unknown type "+a)}(e,new DataView(n),0),new Uint8Array(n)}function o(e,t,r){return t?new e(t.buffer,t.byteOffset,t.byteLength/(r||1)):void 0}function i(e,t){var r=e.length/2;t||(t=new Int16Array(r));for(var n=0,o=0;n<r;++n,o+=2)t[n]=e[o]<<8^e[o+1]<<0;return t}function a(e,t){var r=e.length/4;t||(t=new Int32Array(r));for(var n=0,o=0;n<r;++n,o+=4)t[n]=e[o]<<24^e[o+1]<<16^e[o+2]<<8^e[o+3]<<0;return t}function s(e,t){var r=e.length;t||(t=new Uint8Array(4*r));for(var n=o(DataView,t),i=0;i<r;++i)n.setInt32(4*i,e[i]);return o(Uint8Array,t)}function l(e,t,r){var n=e.length;t=1/t,r||(r=new Float32Array(n));for(var o=0;o<n;++o)r[o]=e[o]*t;return r}function c(e,t,r){var n=e.length;r||(r=new Int32Array(n));for(var o=0;o<n;++o)r[o]=Math.round(e[o]*t);return r}function u(e,t){var r;if(!t){var n=t=0;for(r=e.length;n<r;n+=2)t+=e[n+1];t=new e.constructor(t)}var o=0;for(n=0,r=e.length;n<r;n+=2)for(var i=e[n],a=e[n+1],s=0;s<a;++s)t[o]=i,++o;return t}function h(e){if(0===e.length)return new Int32Array;var t,r=2,n=1;for(t=e.length;n<t;++n)e[n-1]!==e[n]&&(r+=2);r=new Int32Array(r);var o=0,i=1;for(n=1,t=e.length;n<t;++n)e[n-1]!==e[n]?(r[o]=e[n-1],r[o+1]=i,i=1,o+=2):++i;return r[o]=e[e.length-1],r[o+1]=i,r}function f(e,t){var r=e.length;t||(t=new e.constructor(r)),r&&(t[0]=e[0]);for(var n=1;n<r;++n)t[n]=e[n]+t[n-1];return t}function p(e,t){var r=e.length;t||(t=new e.constructor(r)),t[0]=e[0];for(var n=1;n<r;++n)t[n]=e[n]-e[n-1];return t}function d(e,t){var r,n,o=e instanceof Int8Array?127:32767,i=-o-1,a=e.length;if(!t){for(r=t=0;r<a;++r)e[r]<o&&e[r]>i&&++t;t=new Int32Array(t)}for(n=r=0;r<a;){for(var s=0;e[r]===o||e[r]===i;)s+=e[r],++r;s+=e[r],++r,t[n]=s,++n}return t}function m(e,t,r,n){var o=new ArrayBuffer(12+n.byteLength),i=new Uint8Array(o);return(o=new DataView(o)).setInt32(0,e),o.setInt32(4,t),r&&i.set(r,8),i.set(n,12),i}function g(e){return m(2,e.length,void 0,e=o(Uint8Array,e))}function v(e){return m(4,e.length,void 0,e=s(e))}function y(e,t){return m(5,e.length/t,t=s([t]),e=o(Uint8Array,e))}function b(e){return m(6,e.length,void 0,e=s(h(e)))}function _(e){return m(8,e.length,void 0,e=s(h(p(e))))}function x(e,t){var r,n=e.length,i=s([t]),a=(t=p(c(e,t),void 0)).length;for(r=e=0;r<a;++r){var l=t[r];0===l?++e:e=32767===l||-32768===l?e+2:0<l?e+Math.ceil(l/32767):e+Math.ceil(l/-32768)}e=new Int16Array(e);var u=0;for(r=0;r<a;++r){if(0<=(l=t[r]))for(;32767<=l;)e[u]=32767,++u,l-=32767;else for(;-32768>=l;)e[u]=-32768,++u,l-=-32768;e[u]=l,++u}for(t=void 0,l=e.length,t||(t=new Uint8Array(2*l)),r=o(DataView,t),a=0;a<l;++a)r.setInt16(2*a,e[a]);return m(10,n,i,e=o(Uint8Array,t))}function w(e){var t={};return S.forEach(function(r){void 0!==e[r]&&(t[r]=e[r])}),e.bondAtomList&&(t.bondAtomList=v(e.bondAtomList)),e.bondOrderList&&(t.bondOrderList=g(e.bondOrderList)),t.xCoordList=x(e.xCoordList,1e3),t.yCoordList=x(e.yCoordList,1e3),t.zCoordList=x(e.zCoordList,1e3),e.bFactorList&&(t.bFactorList=x(e.bFactorList,100)),e.atomIdList&&(t.atomIdList=_(e.atomIdList)),e.altLocList&&(t.altLocList=b(e.altLocList)),e.occupancyList&&(t.occupancyList=function(e,t){return m(9,e.length,s([100]),e=s(h(c(e,100))))}(e.occupancyList)),t.groupIdList=_(e.groupIdList),t.groupTypeList=v(e.groupTypeList),e.secStructList&&(t.secStructList=g(e.secStructList)),e.insCodeList&&(t.insCodeList=b(e.insCodeList)),e.sequenceIndexList&&(t.sequenceIndexList=_(e.sequenceIndexList)),t.chainIdList=y(e.chainIdList,4),e.chainNameList&&(t.chainNameList=y(e.chainNameList,4)),t}function A(e){function t(e){for(var t={},r=0;r<e;r++)t[i()]=i();return t}function r(t){var r=e.subarray(a,a+t);return a+=t,r}function n(t){var r=e.subarray(a,a+t);if(a+=t,65535<t){t=[];for(var n=0;n<r.length;n+=65535)t.push(String.fromCharCode.apply(null,r.subarray(n,n+65535)));return t.join("")}return String.fromCharCode.apply(null,r)}function o(e){for(var t=Array(e),r=0;r<e;r++)t[r]=i();return t}function i(){var i=e[a];if(0==(128&i))return a++,i;if(128==(240&i))return a++,t(15&i);if(144==(240&i))return a++,o(15&i);if(160==(224&i))return a++,n(31&i);if(224==(224&i))return i=s.getInt8(a),a++,i;switch(i){case 192:return a++,null;case 194:return a++,!1;case 195:return a++,!0;case 196:return i=s.getUint8(a+1),a+=2,r(i);case 197:return i=s.getUint16(a+1),a+=3,r(i);case 198:return i=s.getUint32(a+1),a+=5,r(i);case 202:return i=s.getFloat32(a+1),a+=5,i;case 203:return i=s.getFloat64(a+1),a+=9,i;case 204:return i=e[a+1],a+=2,i;case 205:return i=s.getUint16(a+1),a+=3,i;case 206:return i=s.getUint32(a+1),a+=5,i;case 208:return i=s.getInt8(a+1),a+=2,i;case 209:return i=s.getInt16(a+1),a+=3,i;case 210:return i=s.getInt32(a+1),a+=5,i;case 217:return i=s.getUint8(a+1),a+=2,n(i);case 218:return i=s.getUint16(a+1),a+=3,n(i);case 219:return i=s.getUint32(a+1),a+=5,n(i);case 220:return i=s.getUint16(a+1),a+=3,o(i);case 221:return i=s.getUint32(a+1),a+=5,o(i);case 222:return i=s.getUint16(a+1),a+=3,t(i);case 223:return i=s.getUint32(a+1),a+=5,t(i)}throw Error("Unknown type 0x"+i.toString(16))}var a=0,s=new DataView(e.buffer);return i()}function $(e,t){var r=(t=t||{}).ignoreFields,n={};return T.forEach(function(t){var s=!!r&&-1!==r.indexOf(t),c=e[t];s||void 0===c||(n[t]=c instanceof Uint8Array?function(e,t,r,n){switch(e){case 1:n=void 0,r=t.length,n||(n=new Float32Array(r/4)),e=o(DataView,n),t=o(DataView,t);var s=0,c=0;for(r/=4;s<r;++s,c+=4)e.setFloat32(c,t.getFloat32(c),!0);return n;case 2:return o(Int8Array,t);case 3:return i(t);case 4:return a(t);case 5:return o(Uint8Array,t);case 6:return u(a(t),new Uint8Array(r));case 7:return u(a(t));case 8:return f(u(n=a(t)),void 0);case 9:return e=a(t),n=a(n)[0],l(u(e,o(Int32Array,void 0,4)),n,void 0);case 10:return e=i(t),n=a(n)[0],e=d(e,o(Int32Array,void 0,4)),t=o(Float32Array,e,4),l(f(e,o(Int32Array,t,4)),n,t);case 11:return l(i(t),a(n)[0]);case 12:return e=i(t),n=a(n)[0],l(d(e,o(Int32Array,void 0,4)),n,void 0);case 13:return e=o(Int8Array,t),n=a(n)[0],l(d(e,o(Int32Array,void 0,4)),n,void 0);case 14:return d(i(t));case 15:return d(o(Int8Array,t))}}.apply(null,function(e){var t=o(DataView,e),r=t.getInt32(0);t=t.getInt32(4);var n=e.subarray(8,12);return[r,e=e.subarray(12),t,n]}(c)):c)}),n}function D(e,t){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),$(e=e instanceof Uint8Array?A(e):e,t)}function C(e,t,r,n){var o=new XMLHttpRequest;o.addEventListener("load",function(){try{var e=D(o.response);r(e)}catch(e){n(e)}},!0),o.addEventListener("error",n,!0),o.responseType="arraybuffer",o.open("GET",t+e.toUpperCase()),o.send()}var S="mmtfVersion mmtfProducer unitCell spaceGroup structureId title depositionDate releaseDate experimentalMethods resolution rFree rWork bioAssemblyList ncsOperatorList entityList groupList numBonds numAtoms numGroups numChains numModels groupsPerChain chainsPerModel".split(" "),T=S.concat("xCoordList yCoordList zCoordList groupIdList groupTypeList chainIdList bFactorList atomIdList altLocList occupancyList secStructList insCodeList sequenceIndexList chainNameList bondAtomList bondOrderList".split(" "));e.encode=function(e){return n(w(e))},e.decode=D,e.traverse=function(e,t,r){r=(r=r||{}).firstModelOnly;var n=t.onModel,o=t.onChain,i=t.onGroup,a=t.onAtom;t=t.onBond;var s,l,c=0,u=0,h=0,f=0,p=-1,d=e.chainNameList,m=e.secStructList,g=e.insCodeList,v=e.sequenceIndexList,y=e.atomIdList,b=e.bFactorList,_=e.altLocList,x=e.occupancyList,w=e.bondAtomList,A=e.bondOrderList,$=0;for(l=e.chainsPerModel.length;$<l&&!(r&&0<c);++$){var D=e.chainsPerModel[c];for(n&&n({chainCount:D,modelIndex:c}),s=0;s<D;++s){var C=e.groupsPerChain[u];if(o){var S=String.fromCharCode.apply(null,e.chainIdList.subarray(4*u,4*u+4)).replace(/\0/g,""),T=null;d&&(T=String.fromCharCode.apply(null,d.subarray(4*u,4*u+4)).replace(/\0/g,"")),o({groupCount:C,chainIndex:u,modelIndex:c,chainId:S,chainName:T})}for(S=0;S<C;++S){var M=e.groupList[e.groupTypeList[h]],R=M.atomNameList.length;if(i){T=null,m&&(T=m[h]);var L=null;e.insCodeList&&(L=String.fromCharCode(g[h]));var E=null;v&&(E=v[h]),i({atomCount:R,groupIndex:h,chainIndex:u,modelIndex:c,groupId:e.groupIdList[h],groupType:e.groupTypeList[h],groupName:M.groupName,singleLetterCode:M.singleLetterCode,chemCompType:M.chemCompType,secStruct:T,insCode:L,sequenceIndex:E})}for(T=0;T<R;++T){if(a){L=null,y&&(L=y[f]),E=null,b&&(E=b[f]);var I=null;_&&(I=String.fromCharCode(_[f]));var O=null;x&&(O=x[f]),a({atomIndex:f,groupIndex:h,chainIndex:u,modelIndex:c,atomId:L,element:M.elementList[T],atomName:M.atomNameList[T],formalCharge:M.formalChargeList[T],xCoord:e.xCoordList[f],yCoord:e.yCoordList[f],zCoord:e.zCoordList[f],bFactor:E,altLoc:I,occupancy:O})}f+=1}if(t)for(E=M.bondAtomList,T=0,L=M.bondOrderList.length;T<L;++T)t({atomIndex1:f-R+E[2*T],atomIndex2:f-R+E[2*T+1],bondOrder:M.bondOrderList[T]});h+=1}u+=1}if(s=p+1,p=f-1,t&&w)for(T=0,L=w.length;T<L;T+=2)D=w[T],C=w[T+1],(D>=s&&D<=p||C>=s&&C<=p)&&t({atomIndex1:D,atomIndex2:C,bondOrder:A?A[T/2]:null});c+=1}},e.fetch=function(e,t,r){C(e,"http://mmtf.rcsb.org/v1.0/full/",t,r)},e.fetchReduced=function(e,t,r){C(e,"http://mmtf.rcsb.org/v1.0/reduced/",t,r)},e.version="v1.0.0",e.fetchUrl="http://mmtf.rcsb.org/v1.0/full/",e.fetchReducedUrl="http://mmtf.rcsb.org/v1.0/reduced/",e.encodeMsgpack=n,e.encodeMmtf=w,e.decodeMsgpack=A,e.decodeMmtf=$,Object.defineProperty(e,"__esModule",{value:!0})}(g.MMTF=g.MMTF||{}),module.exports=function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof commonjsRequire&&commonjsRequire;if(!s&&l)return l(a,!0);if(i)return i(a,!0);throw(s=Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}s=r[a]={exports:{}},t[a][0].call(s.exports,function(e){return o(t[a][1][e]||e)},s,s.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof commonjsRequire&&commonjsRequire,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){var t,r,n=r=0;for(t=e.length;n<t;n++)r+=e[n].length;var o=new Uint8Array(r);for(n=r=0,t=e.length;n<t;n++){var i=e[n];o.set(i,r),r+=i.length}return o}},o={arraySet:function(e,t,r,n,o){for(var i=0;i<n;i++)e[o+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(e)},{}],2:[function(e,t,r){function n(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var r="",n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r}var o=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}var s=new o.Buf8(256);for(e=0;256>e;e++)s[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;s[254]=s[254]=1,r.string2buf=function(e){var t,r,n=e.length,i=0;for(t=0;t<n;t++){var a=e.charCodeAt(t);if(55296==(64512&a)&&t+1<n){var s=e.charCodeAt(t+1);56320==(64512&s)&&(a=65536+(a-55296<<10)+(s-56320),t++)}i+=128>a?1:2048>a?2:65536>a?3:4}var l=new o.Buf8(i);for(t=r=0;r<i;t++)55296==(64512&(a=e.charCodeAt(t)))&&t+1<n&&56320==(64512&(s=e.charCodeAt(t+1)))&&(a=65536+(a-55296<<10)+(s-56320),t++),128>a?l[r++]=a:(2048>a?l[r++]=192|a>>>6:(65536>a?l[r++]=224|a>>>12:(l[r++]=240|a>>>18,l[r++]=128|a>>>12&63),l[r++]=128|a>>>6&63),l[r++]=128|63&a);return l},r.buf2binstring=function(e){return n(e,e.length)},r.binstring2buf=function(e){for(var t=new o.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,o=t||e.length,i=Array(2*o);for(t=r=0;t<o;){var a=e[t++];if(128>a)i[r++]=a;else{var l=s[a];if(4<l)i[r++]=65533,t+=l-1;else{for(a&=2===l?31:3===l?15:7;1<l&&t<o;)a=a<<6|63&e[t++],l--;1<l?i[r++]=65533:65536>a?i[r++]=a:(a-=65536,i[r++]=55296|a>>10&1023,i[r++]=56320|1023&a)}}}return n(i,r)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return 0>r||0===r?t:r+s[e[r]]>t?r:t}},{"./common":1}],3:[function(e,t,r){t.exports=function(e,t,r,n){var o,i=65535&e|0;for(e=e>>>16&65535|0;0!==r;){r-=o=2e3<r?2e3:r;do{e=e+(i=i+t[n++]|0)|0}while(--o);i%=65521,e%=65521}return i|e<<16|0}},{}],4:[function(e,t,r){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],5:[function(e,t,r){var n=function(){for(var e,t=[],r=0;256>r;r++){e=r;for(var n=0;8>n;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,o){for(r=o+r,e^=-1;o<r;o++)e=e>>>8^n[255&(e^t[o])];return-1^e}},{}],6:[function(e,t,r){t.exports=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1}},{}],7:[function(e,t,r){t.exports=function(e,t){var r=e.state,n=e.next_in,o=e.input,i=n+(e.avail_in-5),a=e.next_out,s=e.output;t=a-(t-e.avail_out);var l=a+(e.avail_out-257),c=r.dmax,u=r.wsize,h=r.whave,f=r.wnext,p=r.window,d=r.hold,m=r.bits,g=r.lencode,v=r.distcode,y=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{15>m&&(d+=o[n++]<<m,m+=8,d+=o[n++]<<m,m+=8);var _=g[d&y];t:for(;;){var x=_>>>24;if(d>>>=x,m-=x,0==(x=_>>>16&255))s[a++]=65535&_;else{if(!(16&x)){if(0==(64&x)){_=g[(65535&_)+(d&(1<<x)-1)];continue t}32&x?r.mode=12:(e.msg="invalid literal/length code",r.mode=30);break e}var w=65535&_;(x&=15)&&(m<x&&(d+=o[n++]<<m,m+=8),w+=d&(1<<x)-1,d>>>=x,m-=x),15>m&&(d+=o[n++]<<m,m+=8,d+=o[n++]<<m,m+=8),_=v[d&b];r:for(;;){if(d>>>=x=_>>>24,m-=x,!(16&(x=_>>>16&255))){if(0==(64&x)){_=v[(65535&_)+(d&(1<<x)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(_&=65535,m<(x&=15)&&(d+=o[n++]<<m,(m+=8)<x&&(d+=o[n++]<<m,m+=8)),(_+=d&(1<<x)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=x,m-=x,_>(x=a-t)){if((x=_-x)>h&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}var A=0,$=p;if(0===f){if(A+=u-x,x<w){w-=x;do{s[a++]=p[A++]}while(--x);A=a-_,$=s}}else if(f<x){if(A+=u+f-x,(x-=f)<w){w-=x;do{s[a++]=p[A++]}while(--x);if(A=0,f<w){w-=x=f;do{s[a++]=p[A++]}while(--x);A=a-_,$=s}}}else if(A+=f-x,x<w){w-=x;do{s[a++]=p[A++]}while(--x);A=a-_,$=s}for(;2<w;)s[a++]=$[A++],s[a++]=$[A++],s[a++]=$[A++],w-=3;w&&(s[a++]=$[A++],1<w&&(s[a++]=$[A++]))}else{A=a-_;do{s[a++]=s[A++],s[a++]=s[A++],s[a++]=s[A++],w-=3}while(2<w);w&&(s[a++]=s[A++],1<w&&(s[a++]=s[A++]))}break}}break}}while(n<i&&a<l);n-=w=m>>3,m-=w<<3,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<l?l-a+257:257-(a-l),r.hold=d&(1<<m)-1,r.bits=m}},{}],8:[function(e,t,r){function n(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new h.Buf16(320),this.work=new h.Buf16(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function i(e){if(!e||!e.state)return-2;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new h.Buf32(852),t.distcode=t.distdyn=new h.Buf32(592),t.sane=1,t.back=-1,0}function a(e){if(!e||!e.state)return-2;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,i(e)}function s(e,t){if(!e||!e.state)return-2;var r=e.state;if(0>t){var n=0;t=-t}else n=1+(t>>4),48>t&&(t&=15);return t&&(8>t||15<t)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))}function l(e,t){if(!e)return-2;var r=new o;return e.state=r,r.window=null,0!==(t=s(e,t))&&(e.state=null),t}var c,u,h=e("../utils/common"),f=e("./adler32"),p=e("./crc32"),d=e("./inffast"),m=e("./inftrees"),g=!0;r.inflateReset=a,r.inflateReset2=s,r.inflateResetKeep=i,r.inflateInit=function(e){return l(e,15)},r.inflateInit2=l,r.inflate=function(e,t){var r,o=new h.Buf8(4),i=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;var a=e.state;12===a.mode&&(a.mode=13);var s=e.next_out,l=e.output,v=e.avail_out,y=e.next_in,b=e.input,_=e.avail_in,x=a.hold,w=a.bits,A=_,$=v,D=0;e:for(;;)switch(a.mode){case 1:if(0===a.wrap){a.mode=13;break}for(;16>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(2&a.wrap&&35615===x){a.check=0,o[0]=255&x,o[1]=x>>>8&255,a.check=p(a.check,o,2,0),w=x=0,a.mode=2;break}if(a.flags=0,a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",a.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",a.mode=30;break}w-=4;var C=8+(15&(x>>>=4));if(0===a.wbits)a.wbits=C;else if(C>a.wbits){e.msg="invalid window size",a.mode=30;break}a.dmax=1<<C,e.adler=a.check=1,a.mode=512&x?10:12,w=x=0;break;case 2:for(;16>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(a.flags=x,8!=(255&a.flags)){e.msg="unknown compression method",a.mode=30;break}if(57344&a.flags){e.msg="unknown header flags set",a.mode=30;break}a.head&&(a.head.text=x>>8&1),512&a.flags&&(o[0]=255&x,o[1]=x>>>8&255,a.check=p(a.check,o,2,0)),w=x=0,a.mode=3;case 3:for(;32>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.head&&(a.head.time=x),512&a.flags&&(o[0]=255&x,o[1]=x>>>8&255,o[2]=x>>>16&255,o[3]=x>>>24&255,a.check=p(a.check,o,4,0)),w=x=0,a.mode=4;case 4:for(;16>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.head&&(a.head.xflags=255&x,a.head.os=x>>8),512&a.flags&&(o[0]=255&x,o[1]=x>>>8&255,a.check=p(a.check,o,2,0)),w=x=0,a.mode=5;case 5:if(1024&a.flags){for(;16>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.length=x,a.head&&(a.head.extra_len=x),512&a.flags&&(o[0]=255&x,o[1]=x>>>8&255,a.check=p(a.check,o,2,0)),w=x=0}else a.head&&(a.head.extra=null);a.mode=6;case 6:if(1024&a.flags){var S=a.length;if(S>_&&(S=_),S&&(a.head&&(C=a.head.extra_len-a.length,a.head.extra||(a.head.extra=Array(a.head.extra_len)),h.arraySet(a.head.extra,b,y,S,C)),512&a.flags&&(a.check=p(a.check,b,S,y)),_-=S,y+=S,a.length-=S),a.length)break e}a.length=0,a.mode=7;case 7:if(2048&a.flags){if(0===_)break e;S=0;do{C=b[y+S++],a.head&&C&&65536>a.length&&(a.head.name+=String.fromCharCode(C))}while(C&&S<_);if(512&a.flags&&(a.check=p(a.check,b,S,y)),_-=S,y+=S,C)break e}else a.head&&(a.head.name=null);a.length=0,a.mode=8;case 8:if(4096&a.flags){if(0===_)break e;S=0;do{C=b[y+S++],a.head&&C&&65536>a.length&&(a.head.comment+=String.fromCharCode(C))}while(C&&S<_);if(512&a.flags&&(a.check=p(a.check,b,S,y)),_-=S,y+=S,C)break e}else a.head&&(a.head.comment=null);a.mode=9;case 9:if(512&a.flags){for(;16>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(x!==(65535&a.check)){e.msg="header crc mismatch",a.mode=30;break}w=x=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),e.adler=a.check=0,a.mode=12;break;case 10:for(;32>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}e.adler=a.check=n(x),w=x=0,a.mode=11;case 11:if(0===a.havedict)return e.next_out=s,e.avail_out=v,e.next_in=y,e.avail_in=_,a.hold=x,a.bits=w,2;e.adler=a.check=1,a.mode=12;case 12:if(5===t||6===t)break e;case 13:if(a.last){x>>>=7&w,w-=7&w,a.mode=27;break}for(;3>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}switch(a.last=1&x,--w,3&(x>>>=1)){case 0:a.mode=14;break;case 1:if(C=a,g){for(c=new h.Buf32(512),u=new h.Buf32(32),S=0;144>S;)C.lens[S++]=8;for(;256>S;)C.lens[S++]=9;for(;280>S;)C.lens[S++]=7;for(;288>S;)C.lens[S++]=8;for(m(1,C.lens,0,288,c,0,C.work,{bits:9}),S=0;32>S;)C.lens[S++]=5;m(2,C.lens,0,32,u,0,C.work,{bits:5}),g=!1}if(C.lencode=c,C.lenbits=9,C.distcode=u,C.distbits=5,a.mode=20,6===t){x>>>=2,w-=2;break e}break;case 2:a.mode=17;break;case 3:e.msg="invalid block type",a.mode=30}x>>>=2,w-=2;break;case 14:for(x>>>=7&w,w-=7&w;32>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",a.mode=30;break}if(a.length=65535&x,w=x=0,a.mode=15,6===t)break e;case 15:a.mode=16;case 16:if(S=a.length){if(S>_&&(S=_),S>v&&(S=v),0===S)break e;h.arraySet(l,b,y,S,s),_-=S,y+=S,v-=S,s+=S,a.length-=S;break}a.mode=12;break;case 17:for(;14>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(a.nlen=257+(31&x),x>>>=5,w-=5,a.ndist=1+(31&x),x>>>=5,w-=5,a.ncode=4+(15&x),x>>>=4,w-=4,286<a.nlen||30<a.ndist){e.msg="too many length or distance symbols",a.mode=30;break}a.have=0,a.mode=18;case 18:for(;a.have<a.ncode;){for(;3>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.lens[i[a.have++]]=7&x,x>>>=3,w-=3}for(;19>a.have;)a.lens[i[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,S={bits:a.lenbits},D=m(0,a.lens,0,19,a.lencode,0,a.work,S),a.lenbits=S.bits,D){e.msg="invalid code lengths set",a.mode=30;break}a.have=0,a.mode=19;case 19:for(;a.have<a.nlen+a.ndist;){for(;;){var T=a.lencode[x&(1<<a.lenbits)-1];if(S=T>>>24,T&=65535,S<=w)break;if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(16>T)x>>>=S,w-=S,a.lens[a.have++]=T;else{if(16===T){for(C=S+2;w<C;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(x>>>=S,w-=S,0===a.have){e.msg="invalid bit length repeat",a.mode=30;break}C=a.lens[a.have-1],S=3+(3&x),x>>>=2,w-=2}else if(17===T){for(C=S+3;w<C;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}w-=S,C=0,S=3+(7&(x>>>=S)),x>>>=3,w-=3}else{for(C=S+7;w<C;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}w-=S,C=0,S=11+(127&(x>>>=S)),x>>>=7,w-=7}if(a.have+S>a.nlen+a.ndist){e.msg="invalid bit length repeat",a.mode=30;break}for(;S--;)a.lens[a.have++]=C}}if(30===a.mode)break;if(0===a.lens[256]){e.msg="invalid code -- missing end-of-block",a.mode=30;break}if(a.lenbits=9,S={bits:a.lenbits},D=m(1,a.lens,0,a.nlen,a.lencode,0,a.work,S),a.lenbits=S.bits,D){e.msg="invalid literal/lengths set",a.mode=30;break}if(a.distbits=6,a.distcode=a.distdyn,S={bits:a.distbits},D=m(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,S),a.distbits=S.bits,D){e.msg="invalid distances set",a.mode=30;break}if(a.mode=20,6===t)break e;case 20:a.mode=21;case 21:if(6<=_&&258<=v){e.next_out=s,e.avail_out=v,e.next_in=y,e.avail_in=_,a.hold=x,a.bits=w,d(e,$),s=e.next_out,l=e.output,v=e.avail_out,y=e.next_in,b=e.input,_=e.avail_in,x=a.hold,w=a.bits,12===a.mode&&(a.back=-1);break}for(a.back=0;S=(T=a.lencode[x&(1<<a.lenbits)-1])>>>24,C=T>>>16&255,T&=65535,!(S<=w);){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(C&&0==(240&C)){var M=S,R=C;for(r=T;S=(T=a.lencode[r+((x&(1<<M+R)-1)>>M)])>>>24,C=T>>>16&255,T&=65535,!(M+S<=w);){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}x>>>=M,w-=M,a.back+=M}if(x>>>=S,w-=S,a.back+=S,a.length=T,0===C){a.mode=26;break}if(32&C){a.back=-1,a.mode=12;break}if(64&C){e.msg="invalid literal/length code",a.mode=30;break}a.extra=15&C,a.mode=22;case 22:if(a.extra){for(C=a.extra;w<C;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.length+=x&(1<<a.extra)-1,x>>>=a.extra,w-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=23;case 23:for(;S=(T=a.distcode[x&(1<<a.distbits)-1])>>>24,C=T>>>16&255,T&=65535,!(S<=w);){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(0==(240&C)){for(M=S,R=C,r=T;S=(T=a.distcode[r+((x&(1<<M+R)-1)>>M)])>>>24,C=T>>>16&255,T&=65535,!(M+S<=w);){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}x>>>=M,w-=M,a.back+=M}if(x>>>=S,w-=S,a.back+=S,64&C){e.msg="invalid distance code",a.mode=30;break}a.offset=T,a.extra=15&C,a.mode=24;case 24:if(a.extra){for(C=a.extra;w<C;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}a.offset+=x&(1<<a.extra)-1,x>>>=a.extra,w-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){e.msg="invalid distance too far back",a.mode=30;break}a.mode=25;case 25:if(0===v)break e;if(S=$-v,a.offset>S){if((S=a.offset-S)>a.whave&&a.sane){e.msg="invalid distance too far back",a.mode=30;break}S>a.wnext?(S-=a.wnext,C=a.wsize-S):C=a.wnext-S,S>a.length&&(S=a.length),M=a.window}else M=l,C=s-a.offset,S=a.length;S>v&&(S=v),v-=S,a.length-=S;do{l[s++]=M[C++]}while(--S);0===a.length&&(a.mode=21);break;case 26:if(0===v)break e;l[s++]=a.length,v--,a.mode=21;break;case 27:if(a.wrap){for(;32>w;){if(0===_)break e;_--,x|=b[y++]<<w,w+=8}if($-=v,e.total_out+=$,a.total+=$,$&&(e.adler=a.check=a.flags?p(a.check,l,$,s-$):f(a.check,l,$,s-$)),$=v,(a.flags?x:n(x))!==a.check){e.msg="incorrect data check",a.mode=30;break}w=x=0}a.mode=28;case 28:if(a.wrap&&a.flags){for(;32>w;){if(0===_)break e;_--,x+=b[y++]<<w,w+=8}if(x!==(4294967295&a.total)){e.msg="incorrect length check",a.mode=30;break}w=x=0}a.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;default:return-2}return e.next_out=s,e.avail_out=v,e.next_in=y,e.avail_in=_,a.hold=x,a.bits=w,(a.wsize||$!==e.avail_out&&30>a.mode&&(27>a.mode||4!==t))&&(b=e.output,y=e.next_out,s=$-e.avail_out,null===(v=e.state).window&&(v.wsize=1<<v.wbits,v.wnext=0,v.whave=0,v.window=new h.Buf8(v.wsize)),s>=v.wsize?(h.arraySet(v.window,b,y-v.wsize,v.wsize,0),v.wnext=0,v.whave=v.wsize):((_=v.wsize-v.wnext)>s&&(_=s),h.arraySet(v.window,b,y-s,_,v.wnext),(s-=_)?(h.arraySet(v.window,b,y-s,s,0),v.wnext=s,v.whave=v.wsize):(v.wnext+=_,v.wnext===v.wsize&&(v.wnext=0),v.whave<v.wsize&&(v.whave+=_)))),A-=e.avail_in,$-=e.avail_out,e.total_in+=A,e.total_out+=$,a.total+=$,a.wrap&&$&&(e.adler=a.check=a.flags?p(a.check,l,$,e.next_out-$):f(a.check,l,$,e.next_out-$)),e.data_type=a.bits+(a.last?64:0)+(12===a.mode?128:0)+(20===a.mode||15===a.mode?256:0),(0===A&&0===$||4===t)&&0===D&&(D=-5),D},r.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},r.inflateGetHeader=function(e,t){return e&&e.state?0==(2&(e=e.state).wrap)?-2:(e.head=t,t.done=!1,0):-2},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":5,"./inffast":7,"./inftrees":9}],9:[function(e,t,r){var n=e("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,c,u,h,f){var p,d,m,g,v,y,b,_=f.bits,x=0,w=new n.Buf16(16),A=new n.Buf16(16),$=0;for(p=0;15>=p;p++)w[p]=0;for(d=0;d<l;d++)w[t[r+d]]++;var D=_;for(m=15;1<=m&&0===w[m];m--);if(D>m&&(D=m),0===m)return c[u++]=20971520,c[u++]=20971520,f.bits=1,0;for(_=1;_<m&&0===w[_];_++);for(D<_&&(D=_),p=g=1;15>=p;p++)if(g<<=1,0>(g-=w[p]))return-1;if(0<g&&(0===e||1!==m))return-1;for(A[1]=0,p=1;15>p;p++)A[p+1]=A[p]+w[p];for(d=0;d<l;d++)0!==t[r+d]&&(h[A[t[r+d]]++]=d);if(0===e)var C=b=h,S=19;else 1===e?(C=o,x-=257,b=i,$-=257,S=256):(C=a,b=s,S=-1);d=v=0,p=_;var T=u;l=D,A=0;var M=-1,R=1<<D,L=R-1;if(1===e&&852<R||2===e&&592<R)return 1;for(;;){var E=p-A;if(h[d]<S)var I=0,O=h[d];else h[d]>S?(I=b[$+h[d]],O=C[x+h[d]]):(I=96,O=0);g=1<<p-A,_=y=1<<l;do{c[T+(v>>A)+(y-=g)]=E<<24|I<<16|O|0}while(0!==y);for(g=1<<p-1;v&g;)g>>=1;if(0!==g?(v&=g-1,v+=g):v=0,d++,0==--w[p]){if(p===m)break;p=t[r+h[d]]}if(p>D&&(v&L)!==M){for(0===A&&(A=D),T+=_,g=1<<(l=p-A);l+A<m&&!(0>=(g-=w[l+A]));)l++,g<<=1;if(R+=1<<l,1===e&&852<R||2===e&&592<R)return 1;c[M=v&L]=D<<24|l<<16|T-u|0}}return 0!==v&&(c[T+v]=p-A<<24|4194304),f.bits=D,0}},{"../utils/common":1}],10:[function(e,t,r){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],11:[function(e,t,r){t.exports=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/inflate.js":[function(e,t,r){function n(e,t){if((t=new f(t)).push(e,!0),t.err)throw t.msg;return t.result}var o=e("./zlib/inflate.js"),i=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),l=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),h=Object.prototype.toString,f=function(e){var t=this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});if(t.raw&&0<=t.windowBits&&16>t.windowBits&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&16>t.windowBits)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&48>t.windowBits&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0,(e=o.inflateInit2(this.strm,t.windowBits))!==s.Z_OK)throw Error(l[e]);this.header=new u,o.inflateGetHeader(this.strm,this.header)};f.prototype.push=function(e,t){var r=this.strm,n=this.options.chunkSize;if(this.ended)return!1;t=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?r.input=a.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new i.Buf8(n),r.next_out=0,r.avail_out=n),(e=o.inflate(r,s.Z_NO_FLUSH))!==s.Z_STREAM_END&&e!==s.Z_OK)return this.onEnd(e),this.ended=!0,!1;if(r.next_out&&(0===r.avail_out||e===s.Z_STREAM_END||0===r.avail_in&&(t===s.Z_FINISH||t===s.Z_SYNC_FLUSH)))if("string"===this.options.to){var l=a.utf8border(r.output,r.next_out),c=r.next_out-l,u=a.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&i.arraySet(r.output,r.output,l,c,0),this.onData(u)}else this.onData(i.shrinkBuf(r.output,r.next_out))}while(0<r.avail_in&&e!==s.Z_STREAM_END);return e===s.Z_STREAM_END&&(t=s.Z_FINISH),t===s.Z_FINISH?(e=o.inflateEnd(this.strm),this.onEnd(e),this.ended=!0,e===s.Z_OK):(t===s.Z_SYNC_FLUSH&&(this.onEnd(s.Z_OK),r.avail_out=0),!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===s.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=f,r.inflate=n,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},r.ungzip=n},{"./utils/common":1,"./utils/strings":2,"./zlib/constants":4,"./zlib/gzheader":6,"./zlib/inflate.js":8,"./zlib/messages":10,"./zlib/zstream":11}]},{},[])("/lib/inflate.js");var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:void 0!==commonjsGlobal&&null!=commonjsGlobal?commonjsGlobal:e},$jscomp.global=$jscomp.getGlobal(commonjsGlobal),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.makeIterator=function(e){$jscomp.initSymbolIterator();var t=e[Symbol.iterator];return t?t.call(e):$jscomp.arrayIterator(e)},$jscomp.polyfill=function(e,t,r,n){if(t){for(r=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in r||(r[o]={}),r=r[o]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&$jscomp.defineProperty(r,e,{configurable:!0,writable:!0,value:t})}},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(e){function t(){this.batch_=null}function r(e){return e instanceof o?e:new o(function(t,r){t(e)})}if(e&&!$jscomp.FORCE_POLYFILL_PROMISE)return e;t.prototype.asyncExecute=function(e){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(e),this},t.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var n=$jscomp.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){n(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var r=e[t];delete e[t];try{r()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e})};var o=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};o.prototype.createResolveAndReject_=function(){function e(e){return function(n){r||(r=!0,e.call(t,n))}}var t=this,r=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},o.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof o)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},o.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},o.prototype.reject_=function(e){this.settle_(2,e)},o.prototype.fulfill_=function(e){this.settle_(1,e)},o.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,this.executeOnSettledCallbacks_()},o.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=this.onSettledCallbacks_,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.onSettledCallbacks_=null}};var i=new t;return o.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},o.prototype.settleSameAsThenable_=function(e,t){var r=this.createResolveAndReject_();try{e.call(t,r.resolve,r.reject)}catch(e){r.reject(e)}},o.prototype.then=function(e,t){function r(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(e){i(e)}}:t}var n,i,a=new o(function(e,t){n=e,i=t});return this.callWhenSettled_(r(e,n),r(t,i)),a},o.prototype.catch=function(e){return this.then(void 0,e)},o.prototype.callWhenSettled_=function(e,t){function r(){switch(n.state_){case 1:e(n.result_);break;case 2:t(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?i.asyncExecute(r):this.onSettledCallbacks_.push(function(){i.asyncExecute(r)})},o.resolve=r,o.reject=function(e){return new o(function(t,r){r(e)})},o.race=function(e){return new o(function(t,n){for(var o=$jscomp.makeIterator(e),i=o.next();!i.done;i=o.next())r(i.value).callWhenSettled_(t,n)})},o.all=function(e){var t=$jscomp.makeIterator(e),n=t.next();return n.done?r([]):new o(function(e,o){function i(t){return function(r){a[t]=r,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(n.value).callWhenSettled_(i(a.length-1),o),n=t.next()}while(!n.done)})},o},"es6","es3"),$jscomp.checkStringArgs=function(e,t,r){if(null==e)throw new TypeError("The 'this' value for String.prototype."+r+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+r+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(e){var t=$jscomp.checkStringArgs(this,null,"repeat");if(0>e||1342177279<e)throw new RangeError("Invalid count value");e|=0;for(var r="";e;)1&e&&(r+=t),(e>>>=1)&&(t+=t);return r}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"startsWith");e+="";var n=r.length,o=e.length;t=Math.max(0,Math.min(0|t,r.length));for(var i=0;i<o&&t<n;)if(r[t++]!=e[i++])return!1;return i>=o}},"es6","es3"),$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(e,t){var r=$jscomp.checkStringArgs(this,e,"endsWith");e+="",void 0===t&&(t=r.length),t=Math.max(0,Math.min(0|t,r.length));for(var n=e.length;0<n&&0<t;)if(r[--t]!=e[--n])return!1;return 0>=n}},"es6","es3"),$jscomp.polyfill("Array.prototype.fill",function(e){return e||function(e,t,r){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==r||r>n)&&(r=n),0>(r=Number(r))&&(r=Math.max(0,n+r)),t=Number(t||0);t<r;t++)this[t]=e;return this}},"es6","es3"),$jscomp.iteratorFromArray=function(e,t){$jscomp.initSymbolIterator(),e instanceof String&&(e+="");var r=0,n={next:function(){if(r<e.length){var o=r++;return{value:t(o,e[o]),done:!1}}return n.next=function(){return{done:!0,value:void 0}},n.next()}};return n[Symbol.iterator]=function(){return n},n},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3"),$jscomp.polyfill("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},"es6","es3"),$jscomp.polyfill("Array.prototype.includes",function(e){return e||function(e,t){var r=this;r instanceof String&&(r=String(r));var n=r.length;for(t=t||0;t<n;t++)if(r[t]==e||Object.is(r[t],e))return!0;return!1}},"es7","es3"),$jscomp.polyfill("String.prototype.includes",function(e){return e||function(e,t){return-1!==$jscomp.checkStringArgs(this,e,"includes").indexOf(e,t||0)}},"es6","es3"),$jscomp.polyfill("Number.isFinite",function(e){return e||function(e){return"number"==typeof e&&!isNaN(e)&&1/0!==e&&-1/0!==e}},"es6","es3"),$jscomp.polyfill("Number.isInteger",function(e){return e||function(e){return!!Number.isFinite(e)&&e===Math.floor(e)}},"es6","es3"),$3Dmol=window.$3Dmol||{},module.exports=$3Dmol,$3Dmol.notrack||$.get("https://3dmol.csb.pitt.edu/track/report.cgi"),String.prototype.startsWith||(String.prototype.startsWith=function(e){return 0===this.lastIndexOf(e,0)}),String.prototype.endsWith||(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),$.ajaxTransport("+binary",function(e,t,r){if(window.FormData&&(e.dataType&&"binary"==e.dataType||e.data&&(window.ArrayBuffer&&e.data instanceof ArrayBuffer||window.Blob&&e.data instanceof Blob)))return{send:function(t,r){var n=new XMLHttpRequest,o=e.url,i=e.type,a=e.async||!0,s=e.responseType||"blob",l=e.data||null,c=e.username||null,u=e.password||null,h=function(){var t={};t[e.dataType]=n.response,r(n.status,n.statusText,t,n.getAllResponseHeaders())};for(var f in n.addEventListener("load",h),n.addEventListener("error",h),n.addEventListener("abort",h),n.open(i,o,a,c,u),t)n.setRequestHeader(f,t[f]);n.responseType=s,n.send(l)},abort:function(){r.abort()}}}),$3Dmol.createViewer=function(e,t){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{};try{return new $3Dmol.GLViewer(e,t)}catch(e){throw"error creating viewer: "+e}}},$3Dmol.createViewerGrid=function(e,t,r){if("string"===$.type(e)&&(e=$("#"+e)),e){t=t||{},r=r||{};var n=[],o=document.createElement("canvas");r.rows=t.rows,r.cols=t.cols,r.control_all=null!=t.control_all&&t.control_all,$(e).append($(o));try{for(var i=0;i<t.rows;i++){for(var a=[],s=0;s<t.cols;s++){r.row=i,r.col=s,r.canvas=o,r.viewers=n,r.control_all=t.control_all;var l=$3Dmol.createViewer(e,r);a.push(l)}n.unshift(a)}}catch(e){throw"error creating viewer grid: "+e}return n}},$3Dmol.viewers={},$3Dmol.getbin=function(e,t,r,n){var o=new Promise(function(t,o){r=null==r?"GET":r,$.ajax({url:e,dataType:"binary",method:r,data:n,responseType:"arraybuffer",processData:!1}).done(function(e,r,n){t(e)}).fail(function(e,t){console.log(t),o()})});return t?o.then(t):o},$3Dmol.base64ToArray=function(e){for(var t=(e=window.atob(e)).length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},$3Dmol.download=function(e,t,r,n){var o="",i="";i="";var a=t.addModel();if("mmtf:"===e.substr(0,5)){var s=(i=r&&r.pdbUri?r.pdbUri:"https://mmtf.rcsb.org/v1.0/full/")+(e=e.substr(5).toUpperCase());r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),e=new Promise(function(e,n){$3Dmol.getbin(s).then(function(n){a.addMolData(n,"mmtf",r),t.zoomTo(),t.render(),e(a)})})}else{if("pdb:"===e.substr(0,4)){if(o="mmtf",r&&r.format&&(o=r.format),r&&void 0===r.noComputeSecondaryStructure&&(r.noComputeSecondaryStructure=!0),!(e=e.substr(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");"mmtf"==o?(i=r&&r.mmtfUri?r.mmtfUri:"https://mmtf.rcsb.org/v1.0/full/",s=i+e.toUpperCase()):(i=r&&r.pdbUri?r.pdbUri:"https://files.rcsb.org/view/",s=i+e+"."+o)}else if("cid:"==e.substr(0,4)){if(o="sdf",!(e=e.substr(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");s="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else"url:"==e.substr(0,4)&&(o=s=e.substr(4));var l=function(e){a.addMolData(e,o,r),t.zoomTo(),t.render()};e=new Promise(function(e,t){"mmtf"==o?$3Dmol.getbin(s).then(function(t){l(t),e(a)}):$.get(s,function(t){l(t),e(a)}).fail(function(e){console.log("fetch of "+s+" failed: "+e.statusText)})})}return n?(e.then(function(e){n(e)}),a):e},$3Dmol.SurfaceType={VDW:1,MS:2,SAS:3,SES:4},$3Dmol.mergeGeos=function(e,t){void 0!==(t=t.geometry)&&e.geometryGroups.push(t.geometryGroups[0])},$3Dmol.multiLineString=function(e){return e.toString().replace(/^[^\/]+\/\*!?/,"").replace(/\*\/[^\/]+$/,"")},$3Dmol.syncSurface=!1,(0<=window.navigator.userAgent.indexOf("MSIE ")||0<=window.navigator.userAgent.indexOf("Trident/"))&&($3Dmol.syncSurface=!0),$3Dmol.specStringToObject=function(e){if("object"==typeof e||void 0===e||null==e)return e;var t=function(e){return $.isNumeric(e)?Math.floor(parseFloat(e))==parseInt(e)?parseFloat(e):0<=e.indexOf(".")?parseFloat(e):parseInt(e):"true"===e||"false"!==e&&e},r={};if("all"===(e=e.replace(/%7E/,"~")))return r;e=e.split(";");for(var n=0;n<e.length;n++){var o=e[n].split(":"),i=o[0],a={};if(o=o[1])if(-1!==(o=o.replace(/~/g,"=")).indexOf("=")){o=o.split(",");for(var s=0;s<o.length;s++){var l=o[s].split("=",2);a[l[0]]=t(l[1])}}else a=-1!==o.indexOf(",")?o.split(","):t(o);r[i]=a}return r},$3Dmol.getExtent=function(e,t){var r,n,o,i,a,s,l,c=!t;t=r=n=9999;var u=o=i=-9999,h=a=s=l=0;if(0===e.length)return[[0,0,0],[0,0,0],[0,0,0]];for(var f=0;f<e.length;f++){var p=e[f];if(void 0!==p&&isFinite(p.x)&&isFinite(p.y)&&isFinite(p.z)&&(l++,h+=p.x,a+=p.y,s+=p.z,t=t<p.x?t:p.x,r=r<p.y?r:p.y,n=n<p.z?n:p.z,u=u>p.x?u:p.x,o=o>p.y?o:p.y,i=i>p.z?i:p.z,p.symmetries&&c))for(var d=0;d<p.symmetries.length;d++)l++,h+=p.symmetries[d].x,a+=p.symmetries[d].y,s+=p.symmetries[d].z,t=t<p.symmetries[d].x?t:p.symmetries[d].x,r=r<p.symmetries[d].y?r:p.symmetries[d].y,n=n<p.symmetries[d].z?n:p.symmetries[d].z,u=u>p.symmetries[d].x?u:p.symmetries[d].x,o=o>p.symmetries[d].y?o:p.symmetries[d].y,i=i>p.symmetries[d].z?i:p.symmetries[d].z}return[[t,r,n],[u,o,i],[h/l,a/l,s/l]]},$3Dmol.getAtomProperty=function(e,t){var r=null;return e.properties&&void 0!==e.properties[t]?r=e.properties[t]:void 0!==e[t]&&(r=e[t]),r},$3Dmol.getPropertyRange=function(e,t){for(var r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=0,i=e.length;o<i;o++){var a=$3Dmol.getAtomProperty(e[o],t);null!=a&&(a<r&&(r=a),a>n&&(n=a))}return isFinite(r)||isFinite(n)?isFinite(r)?isFinite(n)||(n=r):r=n:r=n=0,[r,n]},$3Dmol.createStereoViewer=function(e){var t=this;if("string"===$.type(e)&&(e=$("#"+e)),e){e=$3Dmol.createViewerGrid(e,{rows:1,cols:2,control_all:!0}),this.glviewer1=e[0][0],this.glviewer2=e[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1),e=Object.getOwnPropertyNames(this.glviewer1).filter(function(e){return"function"==typeof t.glviewer1[e]});for(var r=0;r<e.length;r++)this[e[r]]=function(e){return function(){return[this.glviewer1[e].apply(this.glviewer1,arguments),this.glviewer2[e].apply(this.glviewer2,arguments)]}}(e[r]);this.setCoordinates=function(e,t,r){for(var n=0;n<e.length;n++)e[n].setCoordinates(t,r)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(e){this.glviewer1.render(),this.glviewer2.render(),e&&e(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}};var $3Dmol=$3Dmol||{},b,c;$3Dmol.Math={clamp:function(e,t,r){return Math.min(Math.max(e,t),r)},degToRad:(b=Math.PI/180,function(e){return e*b})},$3Dmol.Quaternion=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1},$3Dmol.Quaternion.prototype={constructor:$3Dmol.Quaternion,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},inverse:function(){return this.conjugate().normalize()},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.z=this.y=this.x=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},multiplyQuaternions:function(e,t){var r=e.x,n=e.y,o=e.z;e=e.w;var i=t.x,a=t.y,s=t.z;return t=t.w,this.x=r*t+e*i+n*s-o*a,this.y=n*t+e*a+o*i-r*s,this.z=o*t+e*s+r*a-n*i,this.w=e*t-r*i-n*a-o*s,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this},clone:function(){return new $3Dmol.Quaternion(this.x,this.y,this.z,this.w)},setFromEuler:function(e){var t=Math.cos(e.x/2),r=Math.cos(e.y/2),n=Math.cos(e.z/2),o=Math.sin(e.x/2),i=Math.sin(e.y/2);return e=Math.sin(e.z/2),this.x=o*r*n+t*i*e,this.y=t*i*n-o*r*e,this.z=t*r*e+o*i*n,this.w=t*r*n-o*i*e,this}},$3Dmol.Vector2=function(e,t){this.x=e||0,this.y=t||0},$3Dmol.Vector2.prototype={constructor:$3Dmol.Vector2,set:function(e,t){return this.x=e,this.y=t,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},copy:function(e){return this.x=e.x,this.y=e.y,this},clone:function(){return new $3Dmol.Vector2(this.x,this.y)}},$3Dmol.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},$3Dmol.Vector3.prototype={constructor:$3Dmol.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):this.z=this.y=this.x=0,this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r+(e=this.z-e.z)*e},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n+e[12],this.y=e[1]*t+e[5]*r+e[9]*n+e[13],this.z=e[2]*t+e[6]*r+e[10]*n+e[14],this},applyProjection:function(e){var t=this.x,r=this.y,n=this.z,o=(e=e.elements)[3]*t+e[7]*r+e[11]*n+e[15];return this.x=(e[0]*t+e[4]*r+e[8]*n+e[12])/o,this.y=(e[1]*t+e[5]*r+e[9]*n+e[13])/o,this.z=(e[2]*t+e[6]*r+e[10]*n+e[14])/o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,o=e.x,i=e.y,a=e.z,s=2*(r*a-n*i),l=2*(n*o-t*a),c=2*(t*i-r*o);return this.x=t+e.w*s+(l*a-c*i),this.y=r+e.w*l+(c*o-s*a),this.z=n+e.w*c+(s*i-l*o),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},normalize:function(){return this.divideScalar(this.length())},cross:function(e){var t=this.x,r=this.y,n=this.z;return this.x=r*e.z-n*e.y,this.y=n*e.x-t*e.z,this.z=t*e.y-r*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setEulerFromRotationMatrix:function(e,t){var r=e.elements;e=r[0];var n=r[4],o=r[8],i=r[5],a=r[9],s=r[6];return r=r[10],void 0===t||"XYZ"===t?(this.y=Math.asin($3Dmol.Math.clamp(o,-1,1)),.99999>Math.abs(o)?(this.x=Math.atan2(-a,r),this.z=Math.atan2(-n,e)):(this.x=Math.atan2(s,i),this.z=0)):console.error("Error with vector's setEulerFromRotationMatrix: Unknown order: "+t),this},rotateAboutVector:function(e,t){e.normalize();var r=Math.cos(t),n=Math.sin(t);return t=this.clone().multiplyScalar(r),n=e.clone().cross(this).multiplyScalar(n),e=e.clone().multiplyScalar(e.clone().dot(this)).multiplyScalar(1-r),e=t.add(n).add(e),this.x=e.x,this.y=e.y,this.z=e.z,this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},transformDirection:function(e){var t=this.x,r=this.y,n=this.z;return e=e.elements,this.x=e[0]*t+e[4]*r+e[8]*n,this.y=e[1]*t+e[5]*r+e[9]*n,this.z=e[2]*t+e[6]*r+e[10]*n,this.normalize()},clone:function(){return new $3Dmol.Vector3(this.x,this.y,this.z)}},$3Dmol.Matrix3=function(e,t,r,n,o,i,a,s,l){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,r||0,n||0,void 0!==o?o:1,i||0,a||0,s||0,void 0!==l?l:1)},$3Dmol.Matrix3.prototype={constructor:$3Dmol.Matrix3,set:function(e,t,r,n,o,i,a,s,l){var c=this.elements;return c[0]=e,c[3]=t,c[6]=r,c[1]=n,c[4]=o,c[7]=i,c[2]=a,c[5]=s,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},getInverse:function(e,t){e=e.elements;var r=this.elements;if(r[0]=e[10]*e[5]-e[6]*e[9],r[1]=-e[10]*e[1]+e[2]*e[9],r[2]=e[6]*e[1]-e[2]*e[5],r[3]=-e[10]*e[4]+e[6]*e[8],r[4]=e[10]*e[0]-e[2]*e[8],r[5]=-e[6]*e[0]+e[2]*e[4],r[6]=e[9]*e[4]-e[5]*e[8],r[7]=-e[9]*e[0]+e[1]*e[8],r[8]=e[5]*e[0]-e[1]*e[4],0==(e=e[0]*r[0]+e[1]*r[3]+e[2]*r[6])){if(t)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/e),this},getDeterminant:function(){var e=this.elements;return e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7]},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},clone:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},$3Dmol.Matrix4=function(e,t,r,n,o,i,a,s,l,c,u,h,f,p,d,m){if(void 0===t&&void 0!==e)this.elements=new Float32Array(e);else{var g=this.elements=new Float32Array(16);g[0]=void 0!==e?e:1,g[4]=t||0,g[8]=r||0,g[12]=n||0,g[1]=o||0,g[5]=void 0!==i?i:1,g[9]=a||0,g[13]=s||0,g[2]=l||0,g[6]=c||0,g[10]=void 0!==u?u:1,g[14]=h||0,g[3]=f||0,g[7]=p||0,g[11]=d||0,g[15]=void 0!==m?m:1}},$3Dmol.Matrix4.prototype={constructor:$3Dmol.Matrix4,set:function(e,t,r,n,o,i,a,s,l,c,u,h,f,p,d,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=o,g[5]=i,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=f,g[7]=p,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),this},matrix3FromTopLeft:function(){var e=this.elements;return new $3Dmol.Matrix3(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10])},setRotationFromEuler:function(e,t){var r=this.elements,n=e.x,o=e.y,i=e.z;e=Math.cos(n),n=Math.sin(n);var a=Math.cos(o);o=Math.sin(o);var s=Math.cos(i);if(i=Math.sin(i),void 0===t||"XYZ"===t){t=e*s;var l=e*i,c=n*s,u=n*i;r[0]=a*s,r[4]=-a*i,r[8]=o,r[1]=l+c*o,r[5]=t-u*o,r[9]=-n*a,r[2]=u-t*o,r[6]=c+l*o,r[10]=e*a}else console.error("Error with matrix4 setRotationFromEuler. Order: "+t);return this},setRotationFromQuaternion:function(e){var t=this.elements,r=e.x,n=e.y,o=e.z,i=e.w,a=r+r,s=n+n,l=o+o;e=r*a;var c=r*s;r*=l;var u=n*s;return n*=l,o*=l,a*=i,s*=i,i*=l,t[0]=1-(u+o),t[4]=c-i,t[8]=r+s,t[1]=c+i,t[5]=1-(e+o),t[9]=n-a,t[2]=r-s,t[6]=n+a,t[10]=1-(e+u),this},lookAt:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,r=new $3Dmol.Vector3;return function(n,o,i){var a=this.elements;return r.subVectors(n,o).normalize(),0===r.length()&&(r.z=1),e.crossVectors(i,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(i,r).normalize()),t.crossVectors(r,e),a[0]=e.x,a[4]=t.x,a[8]=r.x,a[1]=e.y,a[5]=t.y,a[9]=r.y,a[2]=e.z,a[6]=t.z,a[10]=r.z,this}}(),multiplyMatrices:function(e,t){var r=e.elements,n=t.elements;t=this.elements,e=r[0];var o=r[4],i=r[8],a=r[12],s=r[1],l=r[5],c=r[9],u=r[13],h=r[2],f=r[6],p=r[10],d=r[14],m=r[3],g=r[7],v=r[11];r=r[15];var y=n[0],b=n[4],_=n[8],x=n[12],w=n[1],A=n[5],$=n[9],D=n[13],C=n[2],S=n[6],T=n[10],M=n[14],R=n[3],L=n[7],E=n[11];return n=n[15],t[0]=e*y+o*w+i*C+a*R,t[4]=e*b+o*A+i*S+a*L,t[8]=e*_+o*$+i*T+a*E,t[12]=e*x+o*D+i*M+a*n,t[1]=s*y+l*w+c*C+u*R,t[5]=s*b+l*A+c*S+u*L,t[9]=s*_+l*$+c*T+u*E,t[13]=s*x+l*D+c*M+u*n,t[2]=h*y+f*w+p*C+d*R,t[6]=h*b+f*A+p*S+d*L,t[10]=h*_+f*$+p*T+d*E,t[14]=h*x+f*D+p*M+d*n,t[3]=m*y+g*w+v*C+r*R,t[7]=m*b+g*A+v*S+r*L,t[11]=m*_+g*$+v*T+r*E,t[15]=m*x+g*D+v*M+r*n,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},transpose:function(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},getPosition:function(){var e=new $3Dmol.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,n=(e=e.elements)[0],o=e[4],i=e[8],a=e[12],s=e[1],l=e[5],c=e[9],u=e[13],h=e[2],f=e[6],p=e[10],d=e[14],m=e[3],g=e[7],v=e[11],y=e[15];if(r[0]=c*d*g-u*p*g+u*f*v-l*d*v-c*f*y+l*p*y,r[4]=a*p*g-i*d*g-a*f*v+o*d*v+i*f*y-o*p*y,r[8]=i*u*g-a*c*g+a*l*v-o*u*v-i*l*y+o*c*y,r[12]=a*c*f-i*u*f-a*l*p+o*u*p+i*l*d-o*c*d,r[1]=u*p*m-c*d*m-u*h*v+s*d*v+c*h*y-s*p*y,r[5]=i*d*m-a*p*m+a*h*v-n*d*v-i*h*y+n*p*y,r[9]=a*c*m-i*u*m-a*s*v+n*u*v+i*s*y-n*c*y,r[13]=i*u*h-a*c*h+a*s*p-n*u*p-i*s*d+n*c*d,r[2]=l*d*m-u*f*m+u*h*g-s*d*g-l*h*y+s*f*y,r[6]=a*f*m-o*d*m-a*h*g+n*d*g+o*h*y-n*f*y,r[10]=o*u*m-a*l*m+a*s*g-n*u*g-o*s*y+n*l*y,r[14]=a*l*h-o*u*h-a*s*f+n*u*f+o*s*d-n*l*d,r[3]=c*f*m-l*p*m-c*h*g+s*p*g+l*h*v-s*f*v,r[7]=o*p*m-i*f*m+i*h*g-n*p*g-o*h*v+n*f*v,r[11]=i*l*m-o*c*m-i*s*g+n*c*g+o*s*v-n*l*v,r[15]=o*c*h-i*l*h+i*s*f-n*c*f-o*s*p+n*l*p,0==(r=e[0]*r[0]+e[1]*r[4]+e[2]*r[8]+e[3]*r[12])){if(t)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/r),this},isReflected:function(){return 0>this.matrix3FromTopLeft().getDeterminant()},compose:function(){var e=new $3Dmol.Matrix4,t=new $3Dmol.Matrix4;return function(r,n,o){var i=this.elements;return e.identity(),e.setRotationFromQuaternion(n),t.makeScale(o.x,o.y,o.z),this.multiplyMatrices(e,t),i[12]=r.x,i[13]=r.y,i[14]=r.z,this}}(),decompose:function(){var e=new $3Dmol.Vector3,t=new $3Dmol.Vector3,r=new $3Dmol.Vector3,n=new $3Dmol.Matrix4;return function(o,i,a){var s=this.elements;return e.set(s[0],s[1],s[2]),t.set(s[4],s[5],s[6]),r.set(s[8],s[9],s[10]),o=o instanceof $3Dmol.Vector3?o:new $3Dmol.Vector3,i=i instanceof $3Dmol.Quaternion?i:new $3Dmol.Quaternion,(a=a instanceof $3Dmol.Vector3?a:new $3Dmol.Vector3).x=e.length(),a.y=t.length(),a.z=r.length(),o.x=s[12],o.y=s[13],o.z=s[14],n.copy(this),n.elements[0]/=a.x,n.elements[1]/=a.x,n.elements[2]/=a.x,n.elements[4]/=a.y,n.elements[5]/=a.y,n.elements[6]/=a.y,n.elements[8]/=a.z,n.elements[9]/=a.z,n.elements[10]/=a.z,i.setFromRotationMatrix(n),[o,i,a]}}(),scale:function(e){var t=this.elements,r=e.x,n=e.y;return e=e.z,t[0]*=r,t[4]*=n,t[8]*=e,t[1]*=r,t[5]*=n,t[9]*=e,t[2]*=r,t[6]*=n,t[10]*=e,t[3]*=r,t[7]*=n,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],Math.max(e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10])))},makeFrustum:function(e,t,r,n,o,i){var a=this.elements;return a[0]=2*o/(t-e),a[4]=0,a[8]=(t+e)/(t-e),a[12]=0,a[1]=0,a[5]=2*o/(n-r),a[9]=(n+r)/(n-r),a[13]=0,a[2]=0,a[6]=0,a[10]=-(i+o)/(i-o),a[14]=-2*i*o/(i-o),a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,n){var o=-(e=r*Math.tan($3Dmol.Math.degToRad(.5*e)));return this.makeFrustum(o*t,e*t,o,e,r,n)},makeOrthographic:function(e,t,r,n,o,i){var a=this.elements,s=1/(t-e),l=1/(r-n),c=1/(i-o);return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-(t+e)*s,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-(r+n)*l,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-(i+o)*c,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},isEqual:function(e){e=e.elements;var t=this.elements;return t[0]==e[0]&&t[4]==e[4]&&t[8]==e[8]&&t[12]==e[12]&&t[1]==e[1]&&t[5]==e[5]&&t[9]==e[9]&&t[13]==e[13]&&t[2]==e[2]&&t[6]==e[6]&&t[10]==e[10]&&t[14]==e[14]&&t[3]==e[3]&&t[7]==e[7]&&t[11]==e[11]&&t[15]==e[15]},clone:function(){var e=this.elements;return new $3Dmol.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},isIdentity:function(){var e=this.elements;return 1==e[0]&&0==e[4]&&0==e[8]&&0==e[12]&&0==e[1]&&1==e[5]&&0==e[9]&&0==e[13]&&0==e[2]&&0==e[6]&&1==e[10]&&0==e[14]&&0==e[3]&&0==e[7]&&0==e[11]&&1==e[15]}},$3Dmol.Vector3.prototype.unproject=function(){var e=new $3Dmol.Matrix4;return function(t){return e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),$3Dmol.Ray=function(e,t){this.origin=void 0!==e?e:new $3Dmol.Vector3,this.direction=void 0!==t?t:new $3Dmol.Vector3},$3Dmol.Ray.prototype={constructor:$3Dmol.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new $3Dmol.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new $3Dmol.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){return(t=t||new $3Dmol.Vector3).subVectors(e,this.origin),e=t.dot(this.direction),t.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:(c=new $3Dmol.Vector3,function(e){var t=c.subVectors(e,this.origin).dot(this.direction);return c.copy(this.direction).multiplyScalar(t).add(this.origin),c.distanceTo(e)}),isIntersectionCylinder:function(){},isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){return 0!==e.normal.dot(this.direction)||0===e.distanceToPoint(this.origin)},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0!==t?-(this.origin.dot(e.normal)+e.constant)/t:0===e.distanceToPoint(this.origin)?0:void 0},intersectPlane:function(e,t){if(void 0!==(e=this.distanceToPlane(e)))return this.at(e,t)},applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new $3Dmol.Ray).copy(this)}},$3Dmol.Sphere=function(e,t){this.center=void 0!==e?e:new $3Dmol.Vector3,this.radius=void 0!==t?t:0},$3Dmol.Sphere.prototype={constructor:$3Dmol.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new $3Dmol.Sphere).copy(this)}},$3Dmol.Cylinder=function(e,t,r){this.c1=void 0!==e?e:new $3Dmol.Vector3,this.c2=void 0!==t?t:new $3Dmol.Vector3,this.direction=(new $3Dmol.Vector3).subVectors(this.c2,this.c1).normalize(),this.radius=void 0!==r?r:0},$3Dmol.Cylinder.prototype={constructor:$3Dmol.Cylinder,copy:function(e){return this.c1.copy(e.c1),this.c2.copy(e.c2),this.direction.copy(e.direction),this.radius=e.radius,this},lengthSq:function(){var e=new $3Dmol.Vector3;return function(){return e.subVectors(this.c2,this.c1).lengthSq()}}(),applyMatrix4:function(e){return this.direction.add(this.c1).applyMatrix4(e),this.c1.applyMatrix4(e),this.c2.applyMatrix4(e),this.direction.sub(this.c1).normalize(),this.radius*=e.getMaxScaleOnAxis(),this}},$3Dmol.Triangle=function(e,t,r){this.a=void 0!==e?e:new $3Dmol.Vector3,this.b=void 0!==t?t:new $3Dmol.Vector3,this.c=void 0!==r?r:new $3Dmol.Vector3},$3Dmol.Triangle.prototype={constructor:$3Dmol.Triangle,copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},applyMatrix4:function(e){return this.a.applyMatrix4(e),this.b.applyMatrix4(e),this.c.applyMatrix4(e),this},getNormal:function(){var e=new $3Dmol.Vector3;return function(){var t=this.a.clone();return t.sub(this.b),e.subVectors(this.c,this.b),t.cross(e),t.normalize(),t}}()},$3Dmol.EventDispatcher=function(){var e={};this.addEventListener=function(t,r){void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},this.removeEventListener=function(t,r){-1!==(r=e[t].indexOf(r))&&e[t].splice(r,1)},this.dispatchEvent=function(t){var r=e[t.type];if(void 0!==r){t.target=this;for(var n=0,o=r.length;n<o;n++)r[n].call(this,t)}}},$3Dmol.Color=function(e){return 1<arguments.length?(this.r=arguments[0]||0,this.g=arguments[1]||0,this.b=arguments[2]||0,this):this.set(e)},$3Dmol.Color.prototype={constructor:$3Dmol.Color,r:0,g:0,b:0,set:function(e){if(e instanceof $3Dmol.Color)return e.clone();"number"==typeof e?this.setHex(e):"object"==typeof e&&"r"in e&&"g"in e&&"b"in e&&(this.r=e.r,this.g=e.g,this.b=e.b)},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},getHex:function(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)},clone:function(){return new $3Dmol.Color(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},scaled:function(){var e={};return e.r=Math.round(255*this.r),e.g=Math.round(255*this.g),e.b=Math.round(255*this.b),e.a=1,e}},$3Dmol.Object3D=function(){this.id=$3Dmol.Object3DIDCount++,this.name="",this.parent=void 0,this.children=[],this.position=new $3Dmol.Vector3,this.rotation=new $3Dmol.Vector3,this.matrix=new $3Dmol.Matrix4,this.matrixWorld=new $3Dmol.Matrix4,this.quaternion=new $3Dmol.Quaternion,this.eulerOrder="XYZ",this.up=new $3Dmol.Vector3(0,1,0),this.scale=new $3Dmol.Vector3(1,1,1),this.rotationAutoUpdate=this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0},$3Dmol.Object3D.prototype={constructor:$3Dmol.Object3D,lookAt:function(e){this.matrix.lookAt(e,this.position,this.up),this.rotationAutoUpdate&&(!0===this.useQuaternion?this.quaternion.copy(this.matrix.decompose()[1]):this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))},add:function(e){if(e===this)console.error("Can't add $3Dmol.Object3D to itself");else{e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){for(e.parent=void 0,this.children.splice(t,1),t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof $3Dmol.Scene&&t.__removeObject(e)}},updateMatrix:function(){this.matrix.setPosition(this.position),!1===this.useQuaternion?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),1===this.scale.x&&1===this.scale.y&&1===this.scale.z||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){for(!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=0;e<this.children.length;e++)this.children[e].updateMatrixWorld(!0)},clone:function(e){void 0===e&&(e=new $3Dmol.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.quaternion.copy(this.quaternion),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.useQuaternion=this.useQuaternion,e.visible=this.visible;for(var t=0;t<this.children.length;t++)e.add(this.children[t].clone());return e},setVisible:function(e){this.visible=e;for(var t=0;t<this.children.length;t++)this.children[t].setVisible(e)}},$3Dmol.Object3DIDCount=0,$3Dmol.Geometry=function(){var e=function(e){this.id=e||0,this.lineArray=this.radiusArray=this.faceArray=this.normalArray=this.colorArray=this.vertexArray=null,this.lineidx=this.faceidx=this.vertices=0};e.prototype.setColors=function(e){var t=this.vertexArray,r=this.colorArray;if(t.length!=r.length)console.log("Cannot re-color geometry group due to mismatched lengths.");else for(var n=0;n<t.length;n+=3){var o=e(t[n],t[n+1],t[n+2]);o instanceof $3Dmol.Color||(o=$3Dmol.CC.color(o)),r[n]=o.r,r[n+1]=o.g,r[n+2]=o.b}},e.prototype.getNumVertices=function(){return this.vertices},e.prototype.getVertices=function(){return this.vertexArray},e.prototype.getCentroid=function(){for(var e,t,r,n=new $3Dmol.Vector3,o=0;o<this.vertices;++o)e=3*o,t=this.vertexArray[e],r=this.vertexArray[e+1],e=this.vertexArray[e+2],n.x+=t,n.y+=r,n.z+=e;return n.divideScalar(this.vertices),n},e.prototype.setNormals=function(){var e=this.faceArray,t=this.vertexArray,r=this.normalArray;if(this.vertices&&this.faceidx)for(var n,o,i,a,s,l,c=0;c<e.length/3;++c)n=3*e[3*c],o=3*e[3*c+1],i=3*e[3*c+2],a=new $3Dmol.Vector3(t[n],t[n+1],t[n+2]),s=new $3Dmol.Vector3(t[o],t[o+1],t[o+2]),l=new $3Dmol.Vector3(t[i],t[i+1],t[i+2]),a.subVectors(a,s),l.subVectors(l,s),l.cross(a),(a=l).normalize(),r[n]+=a.x,r[o]+=a.x,r[i]+=a.x,r[n+1]+=a.y,r[o+1]+=a.y,r[i+1]+=a.y,r[n+2]+=a.z,r[o+2]+=a.z,r[i+2]+=a.z},e.prototype.setLineIndices=function(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var e=this.faceArray,t=this.lineArray=new Uint16Array(2*this.faceidx);this.lineidx=2*this.faceidx;for(var r=0;r<this.faceidx/3;++r){var n=3*r,o=2*n,i=e[n],a=e[n+1];n=e[n+2],t[o]=i,t[o+1]=a,t[o+2]=i,t[o+3]=n,t[o+4]=a,t[o+5]=n}}},e.prototype.truncateArrayBuffers=function(e,t){e=!0===e;var r=this.colorArray,n=this.normalArray,o=this.faceArray,i=this.lineArray,a=this.radiusArray;this.vertexArray=this.vertexArray.subarray(0,3*this.vertices),this.colorArray=r.subarray(0,3*this.vertices),e?(this.normalArray=n.subarray(0,3*this.vertices),this.faceArray=o.subarray(0,this.faceidx),this.lineArray=0<this.lineidx?i.subarray(0,this.lineidx):new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),a&&(this.radiusArray=a.subarray(0,this.vertices)),t&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0};var t=function(t){var r=new e(t.geometryGroups.length);return t.geometryGroups.push(r),t.groups=t.geometryGroups.length,r.vertexArray=new Float32Array(196605),r.colorArray=new Float32Array(196605),t.mesh&&(r.normalArray=new Float32Array(196605),r.faceArray=new Uint16Array(393210),r.lineArray=new Uint16Array(393210)),t.radii&&(r.radiusArray=new Float32Array(65535)),r.useOffset=t.offset,r},r=function(e,t,r){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.GeometryIDCount++,this.name="",this.hasTangents=!1,this.dynamic=!0,this.mesh=!0===e,this.radii=t||!1,this.offset=r||!1,this.buffersNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1,this.geometryGroups=[],this.groups=0};return r.prototype={constructor:r,updateGeoGroup:function(e){var r=0<this.groups?this.geometryGroups[this.groups-1]:null;return(!r||r.vertices+(e||0)>r.vertexArray.length/3)&&(r=t(this)),r},addGeoGroup:function(){return t(this)},setUpNormals:function(e){e=e||!1;for(var t=0;t<this.groups;t++)this.geometryGroups[t].setNormals(e)},setColors:function(e){for(var t=this.geometryGroups.length,r=0;r<t;r++)this.geometryGroups[r].setColors(e)},setUpWireframe:function(){for(var e=0;e<this.groups;e++)this.geometryGroups[e].setLineIndices()},initTypedArrays:function(){for(var e=0;e<this.groups;e++){var t=this.geometryGroups[e];!0!==t.__inittedArrays&&t.truncateArrayBuffers(this.mesh,!1)}},dispose:function(){this.dispatchEvent({type:"dispose"})}},r}(),Object.defineProperty($3Dmol.Geometry.prototype,"vertices",{get:function(){for(var e=0,t=0;t<this.groups;t++)e+=this.geometryGroups[t].vertices;return e}}),$3Dmol.GeometryIDCount=0,$3Dmol.Raycaster=function(){var e=function(e,t,r,n){this.ray=new $3Dmol.Ray(e,t),0<this.ray.direction.lengthSq()&&this.ray.direction.normalize(),this.near=n||0,this.far=r||1/0},t=new $3Dmol.Sphere,r=new $3Dmol.Cylinder,n=new $3Dmol.Triangle,o=new $3Dmol.Vector3,i=new $3Dmol.Vector3,a=new $3Dmol.Vector3,s=new $3Dmol.Vector3;new $3Dmol.Ray,new $3Dmol.Vector3;var l=new $3Dmol.Vector3;new $3Dmol.Matrix4;var c=function(e,t){return e.distance-t.distance};return e.prototype.precision=1e-4,e.prototype.linePrecision=.2,e.prototype.set=function(e,t){this.ray.set(e,t)},e.prototype.setFromCamera=function(){var e=new $3Dmol.Matrix4;return function(t,r){r.ortho?(this.ray.origin.set(t.x,t.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(t.x,t.y,t.z),r.projectionMatrixInverse.getInverse(r.projectionMatrix),e.multiplyMatrices(r.matrixWorld,r.projectionMatrixInverse),this.ray.direction.applyProjection(e),this.ray.direction.sub(this.ray.origin).normalize())}}(),e.prototype.intersectObjects=function(e,u){for(var h=[],f=0,p=u.length;f<p;f++)e:{var d=e,m=u[f],g=h;if(l.getPositionFromMatrix(d.matrixWorld),void 0!==m.intersectionShape){var v=m.intersectionShape,y=this.linePrecision,b=(y*=d.matrixWorld.getMaxScaleOnAxis())*y;if(void 0!==m.boundingSphere&&m.boundingSphere instanceof $3Dmol.Sphere&&(t.copy(m.boundingSphere),t.applyMatrix4(d.matrixWorld),!this.ray.isIntersectionSphere(t)))break e;var _=0;for(y=v.triangle.length;_<y;_++)if(v.triangle[_]instanceof $3Dmol.Triangle){n.copy(v.triangle[_]),n.applyMatrix4(d.matrixWorld);var x=n.getNormal(),w=this.ray.direction.dot(x);if(!(0<=w)){o.subVectors(n.a,this.ray.origin);var A=x.dot(o)/w;if(!(0>A)){i.copy(this.ray.direction).multiplyScalar(A).add(this.ray.origin),i.sub(n.a),a.copy(n.b).sub(n.a),s.copy(n.c).sub(n.a),w=a.dot(s);var $=a.lengthSq();x=s.lengthSq(),0>(x=($*i.dot(s)-w*i.dot(a))/($*x-w*w))||1<x||0>(w=(i.dot(a)-x*w)/$)||1<w||1<w+x||g.push({clickable:m,distance:A})}}}for(_=0,y=v.cylinder.length;_<y;_++)if(v.cylinder[_]instanceof $3Dmol.Cylinder){r.copy(v.cylinder[_]),r.applyMatrix4(d.matrixWorld),o.subVectors(r.c1,this.ray.origin);var D=o.dot(r.direction);if($=o.dot(this.ray.direction),0!=(x=1-(w=Math.min(Math.max(this.ray.direction.dot(r.direction),-1),1))*w)){var C=(w*$-D)/x,S=($-w*D)/x;i.copy(r.direction).multiplyScalar(C).add(r.c1),a.copy(this.ray.direction).multiplyScalar(S).add(this.ray.origin);var T=s.subVectors(i,a).lengthSq();T<=(C=r.radius*r.radius)&&(0>(w=w*(x=A=0>=(C=(w*D-$)*(w*D-$)-x*(o.lengthSq()-D*D-C))?Math.sqrt(T):($-w*D-Math.sqrt(C))/x)-D)||w*w>r.lengthSq()||0>x||g.push({clickable:m,distance:A}))}}for(_=0,y=v.line.length;_<y;_+=2)i.copy(v.line[_]),i.applyMatrix4(d.matrixWorld),a.copy(v.line[_+1]),a.applyMatrix4(d.matrixWorld),s.subVectors(a,i),D=s.lengthSq(),s.normalize(),o.subVectors(i,this.ray.origin),T=o.dot(s),$=o.dot(this.ray.direction),0!=(x=1-(w=Math.min(Math.max(this.ray.direction.dot(s),-1),1))*w)&&(C=(w*$-T)/x,S=($-w*T)/x,i.add(s.multiplyScalar(C)),a.copy(this.ray.direction).multiplyScalar(S).add(this.ray.origin),(T=s.subVectors(a,i).lengthSq())<b&&C*C<D&&g.push({clickable:m,distance:S}));for(_=0,y=v.sphere.length;_<y;_++)if(v.sphere[_]instanceof $3Dmol.Sphere&&(t.copy(v.sphere[_]),t.applyMatrix4(d.matrixWorld),this.ray.isIntersectionSphere(t))){if(i.subVectors(t.center,this.ray.origin),C=(d=i.dot(this.ray.direction))*d-(i.lengthSq()-t.radius*t.radius),0>d)break e;A=0>=C?d:d-Math.sqrt(C),g.push({clickable:m,distance:A});break e}}}return h.sort(c),h},e}(),$3Dmol.Projector=function(){new $3Dmol.Matrix4;var e=new $3Dmol.Matrix4;this.projectVector=function(t,r){return r.matrixWorldInverse.getInverse(r.matrixWorld),e.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),t.applyProjection(e)},this.unprojectVector=function(t,r){return r.projectionMatrixInverse.getInverse(r.projectionMatrix),e.multiplyMatrices(r.matrixWorld,r.projectionMatrixInverse),t.applyProjection(e)}},$3Dmol.Camera=function(e,t,r,n,o){$3Dmol.Object3D.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.projectionMatrix=new $3Dmol.Matrix4,this.projectionMatrixInverse=new $3Dmol.Matrix4,this.matrixWorldInverse=new $3Dmol.Matrix4,this.right=this.position.z*Math.tan(Math.PI/180*e),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!o,this.updateProjectionMatrix()},$3Dmol.Camera.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Camera.prototype.lookAt=function(e){this.matrix.lookAt(this.position,e,this.up),this.rotationAutoUpdate&&(!1===this.useQuaternion?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):this.quaternion.copy(this.matrix.decompose()[1]))},$3Dmol.Camera.prototype.updateProjectionMatrix=function(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},$3Dmol.SpritePlugin=function(){function e(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var t,r,n,o,i,a,s,l,c,u;this.init=function(e){t=e.context,r=e,n=e.getPrecision(),o=new Float32Array(16),i=new Uint16Array(6),e=0,o[e++]=-1,o[e++]=-1,o[e++]=0,o[e++]=0,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=1,o[e++]=-1,o[e++]=1,o[e++]=0,o[e++]=1,e=0,i[e++]=0,i[e++]=1,i[e++]=2,i[e++]=0,i[e++]=2,i[e++]=3,a=t.createBuffer(),s=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,o,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.bufferData(t.ELEMENT_ARRAY_BUFFER,i,t.STATIC_DRAW),e=$3Dmol.ShaderLib.sprite;var h=n,f=t.createProgram(),p=t.createShader(t.FRAGMENT_SHADER),d=t.createShader(t.VERTEX_SHADER);h="precision "+h+" float;\n",t.shaderSource(p,h+e.fragmentShader),t.shaderSource(d,h+e.vertexShader),t.compileShader(p),t.compileShader(d),t.getShaderParameter(p,t.COMPILE_STATUS)&&t.getShaderParameter(d,t.COMPILE_STATUS)?(t.attachShader(f,p),t.attachShader(f,d),t.linkProgram(f),t.getProgramParameter(f,t.LINK_STATUS)||console.error("Could not initialize shader"),e=f):(console.error(t.getShaderInfoLog(p)),console.error("could not initialize shader"),e=null),l=e,u={},(c={}).position=t.getAttribLocation(l,"position"),c.uv=t.getAttribLocation(l,"uv"),u.uvOffset=t.getUniformLocation(l,"uvOffset"),u.uvScale=t.getUniformLocation(l,"uvScale"),u.rotation=t.getUniformLocation(l,"rotation"),u.scale=t.getUniformLocation(l,"scale"),u.alignment=t.getUniformLocation(l,"alignment"),u.color=t.getUniformLocation(l,"color"),u.map=t.getUniformLocation(l,"map"),u.opacity=t.getUniformLocation(l,"opacity"),u.useScreenCoordinates=t.getUniformLocation(l,"useScreenCoordinates"),u.screenPosition=t.getUniformLocation(l,"screenPosition"),u.modelViewMatrix=t.getUniformLocation(l,"modelViewMatrix"),u.projectionMatrix=t.getUniformLocation(l,"projectionMatrix"),u.fogType=t.getUniformLocation(l,"fogType"),u.fogDensity=t.getUniformLocation(l,"fogDensity"),u.fogNear=t.getUniformLocation(l,"fogNear"),u.fogFar=t.getUniformLocation(l,"fogFar"),u.fogColor=t.getUniformLocation(l,"fogColor"),u.alphaTest=t.getUniformLocation(l,"alphaTest")},this.render=function(n,o,i,h){var f=n.__webglSprites,p=f.length;if(p){var d=c,m=u,g=.5*i,v=.5*h;if(t.useProgram(l),t.enableVertexAttribArray(d.position),t.enableVertexAttribArray(d.uv),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,a),t.vertexAttribPointer(d.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(d.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,s),t.uniformMatrix4fv(m.projectionMatrix,!1,o.projectionMatrix.elements),t.activeTexture(t.TEXTURE0),t.uniform1i(m.map,0),d=n.fog){t.uniform3f(m.fogColor,d.color.r,d.color.g,d.color.b),t.uniform1f(m.fogNear,d.near),t.uniform1f(m.fogFar,d.far),t.uniform1i(m.fogType,1);var y=d=1}else t.uniform1i(m.fogType,0),y=d=0;var b,_=[];for(b=0;b<p;b++){var x=f[b],w=x.material;x.visible&&0!==w.opacity&&(w.useScreenCoordinates?x.z=-x.position.z:(x._modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,x.matrixWorld),x.z=-x._modelViewMatrix.elements[14]))}for(f.sort(e),b=0;b<p;b++)w=(x=f[b]).material,x.visible&&0!==w.opacity&&w.map&&w.map.image&&w.map.image.width&&(t.uniform1f(m.alphaTest,w.alphaTest),o=w.map.image.height,_[0]=w.map.image.width*r.devicePixelRatio/i,_[1]=o*r.devicePixelRatio/h,!0===w.useScreenCoordinates?(t.uniform1i(m.useScreenCoordinates,1),t.uniform3f(m.screenPosition,(x.position.x*r.devicePixelRatio-g)/g,(v-x.position.y*r.devicePixelRatio)/v,Math.max(0,Math.min(1,x.position.z)))):(t.uniform1i(m.useScreenCoordinates,0),t.uniformMatrix4fv(m.modelViewMatrix,!1,x._modelViewMatrix.elements)),d!==(o=n.fog&&w.fog?y:0)&&(t.uniform1i(m.fogType,o),d=o),o=1/(w.scaleByViewport?h:1),_[0]=_[0]*o*x.scale.x,_[1]=_[1]*o*x.scale.y,t.uniform2f(m.uvScale,w.uvScale.x,w.uvScale.y),t.uniform2f(m.uvOffset,w.uvOffset.x,w.uvOffset.y),t.uniform2f(m.alignment,w.alignment.x,w.alignment.y),t.uniform1f(m.opacity,w.opacity),t.uniform3f(m.color,w.color.r,w.color.g,w.color.b),t.uniform1f(m.rotation,x.rotation),t.uniform2fv(m.scale,_),r.setDepthTest(w.depthTest),r.setDepthWrite(w.depthWrite),r.setTexture(w.map,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));t.enable(t.CULL_FACE)}}},$3Dmol.Light=function(e,t){$3Dmol.Object3D.call(this),this.color=new $3Dmol.Color(e),this.position=new $3Dmol.Vector3(0,1,0),this.target=new $3Dmol.Object3D,this.intensity=void 0!==t?t:1,this.onlyShadow=this.castShadow=!1},$3Dmol.Light.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Material=function(){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.MaterialIdCount++,this.name="",this.side=$3Dmol.FrontSide,this.opacity=1,this.transparent=!1,this.stencilTest=this.depthWrite=this.depthTest=!0,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.needsUpdate=this.visible=!0},$3Dmol.Material.prototype.setValues=function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0===r)console.warn("$3Dmol.Material: '"+t+"' parameter is undefined.");else if(t in this){var n=this[t];n instanceof $3Dmol.Color&&r instanceof $3Dmol.Color?n.copy(r):n instanceof $3Dmol.Color?n.set(r):n instanceof $3Dmol.Vector3&&r instanceof $3Dmol.Vector3?n.copy(r):this[t]=r}}},$3Dmol.Material.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.stencilTest=this.stencilTest,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},$3Dmol.Material.prototype.dispose=function(){this.dispatchEvent({type:"dispose"})},$3Dmol.MaterialIdCount=0,$3Dmol.LineBasicMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(e)},$3Dmol.LineBasicMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.LineBasicMaterial.prototype.clone=function(){var e=new $3Dmol.LineBasicMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e},$3Dmol.MeshLambertMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="lambert",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.MeshLambertMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshLambertMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshLambertMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.MeshDoubleLambertMaterial=function(e){$3Dmol.MeshLambertMaterial.call(this,e),this.shaderID="lambertdouble",this.side=$3Dmol.DoubleSide},$3Dmol.MeshDoubleLambertMaterial.prototype=Object.create($3Dmol.MeshLambertMaterial.prototype),$3Dmol.MeshDoubleLambertMaterial.prototype.clone=function(){var e=new $3Dmol.MeshDoubleLambertMaterial;return $3Dmol.MeshLambertMaterial.prototype.clone.call(this,e),e},$3Dmol.MeshOutlineMaterial=function(e){$3Dmol.Material.call(this),e=e||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1},$3Dmol.MeshOutlineMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.MeshOutlineMaterial.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.MeshOutlineMaterial),$3Dmol.Material.prototype.clone.call(this,e),e.fog=this.fog,e.shaderID=this.shaderID,e.wireframe=this.wireframe,e},$3Dmol.ImposterMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID=null,this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.setValues(e)},$3Dmol.ImposterMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.ImposterMaterial.prototype.clone=function(){var e=new $3Dmol.ImposterMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},$3Dmol.SphereImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="sphereimposter",this.setValues(e)},$3Dmol.SphereImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.SphereImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="sphereimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.SphereImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.SphereImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.SphereImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.StickImposterMaterial=function(e){$3Dmol.ImposterMaterial.call(this),this.shaderID="stickimposter",this.setValues(e)},$3Dmol.StickImposterMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e},$3Dmol.StickImposterOutlineMaterial=function(e){$3Dmol.ImposterMaterial.call(this),e=e||{},this.shaderID="stickimposteroutline",this.outlineColor=e.color||new $3Dmol.Color(0,0,0),this.outlineWidth=e.width||.1,this.outlinePushback=e.pushback||1,this.setValues(e)},$3Dmol.StickImposterOutlineMaterial.prototype=Object.create($3Dmol.ImposterMaterial.prototype),$3Dmol.StickImposterOutlineMaterial.prototype.clone=function(){var e=new $3Dmol.StickImposterOutlineMaterial;return $3Dmol.ImposterMaterial.prototype.clone.call(this,e),e.outlineColor=this.outlineColor,e.outlineWidth=this.outlineWidth,e.outlinePushback=this.outlinePushback,e},$3Dmol.InstancedMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.ambient=new $3Dmol.Color(1048575),this.emissive=new $3Dmol.Color(0),this.wrapAround=!1,this.wrapRGB=new $3Dmol.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.shading=$3Dmol.SmoothShading,this.shaderID="instanced",this.vertexColors=$3Dmol.NoColors,this.skinning=!1,this.sphere=null,this.setValues(e)},$3Dmol.InstancedMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.InstancedMaterial.prototype.clone=function(){var e=new $3Dmol.InstancedMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.shaderID=this.shaderID,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e.sphere=this.sphere,e},$3Dmol.SpriteMaterial=function(e){$3Dmol.Material.call(this),this.color=new $3Dmol.Color(16777215),this.map=new $3Dmol.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=$3Dmol.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new $3Dmol.Vector2(0,0),this.uvScale=new $3Dmol.Vector2(1,1),this.setValues(e),void 0===(e=e||{}).depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewPort&&(this.scaleByViewPort=!this.sizeAttenuation)},$3Dmol.SpriteMaterial.prototype=Object.create($3Dmol.Material.prototype),$3Dmol.SpriteMaterial.prototype.clone=function(){var e=new $3Dmol.SpriteMaterial;return $3Dmol.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewPort,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e},$3Dmol.SpriteAlignment={},$3Dmol.SpriteAlignment.topLeft=new $3Dmol.Vector2(1,-1),$3Dmol.SpriteAlignment.topCenter=new $3Dmol.Vector2(0,-1),$3Dmol.SpriteAlignment.topRight=new $3Dmol.Vector2(-1,-1),$3Dmol.SpriteAlignment.centerLeft=new $3Dmol.Vector2(1,0),$3Dmol.SpriteAlignment.center=new $3Dmol.Vector2(0,0),$3Dmol.SpriteAlignment.centerRight=new $3Dmol.Vector2(-1,0),$3Dmol.SpriteAlignment.bottomLeft=new $3Dmol.Vector2(1,1),$3Dmol.SpriteAlignment.bottomCenter=new $3Dmol.Vector2(0,1),$3Dmol.SpriteAlignment.bottomRight=new $3Dmol.Vector2(-1,1),$3Dmol.Texture=function(e){$3Dmol.EventDispatcher.call(this),this.id=$3Dmol.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=new $3Dmol.UVMapping,this.wrapT=this.wrapS=$3Dmol.ClampToEdgeWrapping,this.magFilter=$3Dmol.LinearFilter,this.minFilter=$3Dmol.LinearMipMapLinearFilter,this.anisotropy=1,this.format=$3Dmol.RGBAFormat,this.type=$3Dmol.UnsignedByteType,this.offset=new $3Dmol.Vector2(0,0),this.repeat=new $3Dmol.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},$3Dmol.Texture.prototype={constructor:$3Dmol.Texture,clone:function(e){return void 0===e&&(e=new $3Dmol.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},$3Dmol.TextureIdCount=0,$3Dmol.FrontSide=0,$3Dmol.BackSide=1,$3Dmol.DoubleSide=2,$3Dmol.NoShading=0,$3Dmol.FlatShading=1,$3Dmol.SmoothShading=2,$3Dmol.NoColors=0,$3Dmol.FaceColors=1,$3Dmol.VertexColors=2,$3Dmol.MultiplyOperation=0,$3Dmol.MixOperation=1,$3Dmol.AddOperation=2,$3Dmol.UVMapping=function(){},$3Dmol.ClampToEdgeWrapping=1001,$3Dmol.LinearFilter=1006,$3Dmol.LinearMipMapLinearFilter=1008,$3Dmol.UnsignedByteType=1009,$3Dmol.RGBAFormat=1021,$3Dmol.Line=function(e,t,r){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==r?r:$3Dmol.LineStrip},$3Dmol.LineStrip=0,$3Dmol.LinePieces=1,$3Dmol.Line.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Line.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Line(this.geometry,this.material,this.type)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Mesh=function(e,t){$3Dmol.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new $3Dmol.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})},$3Dmol.Mesh.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Mesh.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Mesh(this.geometry,this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Sprite=function(e){$3Dmol.Object3D.call(this),this.material=void 0!==e?e:new $3Dmol.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},$3Dmol.Sprite.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),1===this.scale.x&&1===this.scale.y||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0},$3Dmol.Sprite.prototype.clone=function(e){return void 0===e&&(e=new $3Dmol.Sprite(this.material)),$3Dmol.Object3D.prototype.clone.call(this,e),e},$3Dmol.Renderer=function(e){function t(e){z[e]||(b.enableVertexAttribArray(e),z[e]=!0)}function r(e,t){var r;return"fragment"===e?r=b.createShader(b.FRAGMENT_SHADER):"vertex"===e&&(r=b.createShader(b.VERTEX_SHADER)),b.shaderSource(r,t),b.compileShader(r),b.getShaderParameter(r,b.COMPILE_STATUS)?r:(console.error(b.getShaderInfoLog(r)),console.error("could not initialize shader"),null)}function n(e,t,r,n,o,i,a,s){if(t){var l=e.length-1;s=t=-1}else l=0,t=e.length,s=1;for(var c=l;c!==t;c+=s){var u=e[c];if(u.render){l=u.object;var h=u.buffer;if(u=u[r]){a&&_.setBlending(!0),_.setDepthTest(u.depthTest),_.setDepthWrite(u.depthWrite);var f=u.polygonOffset;null!==f&&(f?b.enable(b.POLYGON_OFFSET_FILL):b.disable(b.POLYGON_OFFSET_FILL)),f=l._modelViewMatrix.isReflected(),_.setMaterialFaces(u,f),_.renderBuffer(n,o,i,u,h,l),(y||u.outline)&&("sphereimposter"==u.shaderID?_.renderBuffer(n,o,i,g,h,l):"stickimposter"==u.shaderID?_.renderBuffer(n,o,i,v,h,l):u.wireframe||"basic"===u.shaderID||0===u.opacity||_.renderBuffer(n,o,i,m,h,l))}}}}function o(e){return 0==(e&e-1)}function i(e){return e===$3Dmol.UnsignedByteType?b.UNSIGNED_BYTE:e===$3Dmol.RGBAFormat?b.RGBA:0}e=e||{},this.row=e.row,this.col=e.col,this.rows=e.rows,this.cols=e.cols;var a=void 0!==e.canvas?e.canvas:document.createElement("canvas"),s=void 0!==e.precision?e.precision:"highp",l=void 0===e.alpha||e.alpha,c=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.antialias&&e.antialias,h=void 0===e.stencil||e.stencil,f=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,p=void 0!==e.clearColor?new $3Dmol.Color(e.clearColor):new $3Dmol.Color(0),d=void 0!==e.clearAlpha?e.clearAlpha:0,m=new $3Dmol.MeshOutlineMaterial(e.outline),g=new $3Dmol.SphereImposterOutlineMaterial(e.outline),v=new $3Dmol.StickImposterOutlineMaterial(e.outline),y=!!e.outline;this.domElement=a,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==self.devicePixelRatio?self.devicePixelRatio:1,a.id=e.id,this.autoUpdateScene=this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var b,_=this,x=[],w=0,A=null,$=-1,D=null,C=null,S=0,T=-1,M=-1,R=-1,L=-1,E=null,I=0,O=0,P=0,j=0,z={},F=new $3Dmol.Matrix4,k=new $3Dmol.Vector3,N=new $3Dmol.Vector3,G=!0,B=[],U=[];try{if(!(b=a.getContext("experimental-webgl",{alpha:l,premultipliedAlpha:c,antialias:u,stencil:h,preserveDrawingBuffer:f}))&&!(b=a.getContext("webgl",{alpha:l,premultipliedAlpha:c,antialias:u,stencil:h,preserveDrawingBuffer:f})))throw"Error creating WebGL context."}catch(e){console.error(e)}b.clearColor(0,0,0,1),b.clearDepth(1),b.clearStencil(0),b.enable(b.DEPTH_TEST),b.depthFunc(b.LEQUAL),b.frontFace(b.CCW),b.cullFace(b.BACK),b.enable(b.CULL_FACE),b.enable(b.BLEND),b.blendEquation(b.FUNC_ADD),b.blendFunc(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA),b.clearColor(p.r,p.g,p.b,d),this.context=b;var W=b.getExtension("ANGLE_instanced_arrays"),V=b.getExtension("EXT_frag_depth");this.supportedExtensions=function(){return{supportsAIA:!!W,supportsImposters:!!V}},this.getContext=function(){return b},this.getPrecision=function(){return s},this.setClearColorHex=function(e,t){p.setHex(e),d=t,b.clearColor(p.r,p.g,p.b,d)},this.enableOutline=function(e){m=new $3Dmol.MeshOutlineMaterial(e),g=new $3Dmol.SphereImposterOutlineMaterial(e),v=new $3Dmol.StickImposterOutlineMaterial(e),y=!0},this.disableOutline=function(){y=!1},this.setViewport=function(){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var e=a.width/this.cols,t=a.height/this.rows;I=e*this.devicePixelRatio,O=t*this.devicePixelRatio,b.drawingBufferWidth=3*I,b.drawingBufferHeight=O,b.enable(b.SCISSOR_TEST),b.scissor(e*this.col,t*this.row,e,t),b.viewport(e*this.col,t*this.row,e,t)}},this.setSize=function(e,t){if(null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col){var r=e/this.cols,n=t/this.rows;a.width=e*this.devicePixelRatio,a.height=t*this.devicePixelRatio,I=r*this.devicePixelRatio,O=n*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",this.setViewport()}else I=a.width=e*this.devicePixelRatio,O=a.height=t*this.devicePixelRatio,a.style.width=e+"px",a.style.height=t+"px",b.viewport(0,0,b.drawingBufferWidth,b.drawingBufferHeight)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=b.COLOR_BUFFER_BIT),(void 0===t||t)&&(n|=b.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=b.STENCIL_BUFFER_BIT),b.clear(n)},this.clearTarget=function(e,t,r){this.clear(e,t,r)},this.setMaterialFaces=function(e,t){var r=e.side===$3Dmol.DoubleSide;e=e.side===$3Dmol.BackSide,e=t?!e:e,T!==r&&(r?b.disable(b.CULL_FACE):b.enable(b.CULL_FACE),T=r),M!==e&&(e?b.frontFace(b.CW):b.frontFace(b.CCW),M=e)},this.setDepthTest=function(e){R!==e&&(e?b.enable(b.DEPTH_TEST):b.disable(b.DEPTH_TEST),R=e)},this.setDepthWrite=function(e){L!==e&&(b.depthMask(e),L=e)},this.setBlending=function(e){e?(b.enable(b.BLEND),b.blendEquationSeparate(b.FUNC_ADD,b.FUNC_ADD),b.blendFuncSeparate(b.SRC_ALPHA,b.ONE_MINUS_SRC_ALPHA,b.ONE,b.ONE_MINUS_SRC_ALPHA)):b.disable(b.BLEND)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)};var H=function e(t){if((t=t.target).removeEventListener("dispose",e),t.__webglInit=void 0,void 0!==t.__webglVertexBuffer&&b.deleteBuffer(t.__webglVertexBuffer),void 0!==t.__webglColorBuffer&&b.deleteBuffer(t.__webglColorBuffer),void 0!==t.geometryGroups)for(var r=0,n=t.groups;r<n;r++){var o=t.geometryGroups[r];void 0!==o.__webglVertexBuffer&&b.deleteBuffer(o.__webglVertexBuffer),void 0!==o.__webglColorBuffer&&b.deleteBuffer(o.__webglColorBuffer),void 0!==o.__webglNormalBuffer&&b.deleteBuffer(o.__webglNormalBuffer),void 0!==o.__webglFaceBuffer&&b.deleteBuffer(o.__webglFaceBuffer),void 0!==o.__webglLineBuffer&&b.deleteBuffer(o.__webglLineBuffer)}_.info.memory.geometries--},q=function e(t){(t=t.target).removeEventListener("dispose",e),t.image&&t.image.__webglTextureCube?b.deleteTexture(t.image.__webglTextureCube):t.__webglInit&&(t.__webglInit=!1,b.deleteTexture(t.__webglTexture)),_.info.memory.textures--},Y=function e(t){(t=t.target).removeEventListener("dispose",e),X(t)},X=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var r,n=!1;for(e=0,r=x.length;e<r;e++){var o=x[e];if(o.program===t){o.usedTimes--,0===o.usedTimes&&(n=!0);break}}if(!0===n){for(n=[],e=0,r=x.length;e<r;e++)(o=x[e]).program!==t&&n.push(o);x=n,b.deleteProgram(t),_.info.memory.programs--}}};this.initMaterial=function(e,t,n,o){e.addEventListener("dispose",Y),(t=e.shaderID)&&(t=$3Dmol.ShaderLib[t],e.vertexShader=t.vertexShader,e.fragmentShader=t.fragmentShader,e.uniforms=$3Dmol.ShaderUtils.clone(t.uniforms));e:{var i=e.fragmentShader;o=e.vertexShader,n=e.uniforms;var a,l={wireframe:e.wireframe,fragdepth:e.imposter};for(c in(t=[]).push(i),t.push(o),l)t.push(c),t.push(l[c]);t=t.join();var c=0;for(a=x.length;c<a;c++){var u=x[c];if(u.code===t){u.usedTimes++;var h=u.program;break e}}for(h in c=b.createProgram(),a=u="precision "+s+" float;",i=r("fragment",(l=[l.fragdepth?"#extension GL_EXT_frag_depth: enable":"",l.wireframe?"#define WIREFRAME 1":"",u].join("\n"))+i),o=r("vertex",a+o),b.attachShader(c,o),b.attachShader(c,i),b.linkProgram(c),b.getProgramParameter(c,b.LINK_STATUS)||console.error("Could not initialize shader"),c.uniforms={},c.attributes={},o=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix"],n)o.push(h);for(h=0;h<o.length;h++)n=o[h],c.uniforms[n]=b.getUniformLocation(c,n);for(o="position normal color lineDistance offset radius".split(" "),h=0;h<o.length;h++)n=o[h],c.attributes[n]=b.getAttribLocation(c,n);c.id=w++,x.push({program:c,code:t,usedTimes:1}),_.info.memory.programs=x.length,h=c}e.program=h},this.renderBuffer=function(e,r,n,o,i,a){if(o.visible){o.needsUpdate&&(o.program&&X(o),_.initMaterial(o,r,n,a),o.needsUpdate=!1);var s=!1,l=o.program,c=l.uniforms,u=o.uniforms;if(l!=A&&(b.useProgram(l),A=l,s=!0),o.id!=$&&($=o.id,s=!0),e!=C&&(C=e,s=!0),b.uniformMatrix4fv(c.projectionMatrix,!1,e.projectionMatrix.elements),b.uniformMatrix4fv(c.modelViewMatrix,!1,a._modelViewMatrix.elements),b.uniformMatrix3fv(c.normalMatrix,!1,a._normalMatrix.elements),s){if(u.fogColor.value=n.color,u.fogNear.value=n.near,u.fogFar.value=n.far,o.shaderID.startsWith("lambert")||"instanced"===o.shaderID||o.shaderID.endsWith("imposter")){if(b.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements),G){var h=0;for(e=0,n=r.length;e<n;e++){var f=(s=r[e]).color,p=s.intensity;s instanceof $3Dmol.Light&&(N.getPositionFromMatrix(s.matrixWorld),k.getPositionFromMatrix(s.target.matrixWorld),N.sub(k),N.normalize(),0!==N.x||0!==N.y||0!==N.z)&&(U[h]=N.x,U[h+1]=N.y,U[h+2]=N.z,B[h]=f.r*p,B[h+1]=f.g*p,B[h+2]=f.b*p,h+=3)}G=!1}u.directionalLightColor.value=B,u.directionalLightDirection.value=U}else o.shaderID.endsWith("outline")?(u.outlineColor.value=o.outlineColor,u.outlineWidth.value=o.outlineWidth,u.outlinePushback.value=o.outlinePushback):"sphereimposter"===o.shaderID&&(b.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements),b.uniformMatrix3fv(c.normalMatrix,!1,a._normalMatrix.elements),u.directionalLightColor.value=B,u.directionalLightDirection.value=U);for(var d in u.opacity.value=o.opacity,u)c[d]&&(r=u[d].type,e=u[d].value,n=c[d],"f"===r?b.uniform1f(n,e):"fv"===r?b.uniform3fv(n,e):"c"===r?b.uniform3f(n,e.r,e.g,e.b):"f4"===r&&b.uniform4f(n,e[0],e[1],e[2],e[3]))}if(u=l.attributes,c=!1,(l=16777215*i.id+2*l.id+(o.wireframe?1:0))!==D&&(D=l,c=!0),c){for(var m in z)z[m]&&(b.disableVertexAttribArray(m),z[m]=!1);0<=u.position&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),t(u.position),b.vertexAttribPointer(u.position,3,b.FLOAT,!1,0,0)),0<=u.color&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglColorBuffer),t(u.color),b.vertexAttribPointer(u.color,3,b.FLOAT,!1,0,0)),0<=u.normal&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),t(u.normal),b.vertexAttribPointer(u.normal,3,b.FLOAT,!1,0,0)),0<=u.offset&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglOffsetBuffer),t(u.offset),b.vertexAttribPointer(u.offset,3,b.FLOAT,!1,0,0)),0<=u.radius&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglRadiusBuffer),t(u.radius),b.vertexAttribPointer(u.radius,1,b.FLOAT,!1,0,0))}if(a instanceof $3Dmol.Mesh){if("instanced"===o.shaderID){var g=o.sphere.geometryGroups[0];c&&(b.bindBuffer(b.ARRAY_BUFFER,i.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,g.vertexArray,b.STATIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,i.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,g.normalArray,b.STATIC_DRAW),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,g.faceArray,b.STATIC_DRAW)),g=g.faceidx,W.vertexAttribDivisorANGLE(u.offset,1),W.vertexAttribDivisorANGLE(u.radius,1),W.vertexAttribDivisorANGLE(u.color,1),W.drawElementsInstancedANGLE(b.TRIANGLES,g,b.UNSIGNED_SHORT,0,i.radiusArray.length),W.vertexAttribDivisorANGLE(u.offset,0),W.vertexAttribDivisorANGLE(u.radius,0),W.vertexAttribDivisorANGLE(u.color,0)}else o.wireframe?(a=i.lineidx,(o=o.wireframeLinewidth)!==E&&(b.lineWidth(o),E=o),c&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),b.drawElements(b.LINES,a,b.UNSIGNED_SHORT,0)):(g=i.faceidx,c&&b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),b.drawElements(b.TRIANGLES,g,b.UNSIGNED_SHORT,0));_.info.render.calls++,_.info.render.vertices+=g,_.info.render.faces+=g/3}else a instanceof $3Dmol.Line&&(a=i.vertices,(i=o.linewidth)!==E&&(b.lineWidth(i),E=i),b.drawArrays(b.LINES,0,a),_.info.render.calls++)}},this.render=function(e,t,r){if(0==t instanceof $3Dmol.Camera)console.error("$3Dmol.Renderer.render: camera is not an instance of $3Dmol.Camera.");else{var o,i=e.__lights,a=e.fog;$=-1,G=!0,this.autoUpdateScene&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this.autoUpdateObjects&&this.initWebGLObjects(e),_.info.render.calls=0,_.info.render.vertices=0,_.info.render.faces=0,_.info.render.points=0,P=I,j=O,this.setViewport(),(this.autoClear||r)&&(b.clearColor(p.r,p.g,p.b,d),this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil));var s=e.__webglObjects;for(r=0,o=s.length;r<o;r++){var l=s[r],c=l.object;if(l.render=!1,c.visible){c._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,c.matrixWorld),c._normalMatrix.getInverse(c._modelViewMatrix),c._normalMatrix.transpose();var u=(c=l).object.material;u.transparent?(c.opaque=null,c.transparent=u,u.wireframe||((u=u.clone()).opacity=0,c.blank=u)):(c.opaque=u,c.transparent=null),l.render=!0}}if(this.setBlending(!1),n(e.__webglObjects,!0,"opaque",t,i,a,!1,null),n(e.__webglObjects,!0,"blank",t,i,a,!0,null),n(e.__webglObjects,!1,"transparent",t,i,a,!0,null),i=this.renderPluginsPost,D=-1,C=A=null,M=$=T=R=L=-1,i.length)for(a=0,r=i.length;a<r;a++)G=!0,i[a].render(e,t,P,j),D=-1,C=A=null,M=$=T=R=L=-1;this.setDepthTest(!0),this.setDepthWrite(!0)}},this.initWebGLObjects=function(e){if(e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]),e.__objectsAdded.length){for(;e.__objectsAdded.length;){var t,r=e.__objectsAdded[0],n=e;if(!r.__webglInit&&(r.__webglInit=!0,r._modelViewMatrix=new $3Dmol.Matrix4,r._normalMatrix=new $3Dmol.Matrix3,void 0!==r.geometry&&void 0===r.geometry.__webglInit&&(r.geometry.__webglInit=!0,r.geometry.addEventListener("dispose",H)),r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line)){var o=r.geometry,i=0;for(t=o.geometryGroups.length;i<t;i++){var a=o.geometryGroups[i];a.id=S++,a.__webglVertexBuffer||(r instanceof $3Dmol.Mesh?(a.radiusArray&&(a.__webglRadiusBuffer=b.createBuffer()),a.useOffset&&(a.__webglOffsetBuffer=b.createBuffer()),a.__webglVertexBuffer=b.createBuffer(),a.__webglNormalBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),a.__webglFaceBuffer=b.createBuffer(),a.__webglLineBuffer=b.createBuffer(),_.info.memory.geometries++,o.elementsNeedUpdate=!0,o.normalsNeedUpdate=!0):r instanceof $3Dmol.Line&&(a.__webglVertexBuffer=b.createBuffer(),a.__webglColorBuffer=b.createBuffer(),_.info.memory.geometries++),o.verticesNeedUpdate=!0,o.colorsNeedUpdate=!0)}}if(!r.__webglActive){if(r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line)for(i=0,t=(o=r.geometry).geometryGroups.length;i<t;i++)a=o.geometryGroups[i],n.__webglObjects.push({buffer:a,object:r,opaque:null,transparent:null});else r instanceof $3Dmol.Sprite&&n.__webglSprites.push(r);r.__webglActive=!0}e.__objectsAdded.splice(0,1)}D=-1}for(;e.__objectsRemoved.length;){if(t=e,(o=e.__objectsRemoved[0])instanceof $3Dmol.Mesh||o instanceof $3Dmol.Line)for(i=o,r=(t=t.__webglObjects).length-1;0<=r;--r)t[r].object===i&&t.splice(r,1);else if(o instanceof $3Dmol.Sprite)for(i=o,r=(t=t.__webglSprites).length-1;0<=r;--r)t[r]===i&&t.splice(r,1);o.__webglActive=!1,e.__objectsRemoved.splice(0,1)}for(o=0,t=e.__webglObjects.length;o<t;o++)if(i=(r=e.__webglObjects[o].object).geometry,r instanceof $3Dmol.Mesh||r instanceof $3Dmol.Line){for(r=0,n=i.geometryGroups.length;r<n;r++)if(a=i.geometryGroups[r],i.verticesNeedUpdate||i.elementsNeedUpdate||i.colorsNeedUpdate||i.normalsNeedUpdate){var s=b.STATIC_DRAW,l=a.vertexArray,c=a.colorArray;void 0!==a.__webglOffsetBuffer?b.bindBuffer(b.ARRAY_BUFFER,a.__webglOffsetBuffer):b.bindBuffer(b.ARRAY_BUFFER,a.__webglVertexBuffer),b.bufferData(b.ARRAY_BUFFER,l,s),b.bindBuffer(b.ARRAY_BUFFER,a.__webglColorBuffer),b.bufferData(b.ARRAY_BUFFER,c,s),a.normalArray&&void 0!==a.__webglNormalBuffer&&(l=a.normalArray,b.bindBuffer(b.ARRAY_BUFFER,a.__webglNormalBuffer),b.bufferData(b.ARRAY_BUFFER,l,s)),a.radiusArray&&void 0!==a.__webglRadiusBuffer&&(b.bindBuffer(b.ARRAY_BUFFER,a.__webglRadiusBuffer),b.bufferData(b.ARRAY_BUFFER,a.radiusArray,s)),a.faceArray&&void 0!==a.__webglFaceBuffer&&(l=a.faceArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglFaceBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s)),a.lineArray&&void 0!==a.__webglLineBuffer&&(l=a.lineArray,b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a.__webglLineBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,l,s))}i.verticesNeedUpdate=!1,i.elementsNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.buffersNeedUpdate=!1}},this.getXYRatio=function(){return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col?[this.cols,this.rows]:[1,1]},this.getAspect=function(e,t){null!=e&&null!=t||(e=a.width,t=a.height);var r=e/t;return null!=this.rows&&null!=this.cols&&null!=this.row&&null!=this.col&&(r=e/this.cols/(t/this.rows)),r},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",q),e.__webglTexture=b.createTexture(),_.info.memory.textures++),b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture),b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,e.flipY),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),b.pixelStorei(b.UNPACK_ALIGNMENT,e.unpackAlignment),t=o((t=e.image).width)&&o(t.height);var r=i(e.format),n=i(e.type),a=b.TEXTURE_2D;t?(b.texParameteri(a,b.TEXTURE_WRAP_S,i(e.wrapS)),b.texParameteri(a,b.TEXTURE_WRAP_T,i(e.wrapT)),b.texParameteri(a,b.TEXTURE_MAG_FILTER,i(e.magFilter)),b.texParameteri(a,b.TEXTURE_MIN_FILTER,i(e.minFilter))):(b.texParameteri(a,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(a,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(a,b.TEXTURE_MIN_FILTER,b.LINEAR));var s=e.mipmaps;if(0<s.length&&t){for(var l=0,c=s.length;l<c;l++)a=s[l],b.texImage2D(b.TEXTURE_2D,l,r,r,n,a);e.generateMipmaps=!1}else b.texImage2D(b.TEXTURE_2D,0,r,r,n,e.image);e.generateMipmaps&&t&&b.generateMipmap(b.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else b.activeTexture(b.TEXTURE0+t),b.bindTexture(b.TEXTURE_2D,e.__webglTexture)},this.addPostPlugin(new $3Dmol.SpritePlugin)},$3Dmol.Scene=function(){$3Dmol.Object3D.call(this),this.overrideMaterial=this.fog=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},$3Dmol.Scene.prototype=Object.create($3Dmol.Object3D.prototype),$3Dmol.Scene.prototype.__addObject=function(e){e instanceof $3Dmol.Light?(-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target)):-1===this.__objects.indexOf(e)&&(this.__objects.push(e),this.__objectsAdded.push(e),-1!==this.__objectsRemoved.indexOf(e)&&this.__objectsRemoved.splice(t,1));for(var t=0;t<e.children.length;t++)this.__addObject(e.children[t])},$3Dmol.Scene.prototype.__removeObject=function(e){if(e instanceof $3Dmol.Light){var t=this.__lights.indexOf(e);-1!==t&&this.__lights.splice(t,1)}else-1!==(t=this.__objects.indexOf(e))&&(this.__objects.splice(t,1),this.__objectsRemoved.push(e),-1!==this.__objectsAdded.indexOf(e)&&this.__objectsAdded.splice(t,1));for(t=0;t<e.children.length;t++)this.__removeObject(e.children[t])},$3Dmol.Fog=function(e,t,r){this.name="",this.color=new $3Dmol.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},$3Dmol.Fog.prototype.clone=function(){return new $3Dmol.Fog(this.color.getHex(),this.near,this.far)},$3Dmol.ShaderUtils={clone:function(e){var t,r={};for(t in e){r[t]={},r[t].type=e[t].type;var n=e[t].value;n instanceof $3Dmol.Color?r[t].value=n.clone():"number"==typeof n?r[t].value=n:n instanceof Array?r[t].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return r},stickimposterFragmentShader:"uniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLight;\nvarying vec3 vColor;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vec3 color = abs(vColor);\n    vec3 pos = cposition;\n    vec3 p = pos;\n    vec3 v = normalize(pos);\n    vec3 pa = p1;\n    vec3 va = normalize(p2-p1);\n    vec3 tmp1 = v-(dot(v,va)*va);\n    vec3 deltap = p-pa;\n    float A = dot(tmp1,tmp1);\n    if(A == 0.0) discard;\n    vec3 tmp2 = deltap-(dot(deltap,va)*va);\n    float B = 2.0*dot(tmp1, tmp2);\n    float C = dot(tmp2,tmp2)-r*r;\n    float det = (B*B) - (4.0*A*C);\n    if(det < 0.0) discard;\n    float sqrtDet = sqrt(det);\n    float posT = (-B+sqrtDet)/(2.0*A);\n    float negT = (-B-sqrtDet)/(2.0*A);\n    float intersectionT = min(posT,negT);\n    vec3 qi = p+v*intersectionT;\n    float dotp1 = dot(va,qi-p1);\n    float dotp2 = dot(va,qi-p2);\n    vec3 norm;\n    if( dotp1 < 0.0 || dotp2 > 0.0) {\n       vec3 cp;\n       if( dotp1 < 0.0) {        cp = p1;\n       } else {\n          cp = p2;\n       }\n       vec3 diff = p-cp;\n       A = dot(v,v);\n       B = dot(diff,v)*2.0;\n       C = dot(diff,diff)-r*r;\n       det = (B*B) - (4.0*C);\n       if(det < 0.0) discard;\n       sqrtDet = sqrt(det);\n       posT = (-B+sqrtDet)/(2.0);\n       negT = (-B-sqrtDet)/(2.0);\n       float t = min(posT,negT);\n       qi = p+v*t;\n       norm = normalize(qi-cp);\n    } else {\n       norm = normalize(qi-(dotp1*va + p1));\n    }\n    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragDepthEXT = depth;"},$3Dmol.ShaderLib={basic:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nattribute vec3 position;\nattribute vec3 color;\nvarying vec3 vColor;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},sphereimposter:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform mat4 projectionMatrix;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform float uDepth;\nuniform vec3 directionalLightColor[ 1 ];\nvarying vec3 vColor;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));\n    float dotProduct = dot( norm, vLight );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_FragColor = vec4(vLight*vColor, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, gl_FragDepthEXT/gl_FragCoord.w );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying vec3 vColor;\nvarying float rval;\nvarying vec3 vLight;\nvarying vec3 center;\nvoid main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz );\n    mapping = normal.xy;\n    rval = abs(normal.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},lambert:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},instanced:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    gl_FragColor.xyz *= vLightFront;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 offset;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );\n    vLightFront = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},outline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvoid main() {\n    gl_FragColor = vec4( outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvoid main() {\n    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    mvPosition.xy += norm.xy*outlineWidth;\n    gl_Position = projectionMatrix * mvPosition;\n    mvPosition.z -= outlinePushback;\n    vec4 pushpos = projectionMatrix*mvPosition;\n    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},sphereimposteroutline:{fragmentShader:"uniform float opacity;\nuniform vec3 outlineColor;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nuniform mat4 projectionMatrix;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nuniform float outlinePushback;\nvoid main() {\n    float lensqr = dot(mapping,mapping);\n    float rsqr = rval*rval;\n    if(lensqr > rsqr)\n       discard;\n    float z = sqrt(rsqr-lensqr);\n    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);\n    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);\n    float ndcDepth = clipPos.z / clipPos.w;\n    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;\n    gl_FragColor = vec4(outlineColor, 1 );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec2 mapping;\nvarying float rval;\nvarying vec3 center;\nvoid main() {\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    center = mvPosition.xyz;\n    vec4 projPosition = projectionMatrix * mvPosition;\n    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);\n    vec4 adjust = projectionMatrix* vec4(norm,normal.z,0.0); adjust.z = 0.0; adjust.w = 0.0;\n    mapping = norm.xy;\n    rval = abs(norm.x);\n    gl_Position = projPosition+adjust;\n}",uniforms:{opacity:{type:"f",value:1},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},stickimposter:{fragmentShader:[$3Dmol.ShaderUtils.stickimposterFragmentShader,"    float dotProduct = dot( norm, vLight );\n    vec3 light = vec3( max( dotProduct, 0.0 ) );\n    gl_FragColor = vec4(light*color, opacity*opacity );\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}"].join("\n"),vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = color; vColor.z = abs(vColor.z);\n    r = abs(radius);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vLight = normalize( lDirection.xyz )*directionalLightColor[0];\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},stickimposteroutline:{fragmentShader:$3Dmol.ShaderUtils.stickimposterFragmentShader+"gl_FragColor = vec4(color,1.0);}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nuniform vec3 outlineColor;\nuniform float outlineWidth;\nuniform float outlinePushback;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nattribute float radius;\nvarying vec3 vColor;\nvarying vec3 vLight;\nvarying vec3 cposition;\nvarying vec3 p1;\nvarying vec3 p2;\nvarying float r;\nvoid main() {\n    vColor = outlineColor;\n    float rad = radius+sign(radius)*outlineWidth;\n    r = abs(rad);\n    vec4 to = modelViewMatrix*vec4(normal, 1.0);\n    vec4 pt = modelViewMatrix*vec4(position, 1.0);\n    to.xyz += normalize(to.xyz)*outlinePushback;\n    pt.xyz += normalize(pt.xyz)*outlinePushback;\n    vec4 mvPosition = pt;\n    p1 = pt.xyz; p2 = to.xyz;\n    vec3 norm = to.xyz-pt.xyz;\n    float mult = 1.1;\n    if(length(p1) > length(p2)) {\n       mvPosition = to;\n    }\n    vec3 n = normalize(mvPosition.xyz);\n    if(color.z >= 0.0) {\n       vec3 pnorm = normalize(p1);\n       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);\n       mvPosition.xyz = p1+t*pnorm;\n    } else {\n       vec3 pnorm = normalize(p2);\n       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);\n       mvPosition.xyz = p2+t*pnorm;\n       mult *= -1.0;\n    }\n    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;\n    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;\n    mvPosition.xy +=  mult*(cr + doublecr).xy;\n    cposition = mvPosition.xyz;\n    gl_Position = projectionMatrix * mvPosition;\n    vLight = vec3(1.0,1.0,1.0);\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new $3Dmol.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1}}},lambertdouble:{fragmentShader:"uniform mat4 viewMatrix;\nuniform float opacity;\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvarying vec3 vColor;\nvoid main() {\n    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );\n    #ifndef WIREFRAME\n    if ( gl_FrontFacing )\n       gl_FragColor.xyz *= vLightFront;\n    else\n       gl_FragColor.xyz *= vLightBack;\n    #endif\n    gl_FragColor = gl_FragColor * vec4( vColor, opacity );\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep( fogNear, fogFar, depth );\n    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}",vertexShader:"uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 directionalLightColor[ 1 ];\nuniform vec3 directionalLightDirection[ 1 ];\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying vec3 vLightFront;\nvarying vec3 vLightBack;\nvoid main() {\n    vColor = color;\n    vec3 objectNormal = normal;\n    vec3 transformedNormal = normalMatrix * objectNormal;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n    vLightFront = vec3( 0.0 );\n    vLightBack = vec3( 0.0 );\n    transformedNormal = normalize( transformedNormal );\n    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );\n    vec3 dirVector = normalize( lDirection.xyz );\n    float dotProduct = dot( transformedNormal, dirVector );\n    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;\n    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;\n    gl_Position = projectionMatrix * mvPosition;\n}",uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new $3Dmol.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},sprite:{fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\n    vec4 texture = texture2D(map, vUV);\n    if (texture.a < alphaTest) discard;\n    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);\n    if (fogType > 0) {\n        float depth = gl_FragCoord.z / gl_FragCoord.w;\n        float fogFactor = 0.0;\n        if (fogType == 1) {\n            fogFactor = smoothstep(fogNear, fogFar, depth);\n        }\n        else {\n            const float LOG2 = 1.442695;\n            float fogFactor = exp2(- fogDensity * fogDensity * depth * depth * LOG2);\n            fogFactor = 1.0 - clamp(fogFactor, 0.0, 1.0);\n        }\n        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);\n    }\n}",vertexShader:"uniform int useScreenCoordinates;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\n    vUV = uvOffset + uv * uvScale;\n    vec2 alignedPosition = position + alignment;\n    vec2 rotatedPosition;\n    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;\n    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;\n    vec4 finalPosition;\n    if(useScreenCoordinates != 0) {\n        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);\n    }\n    else {\n        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;\n        finalPosition.xy += rotatedPosition; \n    }\n    gl_Position = finalPosition;\n}",uniforms:{}}},$3Dmol.autoload=function(b,c){if(void 0!==$(".viewer_3Dmoljs")[0]&&($3Dmol.autoinit=!0),$3Dmol.autoinit){b=null!=b?b:null,$3Dmol.viewers={};var d=0;$(".viewer_3Dmoljs").each(function(){var h,e,t=$(this),g=[],q=[];"static"==t.css("position")&&t.css("position","relative");var p=null;if(t.data("pdb"))g.push("https://files.rcsb.org/view/"+t.data("pdb")+".pdb"),q.push("pdb");else if(t.data("cid"))q.push("sdf"),g.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+t.data("cid")+"/SDF?record_type=3d");else if(t.data("href")||t.data("url")){var u=t.data("href");g.push(u),p=u.substr(u.lastIndexOf(".")+1),q.push(p)}for(h in p=t.data(),p)"pdb"===h.substring(0,3)&&"pdb"!==h?(g.push("https://files.rcsb.org/view/"+p[h]+".pdb"),q.push("pdb")):"href"===h.substring(0,4)&&"href"!==h?(u=p[h],g.push(u),q.push(u.substr(u.lastIndexOf(".")+1))):"cid"===h.substring(0,3)&&"cid"!==h&&(g.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+p[h]+"/SDF?record_type=3d"),q.push("sdf"));var m={};t.data("options")&&(m=$3Dmol.specStringToObject(t.data("options"))),p=$3Dmol.CC.color(t.data("backgroundcolor"));var l={line:{}};t.data("style")&&(l=$3Dmol.specStringToObject(t.data("style")));var n={};t.data("select")&&(n=$3Dmol.specStringToObject(t.data("select")));var y=[],f=[],x=[],w=t.data(),R=/style(.+)/,P=/surface(.*)/,A=/labelres(.*)/,T=[];for(G in w)w.hasOwnProperty(G)&&T.push(G);for(T.sort(),h=0;h<T.length;h++){var G=T[h];if(e=R.exec(G)){e="select"+e[1];var C=$3Dmol.specStringToObject(w[e]);e=$3Dmol.specStringToObject(w[G]),y.push([C,e])}(e=P.exec(G))&&(e="select"+e[1],C=$3Dmol.specStringToObject(w[e]),e=$3Dmol.specStringToObject(w[G]),f.push([C,e])),(e=A.exec(G))&&(e="select"+e[1],C=$3Dmol.specStringToObject(w[e]),e=$3Dmol.specStringToObject(w[G]),x.push([C,e]))}var z=function(e){e.setStyle(n,l);for(var t=0;t<y.length;t++){var r=y[t][0]||{},o=y[t][1]||{line:{}};e.setStyle(r,o)}for(t=0;t<f.length;t++)r=f[t][0]||{},o=f[t][1]||{},e.addSurface($3Dmol.SurfaceType.VDW,o,r,r);for(t=0;t<x.length;t++)r=x[t][0]||{},o=x[t][1]||{},e.addResLabels(r,o);e.zoomTo(),e.render()},D=b;try{null==D&&(D=$3Dmol.viewers[this.id||d++]=$3Dmol.createViewer(t,{defaultcolors:$3Dmol.rasmolElementColors})),D.setBackgroundColor(p)}catch(e){console.log(e),window.location="http://get.webgl.org"}if(0!=g.length){h=0;var I=function I(b){u=g[h];var n=t.data("type")||t.data("datatype")||q[h];D.addModel(b,n,m),h+=1,h<g.length?$.get(g[h],I,"text"):(z(D),t.data("callback")&&(b=eval(t.data("callback")),"function"==typeof b&&b(D)),c&&c(D))};$.get(g[0],I,"text")}else t.data("element")&&(G=$("#"+t.data("element")).val()||"",p=t.data("type")||t.data("datatype"),p||(console.log("Warning: No type specified for embedded viewer with moldata from "+t.data("element")+"\n assuming type 'pdb'"),p="pdb"),D.addModel(G,p,m)),z(D),t.data("callback")&&(G=eval(t.data("callback")),"function"==typeof G&&G(D)),c&&c(D)})}},$(document).ready(function(){$3Dmol.autoload()});var htmlColors={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3Dmol.CC={cache:{0:new $3Dmol.Color(0)},color:function e(t){if(!t)return this.cache[0];if(void 0!==this.cache[t])return this.cache[t];if(t&&t.constructor===Array)return t.map(e,this);if("number"==typeof(t=this.getHex(t))){var r=new $3Dmol.Color(t);return this.cache[t]=r}return t},getHex:function(e){return isNaN(parseInt(e))?"string"==typeof e?(4==(e=e.trim()).length&&"#"==e[0]&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),7==e.length&&"#"==e[0]?parseInt(e.substring(1),16):htmlColors[e.toLowerCase()]||0):e:parseInt(e)}},$3Dmol.CC=$3Dmol.CC,$3Dmol.CC.color=$3Dmol.CC.color,$3Dmol.ssColors=$3Dmol.ssColors||{},$3Dmol.ssColors.pyMol={h:16711680,s:16776960,c:65280},$3Dmol.ssColors.Jmol={h:16711808,s:16762880,c:16777215},$3Dmol.elementColors=$3Dmol.elementColors||{},$3Dmol.elementColors.defaultColor=16716947,$3Dmol.elementColors.Jmol={H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},$3Dmol.elementColors.rasmol={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},$3Dmol.elementColors.defaultColors=$3Dmol.elementColors.rasmol,$3Dmol.elementColors.greenCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.greenCarbon.C=65280,$3Dmol.elementColors.cyanCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.cyanCarbon.C=65535,$3Dmol.elementColors.magentaCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.magentaCarbon.C=16711935,$3Dmol.elementColors.yellowCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.yellowCarbon.C=16776960,$3Dmol.elementColors.whiteCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.whiteCarbon.C=16777215,$3Dmol.elementColors.orangeCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.orangeCarbon.C=16753920,$3Dmol.elementColors.purpleCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.purpleCarbon.C=8388736,$3Dmol.elementColors.blueCarbon=$.extend({},$3Dmol.elementColors.defaultColors),$3Dmol.elementColors.blueCarbon.C=255,$3Dmol.residues={},$3Dmol.residues.amino={ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},$3Dmol.residues.shapely={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},$3Dmol.residues.nucleic={A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576},$3Dmol.chains={},$3Dmol.chains.atom={A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},$3Dmol.chains.hetatm={A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834},$3Dmol.builtinColorSchemes={ssPyMol:{prop:"ss",map:$3Dmol.ssColors.pyMol},ssJmol:{prop:"ss",map:$3Dmol.ssColors.Jmol},Jmol:{prop:"elem",map:$3Dmol.elementColors.Jmol},greenCarbon:{prop:"elem",map:$3Dmol.elementColors.greenCarbon},default:{prop:"elem",map:$3Dmol.elementColors.defaultColors},amino:{prop:"resn",map:$3Dmol.residues.amino},shapely:{prop:"resn",map:$3Dmol.residues.shapely},nucleic:{prop:"resn",map:$3Dmol.residues.nucleic},chain:{prop:"chain",map:$3Dmol.chains.atom},chainHetatm:{prop:"chain",map:$3Dmol.chains.hetatm}},$3Dmol.getColorFromStyle=function(e,t){var r=t.colorscheme;if(void 0!==$3Dmol.builtinColorSchemes[r])r=$3Dmol.builtinColorSchemes[r];else if("string"==typeof r&&r.endsWith("Carbon")){var n=r.substring(0,r.lastIndexOf("Carbon")).toLowerCase();if(void 0!==htmlColors[n]){var o=$.extend({},$3Dmol.elementColors.defaultColors);o.C=htmlColors[n],$3Dmol.builtinColorSchemes[r]={prop:"elem",map:o},r=$3Dmol.builtinColorSchemes[r]}}return n=e.color,void 0!==t.color&&"spectrum"!=t.color&&(n=t.color),void 0!==r?void 0!==$3Dmol.elementColors[r]?void 0!==(r=$3Dmol.elementColors[r])[e[r.prop]]&&(n=r.map[e[r.prop]]):void 0!==r[e[r.prop]]?n=r.map[e[r.prop]]:void 0!==r.prop&&void 0!==r.gradient?(o=r.prop,t=r.gradient,void 0!==$3Dmol.Gradient.builtinGradients[t]&&(t=new $3Dmol.Gradient.builtinGradients[t](r.min,r.max,r.mid)),r=t.range()||[-1,1],null!=(e=$3Dmol.getAtomProperty(e,o))&&(n=t.valueToHex(e,r))):void 0!==r.prop&&void 0!==r.map?(o=r.prop,e=$3Dmol.getAtomProperty(e,o),void 0!==r.map[e]&&(n=r.map[e])):void 0!==t.colorscheme[e.elem]?n=t.colorscheme[e.elem]:console.log("Could not interpret colorscheme "+r):void 0!==t.colorfunc&&(n=t.colorfunc(e)),$3Dmol.CC.color(n)},$3Dmol=$3Dmol||{},$3Dmol.subdivide_spline=function(e,t){var r,n=[],o=[];o.push(e[0]);var i=1;for(r=e.length-1;i<r;i++){var a=e[i],s=e[i+1];a.smoothen?((s=new $3Dmol.Vector3((a.x+s.x)/2,(a.y+s.y)/2,(a.z+s.z)/2)).atom=a.atom,o.push(s)):o.push(a)}for(o.push(e[e.length-1]),i=-1,e=o.length;i<=e-3;i++){r=o[-1===i?0:i],a=o[i+1],s=o[i+2];var l=o[i===e-3?e-1:i+3];if(r=(new $3Dmol.Vector3).subVectors(s,r).multiplyScalar(.5),l=(new $3Dmol.Vector3).subVectors(l,a).multiplyScalar(.5),!s.skip)for(var c=0;c<t;c++){var u=1/t*c;(u=new $3Dmol.Vector3(a.x+u*r.x+u*u*(-3*a.x+3*s.x-2*r.x-l.x)+u*u*u*(2*a.x-2*s.x+r.x+l.x),a.y+u*r.y+u*u*(-3*a.y+3*s.y-2*r.y-l.y)+u*u*u*(2*a.y-2*s.y+r.y+l.y),a.z+u*r.z+u*u*(-3*a.z+3*s.z-2*r.z-l.z)+u*u*u*(2*a.z-2*s.z+r.z+l.z))).atom=c<t/2?a.atom:s.atom,n.push(u)}}return n.push(o[o.length-1]),n},$3Dmol.drawCartoon=function(){var e=function(e,t,r,n,o,i){for(o=0,i=t.length;o<i;o++){var a=Math.round(o*(n.length-1)/i),s=$3Dmol.CC.color(n[a]);geoGroup=e.updateGeoGroup(2);var l=geoGroup.vertexArray,c=geoGroup.colorArray;a=geoGroup.faceArray;var u=geoGroup.vertices,h=3*u;for(l[h]=t[o].x,l[h+1]=t[o].y,l[h+2]=t[o].z,l[h+3]=r[o].x,l[h+4]=r[o].y,l[h+5]=r[o].z,l=0;6>l;++l)c[h+3*l]=s.r,c[h+1+3*l]=s.g,c[h+2+3*l]=s.b;0<o&&(u=[u,u+1,u-1,u-2],a[h=geoGroup.faceidx]=u[0],a[h+1]=u[1],a[h+2]=u[3],a[h+3]=u[1],a[h+4]=u[2],a[h+5]=u[3],geoGroup.faceidx+=6),geoGroup.vertices+=2}},t=function(e,t,r,n,o){0!==t.length&&(o=void 0===o?5:o,n=new $3Dmol.Geometry,$3Dmol.subdivide_spline(t,o),(t=new $3Dmol.LineBasicMaterial({linewidth:r})).vertexColors=!0,(t=new $3Dmol.Line(n,t)).type=$3Dmol.LineStrip,e.add(t))},r=function(t,r,n,o,i,a,s){if(s&&"default"!==s||(s="rectangle"),"edged"===s){if(!(2>r.length)){var l=r[0];r=r[r.length-1];var c=o||axisDIV;if(l=$3Dmol.subdivide_spline(l,c),r=$3Dmol.subdivide_spline(r,c),i){var u,h,f,p,d;c=[],s=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];var m=0;for(d=l.length;m<d;m++){var g=Math.round(m*(n.length-1)/d);if(g=$3Dmol.CC.color(n[g]),c.push(u=l[m]),c.push(u),c.push(h=r[m]),c.push(h),m<d-1){var v=l[m+1].clone().sub(l[m]);v=r[m].clone().sub(l[m]).cross(v).normalize().multiplyScalar(i)}if(c.push(f=l[m].clone().add(v)),c.push(f),c.push(p=r[m].clone().add(v)),c.push(p),void 0!==u.atom)var y=u.atom;var b=(o=t.updateGeoGroup(8)).vertexArray,_=o.colorArray,x=o.faceArray,w=3*(a=o.vertices);for(b[w]=u.x,b[w+1]=u.y,b[w+2]=u.z,b[w+3]=u.x,b[w+4]=u.y,b[w+5]=u.z,b[w+6]=h.x,b[w+7]=h.y,b[w+8]=h.z,b[w+9]=h.x,b[w+10]=h.y,b[w+11]=h.z,b[w+12]=f.x,b[w+13]=f.y,b[w+14]=f.z,b[w+15]=f.x,b[w+16]=f.y,b[w+17]=f.z,b[w+18]=p.x,b[w+19]=p.y,b[w+20]=p.z,b[w+21]=p.x,b[w+22]=p.y,b[w+23]=p.z,b=0;8>b;++b)_[w+3*b]=g.r,_[w+1+3*b]=g.g,_[w+2+3*b]=g.b;if(0<m)for(_=void 0!==S&&void 0!==y&&S.serial!==y.serial,b=0;4>b;b++)if(w=[a+s[b][0],a+s[b][1],a+s[b][2],a+s[b][3]],x[h=o.faceidx]=w[0],x[h+1]=w[1],x[h+2]=w[3],x[h+3]=w[1],x[h+4]=w[2],x[h+5]=w[3],o.faceidx+=6,y.clickable||S.clickable||y.hoverable||S.hoverable){p=c[w[3]].clone(),h=c[w[0]].clone();var A=c[w[2]].clone();if(f=c[w[1]].clone(),p.atom=c[w[3]].atom||null,A.atom=c[w[2]].atom||null,h.atom=c[w[0]].atom||null,f.atom=c[w[1]].atom||null,_){var $=p.clone().add(h).multiplyScalar(.5),D=A.clone().add(f).multiplyScalar(.5),C=p.clone().add(f).multiplyScalar(.5);0==b%2?((S.clickable||S.hoverable)&&(w=new $3Dmol.Triangle($,C,p),u=new $3Dmol.Triangle(D,A,C),p=new $3Dmol.Triangle(C,A,p),S.intersectionShape.triangle.push(w),S.intersectionShape.triangle.push(u),S.intersectionShape.triangle.push(p)),(y.clickable||y.hoverable)&&(w=new $3Dmol.Triangle(h,f,C),u=new $3Dmol.Triangle(f,D,C),p=new $3Dmol.Triangle(h,C,$),y.intersectionShape.triangle.push(w),y.intersectionShape.triangle.push(u),y.intersectionShape.triangle.push(p))):((y.clickable||y.hoverable)&&(w=new $3Dmol.Triangle($,C,p),u=new $3Dmol.Triangle(D,A,C),p=new $3Dmol.Triangle(C,A,p),y.intersectionShape.triangle.push(w),y.intersectionShape.triangle.push(u),y.intersectionShape.triangle.push(p)),(S.clickable||S.hoverable)&&(w=new $3Dmol.Triangle(h,f,C),u=new $3Dmol.Triangle(f,D,C),p=new $3Dmol.Triangle(h,C,$),S.intersectionShape.triangle.push(w),S.intersectionShape.triangle.push(u),S.intersectionShape.triangle.push(p)))}else(y.clickable||y.hoverable)&&(w=new $3Dmol.Triangle(h,f,p),u=new $3Dmol.Triangle(f,A,p),y.intersectionShape.triangle.push(w),y.intersectionShape.triangle.push(u))}o.vertices+=8;var S=y}for(n=c.length-8,b=(o=t.updateGeoGroup(8)).vertexArray,_=o.colorArray,x=o.faceArray,w=3*(a=o.vertices),h=o.faceidx,m=0;4>m;m++)c.push(c[2*m]),c.push(c[n+2*m]),i=c[2*m],t=c[n+2*m],b[w+6*m]=i.x,b[w+1+6*m]=i.y,b[w+2+6*m]=i.z,b[w+3+6*m]=t.x,b[w+4+6*m]=t.y,b[w+5+6*m]=t.z,_[w+6*m]=g.r,_[w+1+6*m]=g.g,_[w+2+6*m]=g.b,_[w+3+6*m]=g.r,_[w+4+6*m]=g.g,_[w+5+6*m]=g.b;w=[a,a+2,a+6,a+4],u=[a+1,a+5,a+7,a+3],x[h]=w[0],x[h+1]=w[1],x[h+2]=w[3],x[h+3]=w[1],x[h+4]=w[2],x[h+5]=w[3],x[h+6]=u[0],x[h+7]=u[1],x[h+8]=u[3],x[h+9]=u[1],x[h+10]=u[2],x[h+11]=u[3],o.faceidx+=12,o.vertices+=8}else e(t,l,r,n,c,a)}}else if(!("rectangle"!==s&&"oval"!==s&&"parabola"!==s||(g=s,y=r.length,2>y||2>r[0].length))){for(o=o||axisDIV,S=0;S<y;S++)r[S]=$3Dmol.subdivide_spline(r[S],o);if(v=r[0].length,i){for(a=[],o=[],s=[],b=0;b<y;b++)a.push(.25+1.5*Math.sqrt((y-1)*b-Math.pow(b,2))/(y-1)),o.push(.5),s.push(2*(Math.pow(b/y,2)-b/y)+.6);for(d=[],b=0;b<2*y-1;b++)d[b]=[b,b+1,b+1-2*y,b-2*y];for(d[2*y-1]=[b,b+1-2*y,b+1-4*y,b-2*y],t=t.updateGeoGroup(2*y*v),S=0;S<v;S++){for(b=Math.round(S*(n.length-1)/v),u=$3Dmol.CC.color(n[b]),_=c,w=m,c=[],m=[],h=[],void 0!==r[0][S].atom&&(x=r[0][S].atom,"oval"===g?l=a:"rectangle"===g?l=o:"parabola"===g&&(l=s)),l||(l=o),b=0;b<y;b++)f=S<v-1?r[b][S+1].clone().sub(r[b][S]):r[b][S-1].clone().sub(r[b][S]).negate(),p=b<y-1?r[b+1][S].clone().sub(r[b][S]):r[b-1][S].clone().sub(r[b][S]).negate(),h[b]=p.cross(f).normalize().multiplyScalar(i*l[b]);for(b=0;b<y;b++)c[b]=r[b][S].clone().add(h[b].clone().negate());for(b=0;b<y;b++)m[b]=r[b][S].clone().add(h[b]);for(A=t.vertexArray,p=t.colorArray,h=t.faceArray,$=3*(f=t.vertices),b=0;b<y;b++)A[$+3*b+0]=c[b].x,A[$+3*b+1]=c[b].y,A[$+3*b+2]=c[b].z;for(b=0;b<y;b++)A[$+3*b+0+3*y]=m[y-1-b].x,A[$+3*b+1+3*y]=m[y-1-b].y,A[$+3*b+2+3*y]=m[y-1-b].z;for(b=0;b<2*y;++b)p[$+3*b+0]=u.r,p[$+3*b+1]=u.g,p[$+3*b+2]=u.b;if(0<S){for(b=0;b<2*y;b++)u=[f+d[b][0],f+d[b][1],f+d[b][2],f+d[b][3]],h[p=t.faceidx]=u[0],h[p+1]=u[1],h[p+2]=u[3],h[p+3]=u[1],h[p+4]=u[2],h[p+5]=u[3],t.faceidx+=6;if(x.clickable||x.hoverable)for(b in(u=[]).push(new $3Dmol.Triangle(_[0],c[0],c[y-1])),u.push(new $3Dmol.Triangle(_[0],c[y-1],_[y-1])),u.push(new $3Dmol.Triangle(_[y-1],c[y-1],m[y-1])),u.push(new $3Dmol.Triangle(_[y-1],m[y-1],w[y-1])),u.push(new $3Dmol.Triangle(m[0],w[0],w[y-1])),u.push(new $3Dmol.Triangle(m[y-1],m[0],w[y-1])),u.push(new $3Dmol.Triangle(c[0],_[0],w[0])),u.push(new $3Dmol.Triangle(m[0],c[0],w[0])),u)x.intersectionShape.triangle.push(u[b])}t.vertices+=2*y}for(h=t.faceArray,f=t.vertices,S=0;S<y-1;S++)u=[S,S+1,2*y-2-S,2*y-1-S],h[p=t.faceidx]=u[0],h[p+1]=u[1],h[p+2]=u[3],h[p+3]=u[1],h[p+4]=u[2],h[p+5]=u[3],t.faceidx+=6;for(S=0;S<y-1;S++)u=[f-1-S,f-2-S,f-2*y+S+1,f-2*y+S],h[p=t.faceidx]=u[0],h[p+1]=u[1],h[p+2]=u[3],h[p+3]=u[1],h[p+4]=u[2],h[p+5]=u[3],t.faceidx+=6}else e(t,r[0],r[y-1],n,o,a)}},n=function(e,t){if(e&&t&&e.chain===t.chain){if(e.reschain===t.reschain&&(e.resi===t.resi||e.resi===t.resi-1))return!0;if(e.resi<t.resi){var r=e.x-t.x,n=e.y-t.y;if(16>r*r+n*n+(e=e.z-t.z)*e)return!0}}return!1},o=function(e,t,r,n,o){null!=t&&0!=t.vertices&&(o&&(t.initTypedArrays(),t.setUpNormals()),(o=new $3Dmol.MeshDoubleLambertMaterial).vertexColors=$3Dmol.FaceColors,"number"==typeof r&&0<=r&&1>r&&(o.transparent=!0,o.opacity=r),o.outline=n,t=new $3Dmol.Mesh(t,o),e.add(t))},i={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},a={DA:!0,DG:!0,A:!0,G:!0},s={DT:!0,DC:!0,U:!0,C:!0,T:!0},l={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0},c=function(e,c,h,f,p,d,m){d=d||5,m=m||5;var g,v,y=new $3Dmol.Geometry(!0),b=new $3Dmol.Geometry(!0),_=[],x=[],w=1,A=!1,D={};for(M in $3Dmol.Gradient.builtinGradients)$3Dmol.Gradient.builtinGradients.hasOwnProperty(M)&&(D[M]=new $3Dmol.Gradient.builtinGradients[M](h[1],h[0]));var C=function(e,t){return h&&"spectrum"===t.color?t.colorscheme in D?D[t.colorscheme].valueToHex(e.resi):D.sinebow.valueToHex(e.resi):$3Dmol.getColorFromStyle(e,t).getHex()};for(v=0;v<d;v++)x[v]=[];var S=g=!1;v=0;var T=[];for(v in c){var M=c[v];if("C"===M.elem&&"CA"===M.atom){var R=n(E,M);R&&"s"===M.ss?g=!0:g&&(E&&L&&E.style.cartoon.arrows&&L.style.cartoon.arrows&&(E.ss="arrow end",L.ss="arrow start"),g=!1),R&&("h"===E.ss||"tube start"==E.ss)&&E.style.cartoon.tubes?!S&&"tube start"!=E.ss&&M.style.cartoon.tubes&&(M.ss="tube start",S=!0):S&&("tube start"===E.ss?E.ss="tube end":L&&L.style.cartoon.tubes&&(L.ss="tube end"),S=!1);var L=E,E=M}M&&M.atom in i&&T.push(M)}for(S&&E.style.cartoon.tubes&&(E.ss="tube end",S=!1),c=function(n){for(var i,a,s=0;!O&&s<d;s++)t(e,x[s],1,_,m);if(f&&0<x[0].length&&r(b,x,_,m,O,w,x.style),n){for(a=[],s=0;s<d;s++)a[s]=x[s][x[s].length-1];i=_[_.length-1]}for(x=[],s=0;s<d;s++)x[s]=[];if(_=[],n){for(s=0;s<d;s++)x[s].push(a[s]);_.push(i)}o(e,b,w,A,!0),o(e,y,w,A,!1),b=new $3Dmol.Geometry(!0),y=new $3Dmol.Geometry(!0)},E=void 0,L=0;L<T.length;L++)if(S=(v=(M=T[L]).resn.trim())in l,w=1,g=M.style.cartoon,E&&E.style.cartoon&&(w=E.style.cartoon.opacity),E&&E.style.cartoon&&E.style.cartoon.outline&&(A=E.style.cartoon.outline),!E||!E.style.cartoon||M.style.cartoon&&E.style.cartoon.opacity==M.style.cartoon.opacity||c(E.chain==M.chain),x.length&&x[0].length>3e4/d/m/2&&c(!0),"trace"===g.style){if(!M.hetflag&&("C"===M.elem&&"CA"===M.atom||S&&"P"===M.atom)){var I=C(M,g),O=$.isNumeric(g.thickness)?g.thickness:.4;if(n(E,M))if(I==P){var P=$3Dmol.CC.color(I);$3Dmol.GLDraw.drawCylinder(y,E,M,O,P,2,2)}else g=(new $3Dmol.Vector3).addVectors(E,M).multiplyScalar(.5),P=$3Dmol.CC.color(P),v=$3Dmol.CC.color(I),$3Dmol.GLDraw.drawCylinder(y,E,g,O,P,2,0),$3Dmol.GLDraw.drawCylinder(y,g,M,O,v,0,2);E=M,P=I}}else{if(M&&"C"===M.elem&&"CA"===M.atom||S&&("P"===M.atom||0==M.atom.indexOf("O5"))){if(j)if("tube end"===M.ss){var j=!1;v=new $3Dmol.Vector3(M.x,M.y,M.z),$3Dmol.GLDraw.drawCylinder(y,z,v,2,$3Dmol.CC.color(P),1,1),M.ss="h"}else{if(E.chain==M.chain&&"tube end"!==E.ss)continue;j=!1,E.ss="h",v=new $3Dmol.Vector3(E.x,E.y,E.z),$3Dmol.GLDraw.drawCylinder(y,z,v,2,$3Dmol.CC.color(P),1,1)}if(E&&(!n(E,M)||"tube start"===E.ss)){if("tube start"===E.ss){j=!0;var z=new $3Dmol.Vector3(E.x,E.y,E.z);E.ss="h"}if(F){v=B?(new $3Dmol.Vector3).addVectors(E,B).multiplyScalar(.5):new $3Dmol.Vector3(E.x,E.y,E.z),$3Dmol.GLDraw.drawCylinder(y,v,F,.4,$3Dmol.CC.color(F.color),0,2),u(x,d,!p,B,G,U,E,T,L),_.push(I);var F=v=null}for(v=0;!O&&v<d;v++)t(e,x[v],1,_,m);for(f&&0<x[0].length&&r(b,x,_,m,O,w,x.style),x=[],v=0;v<d;v++)x[v]=[];_=[]}if(void 0===E||E.rescode!=M.rescode||E.resi!=M.resi){F&&(E=(v=(new $3Dmol.Vector3).addVectors(E,M).multiplyScalar(.5)).clone().sub(F).multiplyScalar(.02),v.add(E),$3Dmol.GLDraw.drawCylinder(y,v,F,.4,$3Dmol.CC.color(F.color),0,2),F=v=null),I=C(M,g),_.push(I),O=$.isNumeric(g.thickness)?g.thickness:.4,E=M;var k=new $3Dmol.Vector3(E.x,E.y,E.z);k.resi=E.resi,P=I}!0!==M.clickable&&!0!==M.hoverable||void 0!==M.intersectionShape&&void 0!==M.intersectionShape.triangle||(M.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else if(E&&"C"===E.elem&&"CA"===E.atom&&"O"===M.atom||S&&"P"===E.atom&&("OP2"===M.atom||"O2P"===M.atom)||S&&0==E.atom.indexOf("O5")&&0==M.atom.indexOf("C5")){var N=new $3Dmol.Vector3(M.x,M.y,M.z);if(N.resi=M.resi,"OP2"===M.atom||"O2P"===M.atom)var G=new $3Dmol.Vector3(M.x,M.y,M.z)}else if(S&&0==M.atom.indexOf("O3"))var B=new $3Dmol.Vector3(M.x,M.y,M.z);else("N1"===M.atom&&v in a||"N3"===M.atom&&v in s)&&((F=new $3Dmol.Vector3(M.x,M.y,M.z)).color=$3Dmol.getColorFromStyle(M,g).getHex());if(N&&k&&N.resi===k.resi){u(x,d,!p,k,N,U,E,T,L);var U=N;N=k=null,_.push(I)}}F&&(v=B?(new $3Dmol.Vector3).addVectors(E,B).multiplyScalar(.5):new $3Dmol.Vector3(E.x,E.y,E.z),$3Dmol.GLDraw.drawCylinder(y,v,F,.4,$3Dmol.CC.color(F.color),0,2),u(x,d,!p,B,G,U,E,T,L),_.push(I)),c()},u=function(e,t,r,n,o,i,a,s,l){if(n&&o&&a){var c=o.sub(n);c.normalize();var u=s[l];for(l+=1;l<s.length&&(u=s[l]).atom!=a.atom;l++);if((u=u?new $3Dmol.Vector3(u.x,u.y,u.z):new $3Dmol.Vector3(0,0,0)).sub(n),"arrow start"===a.ss&&(l=u.clone().multiplyScalar(.3).cross(o),n.add(l),l=u.clone().cross(c).normalize(),c.rotateAboutVector(l,.43)),a.style.cartoon.ribbon)l=a.style.cartoon.thickness||.4;else if(a.style.cartoon.width)l=a.style.cartoon.width;else if("c"===a.ss)l="P"===a.atom?.8:.5;else if("arrow start"===a.ss){l=1.3;var h=!0}else l="arrow end"===a.ss?.5:"h"===a.ss&&a.style.cartoon.tubes||"tube start"===a.ss?.5:1.3;for(null!=i&&0>c.dot(i)&&c.negate(),c.multiplyScalar(l),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(n.x+i*c.x,n.y+i*c.y,n.z+i*c.z)).atom=a,r&&"s"===a.ss&&(i.smoothen=!0),e[l].push(i);for(c.multiplyScalar(2),l=0;l<t;l++)i=2*l/(t-1)-1,(i=new $3Dmol.Vector3(n.x+i*c.x,n.y+i*c.y,n.z+i*c.z)).atom=a,i.smoothen=!1,i.skip=!0,e[l].push(i);return t=a.style.cartoon.style||"default",e.style?e.style!=t&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),e.style="default"):e.style=t,"arrow start"!==a.ss&&"arrow end"!==a.ss||(a.ss="s"),h}};return function(e,t,r,n){c(e,t,r,!0,!1,n=n||5,n)}}(),$3Dmol=$3Dmol||{},$3Dmol.CAP={NONE:0,FLAT:1,ROUND:2},$3Dmol.GLDraw=function(){var e={},t=function(){var e=new $3Dmol.Vector3;return function(t){e.set(t[0],t[1],t[2]);var r=e.x,n=e.y,o=e.z,i=Math.sqrt(r*r+n*n);return 1e-4>i?(t=0,i=1):(t=-r/i,i=n/i),n=-t*r+i*n,1e-4>(r=Math.sqrt(n*n+o*o))?(o=0,n=1):(o/=r,n/=r),(r=new Float32Array(9))[0]=i,r[1]=t,r[2]=0,r[3]=-t*n,r[4]=i*n,r[5]=o,r[6]=t*o,r[7]=-i*o,r[8]=n,r}}(),r=function(){var e,t,r=[],n=Math.pow(2,4),o=Math.pow(2,2),i=n/o;for(r[0]=new $3Dmol.Vector3(-1,0,0),r[i]=new $3Dmol.Vector3(0,0,1),r[2*i]=new $3Dmol.Vector3(1,0,0),r[3*i]=new $3Dmol.Vector3(0,0,-1),e=3;4>=e;e++){for(i=n/(o=Math.pow(2,e-1)),t=0;t<o-1;t++)r[i/2+t*i]=r[t*i].clone().add(r[(t+1)*i]).normalize();r[i/2+(t=o-1)*i]=r[t*i].clone().add(r[0]).normalize()}return r}(),n={cache:{},getVerticesForRadius:function(e,t,n){if(void 0!==this.cache[e]&&void 0!==this.cache[e][t+n])return this.cache[e][t+n];new $3Dmol.Vector3(0,1,0);for(var o,i=r.length,a=[],s=[],l=0;l<i;l++)a.push(r[l].clone().multiplyScalar(e)),a.push(r[l].clone().multiplyScalar(e)),o=r[l].clone().normalize(),s.push(o),s.push(o);l=[];var c,u,h=2*Math.PI,f=Math.PI;for(u=0;10>=u;u++){var p=0===u||10===u,d=5===u,m=[],g=[];for(c=0;c<=i;c++)if(d){var v=c<i?2*c:0;g.push(v+1),m.push(v)}else{o=c/i;var y=u/10;p&&0!==c?p&&m.push(a.length-1):c<i?((v=new $3Dmol.Vector3).x=-e*Math.cos(0+o*h)*Math.sin(0+y*f),v.y=1==t?0:e*Math.cos(0+y*f),v.z=e*Math.sin(0+o*h)*Math.sin(0+y*f),1e-5>Math.abs(v.x)&&(v.x=0),1e-5>Math.abs(v.y)&&(v.y=0),1e-5>Math.abs(v.z)&&(v.z=0),(o=t==$3Dmol.CAP.FLAT?new $3Dmol.Vector3(0,Math.cos(0+y*f),0):new $3Dmol.Vector3(v.x,v.y,v.z)).normalize(),a.push(v),s.push(o),m.push(a.length-1)):m.push(a.length-i)}d&&l.push(g),l.push(m)}return i={vertices:a,normals:s,verticesRows:l,w:i,h:10},e in this.cache||(this.cache[e]={}),this.cache[e][t+n]=i}};e.drawCylinder=function(e,r,o,i,a,s,l){if(r&&o){var c=l||s;a=a||{r:0,g:0,b:0};var u=[o.x,o.y,o.z];u[0]-=r.x,u[1]-=r.y,u[2]-=r.z,u=t(u);var h=n.getVerticesForRadius(i,l,"to"),f=h.w,p=h.h,d=c?p*f+2:2*f;e=e.updateGeoGroup(d);var m,g=h.vertices,v=h.normals,y=(h=h.verticesRows)[p/2],b=h[p/2+1],_=e.vertices,x=e.vertexArray,w=e.normalArray,A=e.colorArray,$=e.faceArray;for(m=0;m<f;++m){var D=2*m,C=u[0]*g[D].x+u[3]*g[D].y+u[6]*g[D].z,S=u[1]*g[D].x+u[4]*g[D].y+u[7]*g[D].z,T=u[5]*g[D].y+u[8]*g[D].z,M=3*(_+D);D=e.faceidx,x[M]=C+r.x,x[M+1]=S+r.y,x[M+2]=T+r.z,x[M+3]=C+o.x,x[M+4]=S+o.y,x[M+5]=T+o.z,w[M]=C,w[M+3]=C,w[M+1]=S,w[M+4]=S,w[M+2]=T,w[M+5]=T,A[M]=a.r,A[M+3]=a.r,A[M+1]=a.g,A[M+4]=a.g,A[M+2]=a.b,A[M+5]=a.b,$[D]=b[m]+_,$[D+1]=b[m+1]+_,$[D+2]=y[m]+_,$[D+3]=y[m]+_,$[D+4]=b[m+1]+_,$[D+5]=y[m+1]+_,e.faceidx+=6}if(c)for(c=s?p+1:p/2+1,S=l?0:p/2;S<c;S++)if(S!==p/2)for(y=S<=p/2?o:r,C=n.getVerticesForRadius(i,l,"to"),D=n.getVerticesForRadius(i,s,"from"),y===o?(g=C.vertices,v=C.normals,h=C.verticesRows):y==r&&(g=D.vertices,v=D.normals,h=D.verticesRows),C=0;C<f;C++){D=e.faceidx;var R=3*((b=h[S][C+1])+_),L=3*((m=h[S][C])+_),E=3*((T=h[S+1][C])+_),I=3*((M=h[S+1][C+1])+_),O=u[0]*g[b].x+u[3]*g[b].y+u[6]*g[b].z,P=u[0]*g[m].x+u[3]*g[m].y+u[6]*g[m].z,j=u[0]*g[T].x+u[3]*g[T].y+u[6]*g[T].z,z=u[0]*g[M].x+u[3]*g[M].y+u[6]*g[M].z,F=u[1]*g[b].x+u[4]*g[b].y+u[7]*g[b].z,k=u[1]*g[m].x+u[4]*g[m].y+u[7]*g[m].z,N=u[1]*g[T].x+u[4]*g[T].y+u[7]*g[T].z,G=u[1]*g[M].x+u[4]*g[M].y+u[7]*g[M].z,B=u[5]*g[b].y+u[8]*g[b].z,U=u[5]*g[m].y+u[8]*g[m].z,W=u[5]*g[T].y+u[8]*g[T].z,V=u[5]*g[M].y+u[8]*g[M].z;x[R]=O+y.x,x[L]=P+y.x,x[E]=j+y.x,x[I]=z+y.x,x[R+1]=F+y.y,x[L+1]=k+y.y,x[E+1]=N+y.y,x[I+1]=G+y.y,x[R+2]=B+y.z,x[L+2]=U+y.z,x[E+2]=W+y.z,x[I+2]=V+y.z,A[R]=a.r,A[L]=a.r,A[E]=a.r,A[I]=a.r,A[R+1]=a.g,A[L+1]=a.g,A[E+1]=a.g,A[I+1]=a.g,A[R+2]=a.b,A[L+2]=a.b,A[E+2]=a.b,A[I+2]=a.b,O=u[0]*v[b].x+u[3]*v[b].y+u[6]*v[b].z,P=u[0]*v[m].x+u[3]*v[m].y+u[6]*v[m].z,j=u[0]*v[T].x+u[3]*v[T].y+u[6]*v[T].z,z=u[0]*v[M].x+u[3]*v[M].y+u[6]*v[M].z,F=u[1]*v[b].x+u[4]*v[b].y+u[7]*v[b].z,k=u[1]*v[m].x+u[4]*v[m].y+u[7]*v[m].z,N=u[1]*v[T].x+u[4]*v[T].y+u[7]*v[T].z,G=u[1]*v[M].x+u[4]*v[M].y+u[7]*v[M].z,B=u[5]*v[b].y+u[8]*v[b].z,U=u[5]*v[m].y+u[8]*v[m].z,W=u[5]*v[T].y+u[8]*v[T].z,V=u[5]*v[M].y+u[8]*v[M].z,0===S?(w[R]=O,w[E]=j,w[I]=z,w[R+1]=F,w[E+1]=N,w[I+1]=G,w[R+2]=B,w[E+2]=W,w[I+2]=V,$[D]=b+_,$[D+1]=T+_,$[D+2]=M+_,e.faceidx+=3):S===c-1?(w[R]=O,w[L]=P,w[E]=j,w[R+1]=F,w[L+1]=k,w[E+1]=N,w[R+2]=B,w[L+2]=U,w[E+2]=W,$[D]=b+_,$[D+1]=m+_,$[D+2]=T+_,e.faceidx+=3):(w[R]=O,w[L]=P,w[I]=z,w[R+1]=F,w[L+1]=k,w[I+1]=G,w[R+2]=B,w[L+2]=U,w[I+2]=V,w[L]=P,w[E]=j,w[I]=z,w[L+1]=k,w[E+1]=N,w[I+1]=G,w[L+2]=U,w[E+2]=W,w[I+2]=V,$[D]=b+_,$[D+1]=m+_,$[D+2]=M+_,$[D+3]=m+_,$[D+4]=T+_,$[D+5]=M+_,e.faceidx+=6)}e.vertices+=d}},e.drawCone=function(e,n,o,i,a){if(n&&o){console.log(n),console.log(o),a=a||{r:0,g:0,b:0};var s=[o.x,o.y,o.z];s.x-=n.x,s.y-=n.y,s.z-=n.z;var l=t(s),c=r.length,u=(e=e.updateGeoGroup(c+2)).vertices,h=e.vertexArray,f=e.normalArray,p=e.colorArray,d=e.faceArray,m=3*u;for(s=new $3Dmol.Vector3(s[0],s[1],s[2]).normalize(),h[m]=n.x,h[m+1]=n.y,h[m+2]=n.z,f[m]=-s.x,f[m+1]=-s.y,f[m+2]=-s.z,p[m]=a.r,p[m+1]=a.g,p[m+2]=a.b,h[m+3]=o.x,h[m+4]=o.y,h[m+5]=o.z,f[m+3]=s.x,f[m+4]=s.y,f[m+5]=s.z,p[m+3]=a.r,p[m+4]=a.g,p[m+5]=a.b,m+=6,o=0;o<c;++o){var g=r[o].clone();g.multiplyScalar(i),s=l[0]*g.x+l[3]*g.y+l[6]*g.z;var v=l[1]*g.x+l[4]*g.y+l[7]*g.z;g=l[5]*g.y+l[8]*g.z,h[m]=s+n.x,h[m+1]=v+n.y,h[m+2]=g+n.z,f[m]=s,f[m+1]=v,f[m+2]=g,p[m]=a.r,p[m+1]=a.g,p[m+2]=a.b,m+=3}for(e.vertices+=c+2,n=e.faceidx,o=0;o<c;o++)i=u+2+o,a=u+2+(o+1)%c,d[n]=i,d[n+1]=a,d[n+2]=u,d[n+=3]=i,d[n+1]=a,d[n+2]=u+1,n+=3;e.faceidx+=6*c}};var o={cache:{},getVerticesForRadius:function(e){if(void 0!==this.cache[e])return this.cache[e];var t={vertices:[],verticesRows:[],normals:[]},r=16,n=10;1>e&&(r=10,n=8);var o,i,a=2*Math.PI,s=Math.PI;for(i=0;i<=n;i++){var l=[];for(o=0;o<=r;o++){var c=o/r,u=i/n,h={};h.x=-e*Math.cos(0+c*a)*Math.sin(0+u*s),h.y=e*Math.cos(0+u*s),h.z=e*Math.sin(0+c*a)*Math.sin(0+u*s),(c=new $3Dmol.Vector3(h.x,h.y,h.z)).normalize(),t.vertices.push(h),t.normals.push(c),l.push(t.vertices.length-1)}t.verticesRows.push(l)}return this.cache[e]=t}};return e.drawSphere=function(e,t,r,n){new $3Dmol.Vector3(t.x,t.y,t.z);for(var i=o.getVerticesForRadius(r),a=i.vertices,s=i.normals,l=(e=e.updateGeoGroup(a.length)).vertices,c=e.vertexArray,u=e.colorArray,h=e.faceArray,f=e.lineArray,p=e.normalArray,d=0,m=a.length;d<m;++d){var g=3*(l+d),v=a[d];c[g]=v.x+t.x,c[g+1]=v.y+t.y,c[g+2]=v.z+t.z,u[g]=n.r,u[g+1]=n.g,u[g+2]=n.b}for(e.vertices+=a.length,c=(i=i.verticesRows).length-1,n=0;n<c;n++)for(u=i[n].length-1,t=0;t<u;t++){d=e.faceidx,m=e.lineidx,v=3*(g=i[n][t+1]+l);var y=i[n][t]+l,b=3*y,_=i[n+1][t]+l,x=3*_,w=i[n+1][t+1]+l,A=3*w,$=s[g-l],D=s[y-l],C=s[_-l],S=s[w-l];Math.abs(a[g-l].y)===r?(p[v]=$.x,p[x]=C.x,p[A]=S.x,p[v+1]=$.y,p[x+1]=C.y,p[A+1]=S.y,p[v+2]=$.z,p[x+2]=C.z,p[A+2]=S.z,h[d]=g,h[d+1]=_,h[d+2]=w,f[m]=g,f[m+1]=_,f[m+2]=g,f[m+3]=w,f[m+4]=_,f[m+5]=w,e.faceidx+=3,e.lineidx+=6):Math.abs(a[_-l].y)===r?(p[v]=$.x,p[b]=D.x,p[x]=C.x,p[v+1]=$.y,p[b+1]=D.y,p[x+1]=C.y,p[v+2]=$.z,p[b+2]=D.z,p[x+2]=C.z,h[d]=g,h[d+1]=y,h[d+2]=_,f[m]=g,f[m+1]=y,f[m+2]=g,f[m+3]=_,f[m+4]=y,f[m+5]=_,e.faceidx+=3,e.lineidx+=6):(p[v]=$.x,p[b]=D.x,p[A]=S.x,p[v+1]=$.y,p[b+1]=D.y,p[A+1]=S.y,p[v+2]=$.z,p[b+2]=D.z,p[A+2]=S.z,p[b]=D.x,p[x]=C.x,p[A]=S.x,p[b+1]=D.y,p[x+1]=C.y,p[A+1]=S.y,p[b+2]=D.z,p[x+2]=C.z,p[A+2]=S.z,h[d]=g,h[d+1]=y,h[d+2]=w,h[d+3]=y,h[d+4]=_,h[d+5]=w,f[m]=g,f[m+1]=y,f[m+2]=g,f[m+3]=w,f[m+4]=y,f[m+5]=_,f[m+6]=_,f[m+7]=w,e.faceidx+=6,e.lineidx+=8)}},e}(),$3Dmol=$3Dmol||{},$3Dmol.GLModel=function(){function e(n,o){var s=[],l=[],c=null,u=null,h=!1,f=null,p=null,d=null,m={},g=new $3Dmol.Matrix4,v=!0,y=$3Dmol.elementColors.defaultColor,b=(o=o||{}).defaultcolors?o.defaultcolors:$3Dmol.elementColors.defaultColors,_=o.defaultSphereRadius?o.defaultSphereRadius:1.5,x=o.cartoonQuality?o.cartoonQuality:5,w=function(e,t){var n=_;return void 0!==t.radius?n=t.radius:r[e.elem]&&(n=r[e.elem]),void 0!==t.scale&&(n*=t.scale),n},A=function(e,t,r){var n=function(e,t){for(var r=null,n=-1,f=0,p=e.bonds.length;f<p;f++)if(e.bonds[f]!=t.index){l=e.bonds[f],c=s[l],u=new $3Dmol.Vector3(c.x,c.y,c.z),(h=u.clone()).sub(o),(a=h.clone()).cross(i);var d=a.lengthSq();if(d>n&&(r=a,.1<(n=d)))break}return r},o=new $3Dmol.Vector3(e.x,e.y,e.z),i=new $3Dmol.Vector3(t.x,t.y,t.z).clone(),a=null;if(i.sub(o),1===e.bonds.length)if(1===t.bonds.length)a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1;else{e=(r+1)%t.bonds.length;var l=t.bonds[e],c=s[l],u=new $3Dmol.Vector3(c.x,c.y,c.z),h=u.clone();h.sub(o),(a=h.clone()).cross(i)}else.01>(a=n(e,t)).lengthSq()&&null!=(t=n(t,e))&&(a=t);return.01>a.lengthSq()&&(a=i.clone(),1e-4<Math.abs(a.x)?a.y+=1:a.x+=1),a.cross(i),a.normalize(),a},D=function(e,t,r,n,o,i){e[r]=n.x,e[r+1]=n.y,e[r+2]=n.z,t[r]=i.r,t[r+1]=i.g,t[r+2]=i.b,e[r+3]=o.x,e[r+4]=o.y,e[r+5]=o.z,t[r+3]=i.r,t[r+4]=i.g,t[r+5]=i.b},C=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=$3Dmol.getColorFromStyle(e,r);if(r=w(e,r),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,r))}$3Dmol.GLDraw.drawSphere(t,e,r,n)}}},S=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=w(e,r);r=$3Dmol.getColorFromStyle(e,r);var o=(t=t.updateGeoGroup(1)).vertices,i=3*o,a=t.vertexArray,s=t.radiusArray;a[i]=e.x,a[i+1]=e.y,a[i+2]=e.z,(a=t.colorArray)[i]=r.r,a[i+1]=r.g,a[i+2]=r.b,s[o]=n,!0!==e.clickable&&!e.hoverable||void 0===e.intersectionShape||(r=new $3Dmol.Vector3(e.x,e.y,e.z),e.intersectionShape.sphere.push(new $3Dmol.Sphere(r,n))),t.vertices+=1}}},T=function(e,t,r,n){for(var o=(e=e.updateGeoGroup(4)).vertices,i=3*o,a=e.vertexArray,s=0;4>s;s++)a[i+3*s]=t.x,a[i+3*s+1]=t.y,a[i+3*s+2]=t.z;for(a=e.normalArray,t=e.colorArray,s=0;4>s;s++)t[i+3*s]=n.r,t[i+3*s+1]=n.g,t[i+3*s+2]=n.b;a[i+0]=-r,a[i+1]=r,a[i+2]=0,a[i+3]=-r,a[i+4]=-r,a[i+5]=0,a[i+6]=r,a[i+7]=-r,a[i+8]=0,a[i+9]=r,a[i+10]=r,a[i+11]=0,e.vertices+=4,(r=e.faceArray)[(n=e.faceidx)+0]=o,r[n+1]=o+1,r[n+2]=o+2,r[n+3]=o+2,r[n+4]=o+3,r[n+5]=o,e.faceidx+=6},M=function(e,t){if(e.style.sphere){var r=e.style.sphere;if(!r.hidden){var n=w(e,r);if(r=$3Dmol.getColorFromStyle(e,r),(!0===e.clickable||e.hoverable)&&void 0!==e.intersectionShape){var o=new $3Dmol.Vector3(e.x,e.y,e.z);e.intersectionShape.sphere.push(new $3Dmol.Sphere(o,n))}T(t,e,n,r)}}},R=function(e,t,r,n,o,i,a){i=(e=e.updateGeoGroup(4)).vertices,a=e.vertexArray;var s=e.colorArray,l=e.radiusArray,c=e.normalArray,u=o.r,h=o.g;o=o.b;for(var f=3*i,p=0;4>p;p++){if(a[f]=t.x,c[f]=r.x,s[f]=u,a[++f]=t.y,c[f]=r.y,s[f]=h,a[++f]=t.z,c[f]=r.z,2>p)s[f]=o;else{var d=-o;0==d&&(d=-1e-4),s[f]=d}f++}e.vertices+=4,l[i]=-n,l[i+1]=n,l[i+2]=-n,l[i+3]=n,(t=e.faceArray)[(r=e.faceidx)+0]=i,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+2,t[r+4]=i+3,t[r+5]=i,e.faceidx+=6};this.getCrystData=function(){return m.cryst?m.cryst:null},this.getSymmetries=function(){return void 0===m.symmetries&&(m.symmetries=[g]),m.symmetries},this.setSymmetries=function(e){m.symmetries=void 0===e?[g]:e},this.getID=function(){return n},this.getNumFrames=function(){return null!=l.numFrames?l.numFrames:l.length};var L=function(e,t,r,n){return(e=t-e)<-r?t+n:e>r?t-n:t};this.setFrame=function(e){var t=this.getNumFrames();return new Promise(function(r,n){0==t&&r(),(0>e||e>=t)&&(e=t-1),null!=l.url?$3Dmol.getbin(l.url+"/traj/frame/"+e+"/"+l.path,null,"POST").then(function(e){e=new Float32Array(e,44);for(var t=0,n=0;n<s.length;n++)s[n].x=e[t++],s[n].y=e[t++],s[n].z=e[t++];if(c&&u&&c&&u)for(var o=.9*(e=c[0]),i=.9*(t=c[1]),a=.9*(n=c[2]),l=0;l<u.length;l++)for(var h=u[l],f=1;f<h.length;f++){var p=s[h[f][0]],d=s[h[f][1]];p.x=L(d.x,p.x,o,e),p.y=L(d.y,p.y,i,t),p.z=L(d.z,p.z,a,n)}r()}).catch(n):(s=l[e],r()),f=null})},this.addFrame=function(e){l.push(e)},this.vibrate=function(e,t){t=t||1,e=e||10,e--;for(var r=1;r<=e;r++){for(var n=[],o=0;o<s.length;o++){var i=new $3Dmol.Vector3($3Dmol.getAtomProperty(s[o],"dx"),$3Dmol.getAtomProperty(s[o],"dy"),$3Dmol.getAtomProperty(s[o],"dz")),a=new $3Dmol.Vector3(s[o].x,s[o].y,s[o].z);for(var c in i.multiplyScalar(r*t/e),a.add(i),i={},s[o])i[c]=s[o][c];i.x=a.x,i.y=a.y,i.z=a.z,n.push(i)}l.push(n)}l.unshift(s)},this.setAtomDefaults=function(e){for(var r=0;r<e.length;r++){var o=e[r];o&&(o.style=o.style||t,o.color=o.color||b[o.elem]||y,o.model=n,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},this.addMolData=function(e,t,r){if(r=r||{},e=$3Dmol.GLModel.parseMolData(e,t,r),v=!r.duplicateAssemblyAtoms,(t=e.modelData)&&(m=Array.isArray(t)?t[0]:t),c=e.box?e.box:null,0==l.length){for(t=0;t<e.length;t++)0!=e[t].length&&l.push(e[t]);l[0]&&(s=l[0])}else if(r.frames)for(t=0;t<e.length;t++)l.push(e[t]);else for(t=0;t<e.length;t++)this.addAtoms(e[t]);for(t=0;t<l.length;t++)this.setAtomDefaults(l[t],n);r.vibrate&&r.vibrate.frames&&r.vibrate.amplitude&&this.vibrate(r.vibrate.frames,r.vibrate.amplitude),r.style&&this.setStyle({},r.style)},this.setDontDuplicateAtoms=function(e){v=e},this.setModelData=function(e){m=e};var E=function(e,t){if(e==t)return!0;if("string"==typeof t&&"number"==typeof e&&(t=t.match(/(-?\d+)\s*-\s*(-?\d+)/))){var r=parseInt(t[1]),n=parseInt(t[2]);if(t&&e>=r&&e<=n)return!0}return!1};this.atomIsSelected=function(e,t){var r;if(void 0===t)return!0;var n,o=!!t.invert,i=!0;for(n in t)if("and"==n||"or"==n||"not"==n){if("not"==n){if(this.atomIsSelected(e,t[n])){i=!1;break}}else if("and"==n){var a=t[n];for(r=0;r<a.length;r++)if(!this.atomIsSelected(e,a[r])){i=!1;break}}else if("or"==n){for(i=t[n],a=!0,r=0;r<i.length;r++){if(this.atomIsSelected(e,i[r])){a=!0;break}a=!1}i=a}}else if("predicate"===n){if(!t.predicate(e)){i=!1;break}}else if("properties"==n&&e[n])for(var s in t.properties){if(void 0===e.properties[s]){i=!1;break}if(e.properties[s]!=t.properties[s]){i=!1;break}}else if(t.hasOwnProperty(n)&&"props"!=n&&"invert"!=n&&"model"!=n&&"byres"!=n&&"expand"!=n&&"within"!=n&&"and"!=n&&"or"!=n&&"not"!=n){if(void 0===e[n]){i=!1;break}if(a=!1,"bonds"===n){if((r=t[n])!=e.bonds.length){i=!1;break}}else if($.isArray(t[n])){var l=t[n],c=e[n];for(r=0;r<l.length;r++)if(E(c,l[r])){a=!0;break}if(!a){i=!1;break}}else if(r=t[n],!E(e[n],r)){i=!1;break}}return o?!i:i},this.selectedAtoms=function(e,t){var r,n=[];e=e||{},t||(t=s);for(var o=t.length,i=0;i<o;i++)(r=t[i])&&this.atomIsSelected(r,e)&&n.push(r);if(e.hasOwnProperty("expand")){if(0>=(o=parseFloat(e.expand)))o=n;else{for(i=$3Dmol.getExtent(n),r=[[],[],[]],t=0;3>t;t++)r[0][t]=i[0][t]-o,r[1][t]=i[1][t]+o,r[2][t]=i[2][t];for(o=[],t=0;t<s.length;t++){var a=s[t].x,l=s[t].y,c=s[t].z;a>=r[0][0]&&a<=r[1][0]&&l>=r[0][1]&&l<=r[1][1]&&c>=r[0][2]&&c<=r[1][2]&&(a>=i[0][0]&&a<=i[1][0]&&l>=i[0][1]&&l<=i[1][1]&&c>=i[0][2]&&c<=i[1][2]||o.push(s[t]))}}for(a=n.length,i=0;i<o.length;i++)for(var u=0;u<a;u++)(t=I(o[i],n[u]))<(r=Math.pow(e.expand,2))&&0<t&&n.push(o[i])}if(e.hasOwnProperty("within")&&e.within.hasOwnProperty("sel")&&e.within.hasOwnProperty("distance")){for(a=this.selectedAtoms(e.within.sel,s),o={},i=0;i<a.length;i++)for(u=0;u<n.length;u++)(t=I(a[i],n[u]))<(r=Math.pow(parseFloat(e.within.distance),2))&&0<t&&(o[u]=1);if(i=[],e.within.invert)for(u=0;u<n.length;u++)o[u]||i.push(n[u]);else for(u in o)i.push(n[u]);n=i}if(e.hasOwnProperty("byres"))for(e={},t=[],o=[],i=0;i<n.length;i++)if(a=(r=n[i]).chain,l=r.resi,void 0===e[a]&&(e[a]={}),r.hasOwnProperty("resi")&&void 0===e[a][l])for(e[a][l]=!0,o.push(r);0<o.length;)if(a=(r=o.pop()).chain,l=r.resi,void 0===t[r.index])for(t[r.index]=!0,u=0;u<r.bonds.length;u++)void 0===t[(c=s[r.bonds[u]]).index]&&c.hasOwnProperty("resi")&&c.chain==a&&c.resi==l&&(o.push(c),n.push(c));return n};var I=function(e,t){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2)};this.addAtoms=function(e){f=null;var r,o=s.length,i=[];for(r=0;r<e.length;r++)void 0===e[r].index&&(e[r].index=r),void 0===e[r].serial&&(e[r].serial=r),i[e[r].index]=o+r;for(r=0;r<e.length;r++){var a=i[(o=e[r]).index],l=$.extend(!1,{},o);l.index=a,l.bonds=[],l.bondOrder=[],l.model=n,l.style=l.style||t,void 0===l.color&&(l.color=b[l.elem]||y),a=o.bonds?o.bonds.length:0;for(var c=0;c<a;c++){var u=i[o.bonds[c]];void 0!==u&&(l.bonds.push(u),l.bondOrder.push(o.bondOrder?o.bondOrder[c]:1))}s.push(l)}},this.removeAtoms=function(e){f=null;var t,r=[];for(t=0;t<e.length;t++)r[e[t].index]=!0;for(e=[],t=0;t<s.length;t++){var n=s[t];r[n.index]||e.push(n)}s=[],this.addAtoms(e)},this.setStyle=function(t,r,n){for(var o in void 0===r&&void 0===n&&(r=t,t={}),t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);for(o in r)e.validAtomStyleSpecs.hasOwnProperty(o)||console.log("Unknown style "+o);var i=!1,a=function(e){for(var a=c.selectedAtoms(t,e),s=0;s<e.length;s++)e[s]&&(e[s].capDrawn=!1);for(s=0;s<a.length;s++)for(o in i=!0,(a[s].clickable||a[s].hoverable)&&(a[s].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),n||(a[s].style={}),r)if(r.hasOwnProperty(o))for(var l in a[s].style[o]=a[s].style[o]||{},r[o])a[s].style[o][l]=r[o][l]},c=this;a(s);for(var u=0;u<l.length;u++)l[u]!==s&&a(l[u]);i&&(f=null)},this.setClickable=function(t,r,n){for(var o in t)e.validAtomSelectionSpecs.hasOwnProperty(o)||console.log("Unknown selector "+o);if(r=!!r,n&&"function"!=typeof n)console.log("Callback is not a function");else{var i=(o=this.selectedAtoms(t,s)).length;for(t=0;t<i;t++)o[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o[t].clickable=r,n&&(o[t].callback=n);0<i&&(f=null)}},this.setHoverable=function(t,r,n,o){for(var i in t)e.validAtomSelectionSpecs.hasOwnProperty(i)||console.log("Unknown selector "+i);if(r=!!r,n&&"function"!=typeof n)console.log("Hover_callback is not a function");else if(o&&"function"!=typeof o)console.log("Unhover_callback is not a function");else{var a=(i=this.selectedAtoms(t,s)).length;for(t=0;t<a;t++)i[t].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},i[t].hoverable=r,n&&(i[t].hover_callback=n),o&&(i[t].unhover_callback=o);0<a&&(f=null)}},this.setColorByElement=function(e,t){var r;if((r=null!==f)&&(r=d,r=t&&r?JSON.stringify(t)==JSON.stringify(r):t==r),!r){d=t;var n=this.selectedAtoms(e,n);for(0<n.length&&(f=null),e=0;e<n.length;e++)void 0!==t[(r=n[e]).elem]&&(r.color=t[r.elem])}},this.setColorByProperty=function(e,t,r,n){var o=this.selectedAtoms(e,o);for(d=null,0<o.length&&(f=null),void 0!==$3Dmol.Gradient.builtinGradients[r]&&(r=new $3Dmol.Gradient.builtinGradients[r]),n||(n=r.range()),n||(n=$3Dmol.getPropertyRange(o,t)),e=0;e<o.length;e++){var i=o[e];null!=$3Dmol.getAtomProperty(i,t)&&(i.color=r.valueToHex(parseFloat(i.properties[t]),n))}},this.setColorByFunction=function(e,t){var r=this.selectedAtoms(e,r);if("function"==typeof t)for(d=null,0<r.length&&(f=null),i=0;i<r.length;i++)a=r[i],a.color=t(a)},this.toCDObject=function(e){var t={a:[],b:[]};e&&(t.s=[]);for(var r=0;r<s.length;r++){var n={},o=s[r];if(n.x=o.x,n.y=o.y,n.z=o.z,"C"!=o.elem&&(n.l=o.elem),e){for(var i=0;i<t.s.length&&JSON.stringify(o.style)!==JSON.stringify(t.s[i]);)i++;i===t.s.length&&t.s.push(o.style),0!==i&&(n.s=i)}for(t.a.push(n),n=0;n<o.bonds.length;n++){i=r;var a=o.bonds[n];i>=a||(i={b:i,e:a},1!=(a=o.bondOrder[n])&&(i.o=a),t.b.push(i))}}return t},this.globj=function(e,t){if(null===f){var r=s,n=t;n=n||{};var o=new $3Dmol.Object3D,i=[],a={},l={},c=C;if(n.supportsImposters){c=M;var u=new $3Dmol.Geometry(!0);u.imposter=!0;var d=new $3Dmol.Geometry(!0,!0);d.imposter=!0,d.sphereGeometry=new $3Dmol.Geometry(!0),d.sphereGeometry.imposter=!0,d.drawnCaps={}}else n.supportsAIA?(c=S,(u=new $3Dmol.Geometry(!1,!0,!0)).instanced=!0):u=new $3Dmol.Geometry(!0),d=new $3Dmol.Geometry(!0);var g,y,b={},_=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],$=0;for(y=r.length;$<y;$++){var L=r[$];if(L&&L.style){(L.clickable||L.hoverable)&&void 0===L.intersectionShape&&(L.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]});var E={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(g in E)E[g]=L.style[g]?L.style[g].opacity?parseFloat(L.style[g].opacity):1:void 0,b[g]?null!=E[g]&&b[g]!=E[g]&&(console.log("Warning: "+g+" opacity is ambiguous"),b[g]=1):b[g]=E[g];c(L,u);var I=L;if(I.style.clicksphere){var O=I.style.clicksphere;if(!O.hidden){var P=w(I,O);if((!0===I.clickable||I.hoverable)&&void 0!==I.intersectionShape){var j=new $3Dmol.Vector3(I.x,I.y,I.z);I.intersectionShape.sphere.push(new $3Dmol.Sphere(j,P))}}}var z=L,F=l;if(z.style.cross){var k=z.style.cross;if(!k.hidden){var N=k.linewidth||1;F[N]||(F[N]=new $3Dmol.Geometry);var G=F[N].updateGeoGroup(6),B=w(z,k),U=[[B,0,0],[-B,0,0],[0,B,0],[0,-B,0],[0,0,B],[0,0,-B]],W=z.clickable||z.hoverable;W&&void 0===z.intersectionShape&&(z.intersectionShape={sphere:[],cylinder:[],line:[]});for(var V=$3Dmol.getColorFromStyle(z,k),H=G.vertexArray,q=G.colorArray,Y=0;6>Y;Y++){var X=3*G.vertices;if(G.vertices++,H[X]=z.x+U[Y][0],H[X+1]=z.y+U[Y][1],H[X+2]=z.z+U[Y][2],q[X]=V.r,q[X+1]=V.g,q[X+2]=V.b,W){var K=new $3Dmol.Vector3(U[Y][0],U[Y][1],U[Y][2]);K.multiplyScalar(.1),K.set(K.x+z.x,K.y+z.y,K.z+z.z),z.intersectionShape.line.push(K)}}}}var Z=void 0,J=void 0,Q=void 0,ee=void 0,te=void 0,re=void 0,ne=L,oe=r,ie=a;if(ne.style.line){var ae=ne.style.line;if(!ae.hidden){var se=ae.linewidth||1;ie[se]||(ie[se]=new $3Dmol.Geometry);for(var le=ie[se].updateGeoGroup(6*ne.bonds.length),ce=le.vertexArray,ue=le.colorArray,he=0;he<ne.bonds.length;he++){var fe=oe[ne.bonds[he]];if(fe.style.line&&!(ne.serial>=fe.serial)){var pe=new $3Dmol.Vector3(ne.x,ne.y,ne.z),de=new $3Dmol.Vector3(fe.x,fe.y,fe.z),me=pe.clone().add(de).multiplyScalar(.5),ge=!1,ve=ne.clickable||ne.hoverable,ye=fe.clickable||fe.hoverable;(ve||ye)&&(ve&&(void 0===ne.intersectionShape&&(ne.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),ne.intersectionShape.line.push(pe),ne.intersectionShape.line.push(me)),ye&&(void 0===fe.intersectionShape&&(fe.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),fe.intersectionShape.line.push(me),fe.intersectionShape.line.push(de)));var be=$3Dmol.getColorFromStyle(ne,ne.style.line),_e=$3Dmol.getColorFromStyle(fe,fe.style.line);if(ne.bondStyles&&ne.bondStyles[he]){var xe=ne.bondStyles[he];if(!xe.iswire)continue;xe.radius&&(bondR=xe.radius),xe.singleBond&&(ge=!0),void 0!==xe.color1&&(be=$3Dmol.CC.color(xe.color1)),void 0!==xe.color2&&(_e=$3Dmol.CC.color(xe.color2))}var we=3*le.vertices;if(1<ne.bondOrder[he]&&4>ne.bondOrder[he]&&!ge){var Ae=A(ne,fe,he),$e=de.clone();$e.sub(pe),2==ne.bondOrder[he]?(Ae.multiplyScalar(.1),(ee=pe.clone()).add(Ae),(Q=pe.clone()).sub(Ae),(J=ee.clone()).add($e),(Z=Q.clone()).add($e),be==_e?(le.vertices+=4,D(ce,ue,we,ee,J,be),D(ce,ue,we+6,Q,Z,be)):(le.vertices+=8,$e.multiplyScalar(.5),(te=ee.clone()).add($e),(re=Q.clone()).add($e),D(ce,ue,we,ee,te,be),D(ce,ue,we+6,te,J,_e),D(ce,ue,we+12,Q,re,be),D(ce,ue,we+18,re,Z,_e))):3==ne.bondOrder[he]&&(Ae.multiplyScalar(.1),(ee=pe.clone()).add(Ae),(Q=pe.clone()).sub(Ae),(J=ee.clone()).add($e),(Z=Q.clone()).add($e),be==_e?(le.vertices+=6,D(ce,ue,we,pe,de,be),D(ce,ue,we+6,ee,J,be),D(ce,ue,we+12,Q,Z,be)):(le.vertices+=12,$e.multiplyScalar(.5),(te=ee.clone()).add($e),(re=Q.clone()).add($e),D(ce,ue,we,pe,me,be),D(ce,ue,we+6,me,de,_e),D(ce,ue,we+12,ee,te,be),D(ce,ue,we+18,te,J,_e),D(ce,ue,we+24,Q,re,be),D(ce,ue,we+30,re,Z,_e)))}else be==_e?(le.vertices+=2,D(ce,ue,we,pe,de,be)):(le.vertices+=4,D(ce,ue,we,pe,me,be),D(ce,ue,we+6,me,de,_e))}}}}var De=void 0,Ce=void 0,Se=void 0,Te=void 0,Me=void 0,Re=void 0,Le=void 0,Ee=void 0,Ie=void 0,Oe=void 0,Pe=void 0,je=void 0,ze=void 0,Fe=L,ke=r,Ne=d;if(Fe.style.stick){var Ge=Fe.style.stick;if(!Ge.hidden){var Be=Ge.radius||.25,Ue=Ge.singleBonds||!1,We=0,Ve=0,He=$3Dmol.getColorFromStyle(Fe,Ge);!Fe.capDrawn&&4>Fe.bonds.length&&(We=2);var qe=$3Dmol.GLDraw.drawCylinder;Ne.imposter&&(qe=R);for(var Ye=0;Ye<Fe.bonds.length;Ye++){var Xe=ke[Fe.bonds[Ye]];if(Fe.serial<Xe.serial){var Ke=Xe.style;if(Ke.stick&&!Ke.stick.hidden){var Ze=$3Dmol.getColorFromStyle(Xe,Ke.stick);if(Se=Be,je=Ue,Fe.bondStyles&&Fe.bondStyles[Ye]){if((ze=Fe.bondStyles[Ye]).iswire)continue;ze.radius&&(Se=ze.radius),ze.singleBond&&(je=!0),void 0!==ze.color1&&(He=$3Dmol.CC.color(ze.color1)),void 0!==ze.color2&&(Ze=$3Dmol.CC.color(ze.color2))}var Je=new $3Dmol.Vector3(Fe.x,Fe.y,Fe.z),Qe=new $3Dmol.Vector3(Xe.x,Xe.y,Xe.z);if(1===Fe.bondOrder[Ye]||je){if(!Xe.capDrawn&&4>Xe.bonds.length&&(Ve=2),He!=Ze?(qe(Ne,Je,Ce=(new $3Dmol.Vector3).addVectors(Je,Qe).multiplyScalar(.5),Se,He,We,0),qe(Ne,Ce,Qe,Se,Ze,0,Ve)):qe(Ne,Je,Qe,Se,He,We,Ve),Re=Fe.clickable||Fe.hoverable,Le=Xe.clickable||Xe.hoverable,Re||Le){if(Ce||(Ce=(new $3Dmol.Vector3).addVectors(Je,Qe).multiplyScalar(.5)),Re){var et=new $3Dmol.Cylinder(Je,Ce,Se),tt=new $3Dmol.Sphere(Je,Se);Fe.intersectionShape.cylinder.push(et),Fe.intersectionShape.sphere.push(tt)}if(Le){var rt=new $3Dmol.Cylinder(Qe,Ce,Se),nt=new $3Dmol.Sphere(Qe,Se);Xe.intersectionShape.cylinder.push(rt),Xe.intersectionShape.sphere.push(nt)}}}else if(1<Fe.bondOrder[Ye]){var ot=0,it=0;Se!=Be&&(it=ot=2);var at=Qe.clone();if(at.sub(Je),Me=A(Fe,Xe,Ye),2==Fe.bondOrder[Ye]){Te=Se/2.5,(Me=A(Fe,Xe,Ye)).multiplyScalar(1.5*Te);var st=Je.clone();st.add(Me);var lt=Je.clone();lt.sub(Me);var ct=st.clone();ct.add(at);var ut=lt.clone();ut.add(at),He!=Ze?(Ce=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5),De=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5),qe(Ne,st,Ce,Te,He,ot,0),qe(Ne,Ce,ct,Te,Ze,0,it),qe(Ne,lt,De,Te,He,ot,0),qe(Ne,De,ut,Te,Ze,0,it)):(qe(Ne,st,ct,Te,He,ot,it),qe(Ne,lt,ut,Te,He,ot,it)),Re=Fe.clickable||Fe.hoverable,Le=Xe.clickable||Xe.hoverable,(Re||Le)&&(Ce||(Ce=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5)),De||(De=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5)),Re&&(Ee=new $3Dmol.Cylinder(st,Ce,Te),Ie=new $3Dmol.Cylinder(lt,De,Te),Fe.intersectionShape.cylinder.push(Ee),Fe.intersectionShape.cylinder.push(Ie)),Le&&(Oe=new $3Dmol.Cylinder(ct,Ce,Te),Pe=new $3Dmol.Cylinder(ut,De,Te),Xe.intersectionShape.cylinder.push(Oe),Xe.intersectionShape.cylinder.push(Pe)))}else if(3==Fe.bondOrder[Ye]&&(Te=Se/4,Me.cross(at),Me.normalize(),Me.multiplyScalar(3*Te),(st=Je.clone()).add(Me),(lt=Je.clone()).sub(Me),(ct=st.clone()).add(at),(ut=lt.clone()).add(at),He!=Ze?(Ce=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5),De=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5),mp3=(new $3Dmol.Vector3).addVectors(Je,Qe).multiplyScalar(.5),qe(Ne,st,Ce,Te,He,ot,0),qe(Ne,Ce,ct,Te,Ze,0,it),qe(Ne,Je,mp3,Te,He,We,0),qe(Ne,mp3,Qe,Te,Ze,0,Ve),qe(Ne,lt,De,Te,He,ot,0),qe(Ne,De,ut,Te,Ze,0,it)):(qe(Ne,st,ct,Te,He,ot,it),qe(Ne,Je,Qe,Te,He,We,Ve),qe(Ne,lt,ut,Te,He,ot,it)),Re=Fe.clickable||Fe.hoverable,Le=Xe.clickable||Xe.hoverable,Re||Le)){if(Ce||(Ce=(new $3Dmol.Vector3).addVectors(st,ct).multiplyScalar(.5)),De||(De=(new $3Dmol.Vector3).addVectors(lt,ut).multiplyScalar(.5)),mp3||(mp3=(new $3Dmol.Vector3).addVectors(Je,Qe).multiplyScalar(.5)),Re){Ee=new $3Dmol.Cylinder(st.clone(),Ce.clone(),Te),Ie=new $3Dmol.Cylinder(lt.clone(),De.clone(),Te);var ht=new $3Dmol.Cylinder(Je.clone(),mp3.clone(),Te);Fe.intersectionShape.cylinder.push(Ee),Fe.intersectionShape.cylinder.push(Ie),Fe.intersectionShape.cylinder.push(ht)}if(Le){Oe=new $3Dmol.Cylinder(ct.clone(),Ce.clone(),Te),Pe=new $3Dmol.Cylinder(ut.clone(),De.clone(),Te);var ft=new $3Dmol.Cylinder(Qe.clone(),mp3.clone(),Te);Xe.intersectionShape.cylinder.push(Oe),Xe.intersectionShape.cylinder.push(Pe),Xe.intersectionShape.cylinder.push(ft)}}}}}}var pt=!1,dt=0,mt=!1;for(Ye=0;Ye<Fe.bonds.length;Ye++)je=Ue,Fe.bondStyles&&Fe.bondStyles[Ye]&&((ze=Fe.bondStyles[Ye]).singleBond&&(je=!0),ze.radius&&ze.radius!=Be&&(mt=!0)),(je||1==Fe.bondOrder[Ye])&&dt++;mt?0<dt&&(pt=!0):0==dt&&0<Fe.bonds.length&&(pt=!0),pt&&(Se=Be,Ne.imposter?T(Ne.sphereGeometry,Fe,Se,He):$3Dmol.GLDraw.drawSphere(Ne,Fe,Se,He))}}void 0===L.style.cartoon||L.style.cartoon.hidden||("spectrum"!==L.style.cartoon.color||"number"!=typeof L.resi||L.hetflag||(L.resi<_[0]&&(_[0]=L.resi),L.resi>_[1]&&(_[1]=L.resi)),i.push(L))}}if(0<i.length&&$3Dmol.drawCartoon(o,i,_,x),u&&0<u.vertices){if(u.initTypedArrays(),u.imposter)var gt=new $3Dmol.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0});else if(u.instanced){var vt=new $3Dmol.Geometry(!0);$3Dmol.GLDraw.drawSphere(vt,{x:0,y:0,z:0},1,new $3Dmol.Color(.5,.5,.5)),vt.initTypedArrays(),gt=new $3Dmol.InstancedMaterial({sphereMaterial:new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:vt})}else gt=new $3Dmol.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0});1>b.sphere&&0<=b.sphere&&(gt.transparent=!0,gt.opacity=b.sphere),vt=new $3Dmol.Mesh(u,gt),o.add(vt)}if(0<d.vertices){var yt=d.sphereGeometry;yt&&void 0!==yt.vertices&&0!=yt.vertices||(yt=null),d.initTypedArrays(),yt&&yt.initTypedArrays();var bt={ambient:0,vertexColors:!0,reflectivity:0};if(d.imposter)var _t=new $3Dmol.StickImposterMaterial(bt),xt=new $3Dmol.SphereImposterMaterial(bt);else _t=new $3Dmol.MeshLambertMaterial(bt),xt=new $3Dmol.MeshLambertMaterial(bt),_t.wireframe&&(d.setUpWireframe(),yt&&yt.setUpWireframe());1>b.stick&&0<=b.stick&&(_t.transparent=!0,_t.opacity=b.stick,xt.transparent=!0,xt.opacity=b.stick);var wt=new $3Dmol.Mesh(d,_t);if(o.add(wt),yt){var At=new $3Dmol.Mesh(yt,xt);o.add(At)}}for($ in a)if(a.hasOwnProperty($)){var $t=$,Dt=new $3Dmol.LineBasicMaterial({linewidth:$t,vertexColors:!0});1>b.line&&0<=b.line&&(Dt.transparent=!0,Dt.opacity=b.line),a[$].initTypedArrays();var Ct=new $3Dmol.Line(a[$],Dt,$3Dmol.LinePieces);o.add(Ct)}for($ in l)if(l.hasOwnProperty($)){$t=$;var St=new $3Dmol.LineBasicMaterial({linewidth:$t,vertexColors:!0});1>b.cross&&0<=b.cross&&(St.transparent=!0,St.opacity=b.cross),l[$].initTypedArrays();var Tt=new $3Dmol.Line(l[$],St,$3Dmol.LinePieces);o.add(Tt)}if(v&&m.symmetries&&0<m.symmetries.length){var Mt,Rt=new $3Dmol.Object3D;for(Mt=0;Mt<m.symmetries.length;Mt++){new $3Dmol.Object3D;var Lt=o.clone();Lt.matrix.copy(m.symmetries[Mt]),Lt.matrixAutoUpdate=!1,Rt.add(Lt)}f=Rt}else f=o;p&&(e.remove(p),p=null),p=f.clone(),h&&(p.setVisible(!1),f.setVisible(!1)),e.add(p)}},this.removegl=function(e){p&&(void 0!==p.geometry&&p.geometry.dispose(),void 0!==p.material&&p.material.dispose(),e.remove(p),p=null),f=null},this.hide=function(){h=!0,p&&p.setVisible(!1),f&&f.setVisible(!1)},this.show=function(){h=!1,p&&p.setVisible(!0),f&&f.setVisible(!0)},this.addPropertyLabels=function(e,t,r,n){var o=this.selectedAtoms(t,o);for(t=$.extend(!0,{},n),n=0;n<o.length;n++){var i=o[n],a=null;void 0!==i[e]?a=String(i[e]):(i.properties[e],a=String(i.properties[e])),null!=a&&(t.position=i,r.addLabel(a,t))}},this.addResLabels=function(e,t,r){for(var n=this.selectedAtoms(e,n),o={},i=0;i<n.length;i++){var a=(e=n[i]).chain,s=e.resn+""+e.resi;o[a]||(o[a]={}),o[a][s]||(o[a][s]=[]),o[a][s].push(e)}for(a in r=$.extend(!0,{},r),o)if(o.hasOwnProperty(a)){var l=o[a];for(s in l)if(l.hasOwnProperty(s)){n=l[s];var c=new $3Dmol.Vector3(0,0,0);for(i=0;i<n.length;i++)e=n[i],c.x+=e.x,c.y+=e.y,c.z+=e.z;c.divideScalar(n.length),r.position=c,t.addLabel(s,r)}}},this.setCoordinatesFromURL=function(e,t){l=[];var r=this;return c&&function(){u=[];var e=new Int8Array(s.length);e.fill(0);for(var t=function t(r,n,o){o.push([r,n]),n=s[r],e[r]=1;for(var i=0;i<n.bonds.length;i++){var a=n.bonds[i];s[a]&&!e[a]&&t(a,r,o)}},r=0;r<s.length;r++)if(s[r]&&!e[r]){var n=[];t(r,-1,n),u.push(n)}}(),new Promise(function(n,o){e.startsWith("http://")||(e="http://"+e),$.get(e+"/traj/numframes/"+t,function(i){isNaN(parseInt(i))||(l.push(s),l.numFrames=i,l.url=e,l.path=t,r.setFrame(0).then(function(){n()}).catch(o))})})},this.setCoordinates=function(t,r){if(!t)return[];if(/\.gz$/.test(r=r||"")){r=r.replace(/\.gz$/,"");try{t=pako.inflate(t,{to:"string"})}catch(e){console.log(e)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:""}.hasOwnProperty(r)){l=[];var n=s.length;for(t=e.parseCrd(t,r),r=0;r<t.length;){for(var o=[],i=0;i<n;i++){var a,c={};for(a in s[i])c[a]=s[i][a];o[i]=c,o[i].x=t[r++],o[i].y=t[r++],o[i].z=t[r++]}l.push(o)}return s=l[0],l}return[]},this.addAtomSpecs=function(t){for(var r=0;r<t.length;r++)e.validAtomSelectionSpecs.hasOwnProperty(t[r])&&e.validAtomSelectionSpecs.push(t[r])}}var t={line:{}},r={H:1.2,Li:1.82,LI:1.82,Na:2.27,NA:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,Cl:1.75,BR:1.85,Br:1.85,SE:1.9,Se:1.9,ZN:1.39,Zn:1.39,CU:1.4,Cu:1.4,NI:1.63,Ni:1.63};e.validElements="H Li LI Na NA K C N O F P S CL Cl BR Br SE Se ZN Zn CU Cu NI Ni".split(" "),e.validAtomSpecs={resn:{type:"string",valid:!0},x:{type:"number",valid:!1,step:.1},y:{type:"number",valid:!1,step:.1},z:{type:"number",valid:!1,step:.1},color:{type:"color",gui:!0},surfaceColor:{type:"color",gui:!0},elem:{type:"element",gui:!0},hetflag:{type:"boolean",valid:!1},chain:{type:"string",gui:!0},resi:{type:"number",gui:!0},icode:{type:"number",valid:!1,step:.1},rescode:{type:"number",valid:!1,step:.1},serial:{type:"number",valid:!1,step:.1},atom:{type:"string",valid:!1},bonds:{type:"array",valid:!1},ss:{type:"string",valid:!1},singleBonds:{type:"boolean",valid:!1},bondOrder:{type:"array",valid:!1},properties:{type:"properties",valid:!1},b:{type:"number",valid:!1,step:.1},pdbline:{type:"string",valid:!1},clickable:{type:"boolean",valid:!1},callback:{type:"function",valid:!1},invert:{type:"boolean",valid:!1},reflectivity:{type:"number",gui:!0,step:.1},altLoc:{type:"invalid",valid:!1}},e.validAtomSelectionSpecs=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}(e.validAtomSpecs,{model:{type:"string",valid:!1},bonds:{type:"string",valid:!1},predicate:{type:"string",valid:!1},invert:{type:"string",valid:!1},byres:{type:"string",valid:!1},expand:{type:"string",valid:!1},within:{type:"string",valid:!1},and:{type:"string",valid:!1},or:{type:"string",valid:!1},not:{type:"string",valid:!1}});var n={hidden:{type:"boolean",gui:!0},singleBonds:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1.5,min:0}};return e.validAtomStyleSpecs={line:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!0,step:.1,default:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0}},gui:!0},cross:{validItems:{hidden:{type:"boolean",gui:!0},linewidth:{type:"number",gui:!1,step:.1,default:1,min:0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:1,min:.1},scale:{type:"number",gui:!0,step:.1,default:1,min:0}},gui:!0},stick:{validItems:{hidden:{type:"boolean",gui:!0},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},radius:{type:"number",gui:!0,step:.1,default:.25,min:.1},singleBonds:{type:"boolean",gui:!0}},gui:!0},sphere:{validItems:n,gui:!0},cartoon:{validItems:{style:{validItems:["trace","oval","rectangle","parabola","edged"],gui:!0},color:{type:"color",gui:!0},arrows:{type:"boolean",gui:!0},ribbon:{type:"boolean",gui:!0},hidden:{type:"boolean",gui:!0},tubes:{type:"boolean",gui:!0},thickness:{type:"number",gui:!0,step:.1,default:1,min:0},width:{type:"number",gui:!0,step:.1,default:1,min:0},opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1}},gui:!0},colorfunc:{validItems:null,valid:!1},clicksphere:{validItems:n}},e.validSurfaceSpecs={opacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},colorscheme:{type:"colorscheme",gui:!0},color:{type:"color",gui:!0},voldata:{type:"number",gui:!1},volscheme:{type:"number",gui:!1},map:{type:"number",gui:!1}},e.validLabelResSpecs={font:{type:"string",gui:!0},fontSize:{type:"number",gui:!0,step:1,default:12,min:1},fontColor:{type:"color",gui:!0},fontOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},borderThickness:{type:"number",gui:!0,step:.1,default:1,min:0},borderColor:{type:"color",gui:!0},borderOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},backgroundColor:{type:"color",gui:!0},backgroundOpacity:{type:"number",gui:!0,step:.1,default:1,min:0,max:1},position:{type:"array",valid:!1},inFront:{type:"boolean",gui:!0},showBackground:{type:"boolean",gui:!0},fixed:{type:"boolean",gui:!0},alignment:{validItems:"topLeft topCenter topRight centerLeft center centerRight bottomLeft bottomCenter bottomRight".split(" "),gui:!0},scale:{type:"boolean",gui:!1}},e.parseCrd=function(e,t){var r,n=[],o=0;if("pdb"==t)for(r=e.indexOf("\nATOM");-1!=r;){for(;"\nATOM"==e.slice(r,r+5)||"\nHETATM"==e.slice(r,r+7);)n[o++]=parseFloat(e.slice(r+31,r+39)),n[o++]=parseFloat(e.slice(r+39,r+47)),n[o++]=parseFloat(e.slice(r+47,r+55)),r=e.indexOf("\n",r+54),"\nTER"==e.slice(r,r+4)&&(r=e.indexOf("\n",r+5));r=e.indexOf("\nATOM",r)}else"netcdf"==t?(e=new netcdfjs(e),n=[].concat.apply([],e.getDataVariable("coordinates"))):(r=e.indexOf("\n"),"inpcrd"==t&&(r=e.indexOf("\n",r+1)),n=(e=e.slice(r+1)).match(/\S+/g).map(parseFloat));return n},e.parseMolData=function(e,t,r){if(!e)return[];if(/\.gz$/.test(t=t||"")){t=t.replace(/\.gz$/,"");try{e=pako.inflate(e,{to:"string"})}catch(e){console.log(e)}}return void 0===$3Dmol.Parsers[t]&&(t=t.split(".").pop(),void 0===$3Dmol.Parsers[t]&&(console.log("Unknown format: "+t),t=e instanceof Uint8Array?"mmtf":e.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":e.match(/^HETATM/gm)||e.match(/^ATOM/gm)?"pdb":e.match(/ITEM: TIMESTEP/gm)?"lammpstrj":e.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":e.match(/^%VERSION\s+\VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+t))),(0,$3Dmol.Parsers[t])(e,r)},e.setAtomDefaults=function(e,r){for(var n=0;n<e.length;n++){var o=e[n];o&&(o.style=o.style||t,o.color=o.color||ElementColors[o.elem]||defaultColor,o.model=r,o.clickable||o.hoverable)&&(o.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]})}},e}(),$3Dmol.GLShape=function(){function e(e){e=e||{},$3Dmol.ShapeIDCount++,this.boundingSphere=new $3Dmol.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},o(this,e);var i=[],a=null,s=null,l=new $3Dmol.Geometry(!0),c=new $3Dmol.Geometry(!0);this.updateStyle=function(t){for(var r in t)e[r]=t[r];o(this,e)},this.addCustom=function(e){e.vertexArr=e.vertexArr||[],e.faceArr=e.faceArr||[],e.normalArr=e.normalArr||[],r(this,l,e)},this.addSphere=function(e){e.center=e.center||{x:0,y:0,z:0},e.radius=e.radius?$3Dmol.Math.clamp(e.radius,0,1/0):1.5,e.color=$3Dmol.CC.color(e.color),this.intersectionShape.sphere.push(new $3Dmol.Sphere(e.center,e.radius)),$3Dmol.GLDraw.drawSphere(l,e.center,e.radius,e.color),i.push({centroid:new $3Dmol.Vector3(e.center.x,e.center.y,e.center.z)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addBox=function(e){var t=e.dimensions||{w:1,h:1,d:1},o=t.w;"number"==typeof t.w&&(o={x:t.w,y:0,z:0});var a=t.h;"number"==typeof t.h&&(a={x:0,y:t.h,z:0});var s=t.d;"number"==typeof t.d&&(s={x:0,y:0,z:t.d}),null==(t=e.corner)&&(t=void 0!==e.center?{x:e.center.x-.5*(o.x+a.x+s.x),y:e.center.y-.5*(o.y+a.y+s.y),z:e.center.z-.5*(o.z+a.z+s.z)}:{x:0,y:0,z:0}),o=[{x:t.x,y:t.y,z:t.z},{x:t.x+o.x,y:t.y+o.y,z:t.z+o.z},{x:t.x+a.x,y:t.y+a.y,z:t.z+a.z},{x:t.x+o.x+a.x,y:t.y+o.y+a.y,z:t.z+o.z+a.z},{x:t.x+s.x,y:t.y+s.y,z:t.z+s.z},{x:t.x+o.x+s.x,y:t.y+o.y+s.y,z:t.z+o.z+s.z},{x:t.x+a.x+s.x,y:t.y+a.y+s.y,z:t.z+a.z+s.z},{x:t.x+o.x+a.x+s.x,y:t.y+o.y+a.y+s.y,z:t.z+o.z+a.z+s.z}],s=[],(a=[]).splice(a.length,0,o[0],o[1],o[2],o[3]),s.splice(s.length,0,0,2,1,1,2,3),t=4,a.splice(a.length,0,o[2],o[3],o[6],o[7]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[4],o[5],o[0],o[1]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[6],o[7],o[4],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[3],o[1],o[7],o[5]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),t+=4,a.splice(a.length,0,o[2],o[0],o[6],o[4]),s.splice(s.length,0,t+0,t+2,t+1,t+1,t+2,t+3),(e=$.extend({},e)).vertexArr=a,e.faceArr=s,e.normalArr=[],r(this,l,e),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(o[0],o[7]).multiplyScalar(.5)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addCylinder=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===r.x&&(r.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color);this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(t,r,o)),$3Dmol.GLDraw.drawCylinder(l,t,r,o,a,e.fromCap,e.toCap),e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,r).multiplyScalar(.5)}),t=l.updateGeoGroup(0),n(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addDashedCylinder=function(e){e.start=e.start||{},e.end=e.end||{},e.dashLength=e.dashLength||.25,e.gapLength=e.gapLength||.25;var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),r=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);void 0===r.x&&(r.x=3);var o=e.radius||.1,a=$3Dmol.CC.color(e.color),s=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)+Math.pow(t.z-r.z,2)),c=s/(e.gapLength+e.dashLength),u=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0);for(var h=new $3Dmol.Vector3((r.x-t.x)/(s/e.gapLength),(r.y-t.y)/(s/e.gapLength),(r.z-t.z)/(s/e.gapLength)),f=new $3Dmol.Vector3((r.x-t.x)/(s/e.dashLength),(r.y-t.y)/(s/e.dashLength),(r.z-t.z)/(s/e.dashLength)),p=0;p<c;p++)s=new $3Dmol.Vector3(u.x+f.x,u.y+f.y,u.z+f.z),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(u,s,o)),$3Dmol.GLDraw.drawCylinder(l,u,s,o,a,e.fromCap,e.toCap),u=new $3Dmol.Vector3(s.x+h.x,s.y+h.y,s.z+h.z);e=new $3Dmol.Vector3,i.push({centroid:e.addVectors(t,r).multiplyScalar(.5)}),t=l.updateGeoGroup(0),n(this.boundingSphere,i,t.vertexArray,t.vertices)},this.addCurve=function(e){e.points=e.points||[],e.smooth=e.smooth||10,void 0===e.fromCap&&(e.fromCap=2),void 0===e.toCap&&(e.toCap=2);var t=$3Dmol.subdivide_spline(e.points,e.smooth);if(3>t.length)console.log("Too few points in addCurve");else{var r=e.radius||.1,n=$3Dmol.CC.color(e.color),o=0,i=t.length-1,a=t[0].distanceTo(t[1]),s=Math.ceil(2*r/a);for(e.toArrow&&(a={start:t[i-=s],end:t[t.length-1],radius:r,color:n,mid:1e-4},this.addArrow(a)),e.fromArrow&&(a={start:t[o+=s],end:t[0],radius:r,color:n,mid:1e-4},this.addArrow(a)),e=Math.ceil(t.length/2),r={radius:r,color:n,fromCap:2,toCap:2};o<i;o++)r.start=t[o],r.end=t[o+1],r.fromCap=2,r.toCap=2,o<e?(r.fromCap=2,r.toCap=0):(r.fromCap=o>e?0:2,r.toCap=2),this.addCylinder(r)}},this.addLine=function(e){e.start=e.start||{},e.end=e.end||{};var t=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0);void 0===(e=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0)).x&&(e.x=3);var r=l.updateGeoGroup(2),o=r.vertices,a=3*o,s=r.vertexArray;s[a]=t.x,s[a+1]=t.y,s[a+2]=t.z,s[a+3]=e.x,s[a+4]=e.y,s[a+5]=e.z,r.vertices+=2,(a=r.lineArray)[s=r.lineidx]=o,a[s+1]=o+1,r.lineidx+=2,r=new $3Dmol.Vector3,i.push({centroid:r.addVectors(t,e).multiplyScalar(.5)}),r=l.updateGeoGroup(0),n(this.boundingSphere,i,r.vertexArray,r.vertices)},this.addArrow=function(e){if(e.start=e.start||{},e.end=e.end||{},e.start=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),e.dir instanceof $3Dmol.Vector3&&e.length instanceof number){var t=e.dir.clone().multiplyScalar(e.length).add(start);e.end=t}else e.end=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),void 0===e.end.x&&(e.end.x=3);e.radius=e.radius||.1,e.radiusRatio=e.radiusRatio||1.618034,e.mid=0<e.mid&&1>e.mid?e.mid:.618034;var r=e.start,o=e.end,a=e.radius,s=e.radiusRatio,c=e.mid;if(r&&o){t=l.updateGeoGroup(51);var u=o.clone();u.sub(r).multiplyScalar(c);var h=r.clone().add(u);c=u.clone().negate(),this.intersectionShape.cylinder.push(new $3Dmol.Cylinder(r.clone(),h.clone(),a)),this.intersectionShape.sphere.push(new $3Dmol.Sphere(r.clone(),a));var f=[];f[0]=u.clone(),1e-4<Math.abs(f[0].x)?f[0].y+=1:f[0].x+=1,f[0].cross(u),f[0].normalize(),f[0]=f[0],f[4]=f[0].clone(),f[4].crossVectors(f[0],u),f[4].normalize(),f[8]=f[0].clone().negate(),f[12]=f[4].clone().negate(),f[2]=f[0].clone().add(f[4]).normalize(),f[6]=f[4].clone().add(f[8]).normalize(),f[10]=f[8].clone().add(f[12]).normalize(),f[14]=f[12].clone().add(f[0]).normalize(),f[1]=f[0].clone().add(f[2]).normalize(),f[3]=f[2].clone().add(f[4]).normalize(),f[5]=f[4].clone().add(f[6]).normalize(),f[7]=f[6].clone().add(f[8]).normalize(),f[9]=f[8].clone().add(f[10]).normalize(),f[11]=f[10].clone().add(f[12]).normalize(),f[13]=f[12].clone().add(f[14]).normalize(),f[15]=f[14].clone().add(f[0]).normalize();var p,d=t.vertices,m=t.vertexArray,g=t.faceArray,v=t.normalArray,y=t.lineArray,b=0;for(p=f.length;b<p;++b){var _=3*(d+3*b),x=f[b].clone().multiplyScalar(a).add(r),w=f[b].clone().multiplyScalar(a).add(h),A=f[b].clone().multiplyScalar(a*s).add(h);m[_]=x.x,m[_+1]=x.y,m[_+2]=x.z,m[_+3]=w.x,m[_+4]=w.y,m[_+5]=w.z,m[_+6]=A.x,m[_+7]=A.y,m[_+8]=A.z,0<b&&(_=new $3Dmol.Vector3(m[_-3],m[_-2],m[_-1]),x=o.clone(),w=h.clone(),A=new $3Dmol.Vector3(A.x,A.y,A.z),this.intersectionShape.triangle.push(new $3Dmol.Triangle(A,x,_)),this.intersectionShape.triangle.push(new $3Dmol.Triangle(_.clone(),w,A.clone())))}t.vertices+=48,m[_=3*t.vertices]=r.x,m[_+1]=r.y,m[_+2]=r.z,m[_+3]=h.x,m[_+4]=h.y,m[_+5]=h.z,m[_+6]=o.x,m[_+7]=o.y,m[_+8]=o.z,t.vertices+=3;var $,D,C=t.vertices-3,S=t.vertices-2,T=t.vertices-1,M=3*C,R=3*S,L=3*T;for(b=0,p=f.length-1;b<p;++b){var E=d+3*b;r=t.faceidx,o=t.lineidx,_=3*(a=E),x=3*(s=E+1),w=3*(h=E+2);var I=3*(m=E+4),O=3*(A=E+5),P=3*(E+=3),j=$=f[b],z=D=f[b+1];v[_]=j.x,v[x]=$.x,v[P]=D.x,v[_+1]=j.y,v[x+1]=$.y,v[P+1]=D.y,v[_+2]=j.z,v[x+2]=$.z,v[P+2]=D.z,v[x]=$.x,v[I]=z.x,v[P]=D.x,v[x+1]=$.y,v[I+1]=z.y,v[P+1]=D.y,v[x+2]=$.z,v[I+2]=z.z,v[P+2]=D.z,v[w]=$.x,v[O]=z.x,v[w+1]=$.y,v[O+1]=z.y,v[w+2]=$.z,v[O+2]=z.z,g[r]=a,g[r+1]=s,g[r+2]=E,g[r+3]=s,g[r+4]=m,g[r+5]=E,g[r+6]=a,g[r+7]=E,g[r+8]=C,g[r+9]=h,g[r+10]=S,g[r+11]=A,g[r+12]=h,g[r+13]=T,g[r+14]=A,y[o]=a,y[o+1]=s,y[o+2]=a,y[o+3]=E,y[o+4]=m,y[o+5]=E,y[o+6]=a,y[o+7]=E,y[o+8]=h,y[o+9]=s,y[o+10]=h,y[o+11]=A,y[o+12]=m,y[o+13]=A,y[o+14]=h,y[o+15]=T,y[o+16]=h,y[o+17]=A,y[o+18]=T,y[o+19]=A,t.faceidx+=15,t.lineidx+=20}d=[d+45,d+46,d+1,d,d+47,d+2],r=t.faceidx,o=t.lineidx,_=3*(a=d[0]),x=3*(s=d[1]),w=3*(h=d[4]),I=3*(m=d[2]),O=3*(A=d[5]),P=3*(E=d[3]),j=$=f[15],z=D=f[0],v[_]=j.x,v[x]=$.x,v[P]=D.x,v[_+1]=j.y,v[x+1]=$.y,v[P+1]=D.y,v[_+2]=j.z,v[x+2]=$.z,v[P+2]=D.z,v[x]=$.x,v[I]=z.x,v[P]=D.x,v[x+1]=$.y,v[I+1]=z.y,v[P+1]=D.y,v[x+2]=$.z,v[I+2]=z.z,v[P+2]=D.z,v[w]=$.x,v[O]=z.x,v[w+1]=$.y,v[O+1]=z.y,v[w+2]=$.z,v[O+2]=z.z,u.normalize(),c.normalize(),v[M]=c.x,v[R]=v[L]=u.x,v[M+1]=c.y,v[R+1]=v[L+1]=u.y,v[M+2]=c.z,v[R+2]=v[L+2]=u.z,g[r]=a,g[r+1]=s,g[r+2]=E,g[r+3]=s,g[r+4]=m,g[r+5]=E,g[r+6]=a,g[r+7]=E,g[r+8]=C,g[r+9]=h,g[r+10]=S,g[r+11]=A,g[r+12]=h,g[r+13]=T,g[r+14]=A,y[o]=a,y[o+1]=s,y[o+2]=a,y[o+3]=E,y[o+4]=m,y[o+5]=E,y[o+6]=a,y[o+7]=E,y[o+8]=h,y[o+9]=s,y[o+10]=h,y[o+11]=A,y[o+12]=m,y[o+13]=A,y[o+14]=h,y[o+15]=T,y[o+16]=h,y[o+17]=A,y[o+18]=T,y[o+19]=A,t.faceidx+=15,t.lineidx+=20}t=new $3Dmol.Vector3,i.push({centroid:t.addVectors(e.start,e.end).multiplyScalar(.5)}),e=l.updateGeoGroup(0),n(this.boundingSphere,i,e.vertexArray,e.vertices)},this.addIsosurface=function(e,t,n){var o,i=void 0!==t.isoval&&"number"==typeof t.isoval?t.isoval:0,a=!!t.voxel,s=void 0===t.smoothness?1:t.smoothness,c=e.size.x,u=e.size.y,h=e.size.z,f=new Int16Array(c*u*h),p=e.data,d=0;for(o=f.length;d<o;++d)f[d]=-1;for(f=new Uint8Array(c*u*h),d=0,o=p.length;d<o;++d)0<(0<=i?p[d]-i:i-p[d])&&(f[d]|=2);if(i=[],p=[],$3Dmol.MarchingCube.march(f,i,p,{fulltable:!0,voxel:a,unitCube:e.unit,origin:e.origin,matrix:e.matrix,nX:c,nY:u,nZ:h}),!a&&0<s&&$3Dmol.MarchingCube.laplacianSmooth(s,i,p),a=[],s=[],c=[],t.selectedRegion&&void 0===t.coords&&(t.coords=t.selectedRegion),void 0!==t.coords){u=t.coords[0].x,h=t.coords[0].y,f=t.coords[0].z,o=t.coords[0].x;var m=t.coords[0].y,g=t.coords[0].z;for(d=0;d<t.coords.length;d++)t.coords[d].x>u?u=t.coords[d].x:t.coords[d].x<o&&(o=t.coords[d].x),t.coords[d].y>h?h=t.coords[d].y:t.coords[d].y<m&&(m=t.coords[d].y),t.coords[d].z>f?f=t.coords[d].z:t.coords[d].z<g&&(g=t.coords[d].z);var v=2;for(void 0!==t.radius&&(v=t.radius),void 0!==t.selectedOffset&&(v=t.selectedOffset),void 0!==t.seldist&&(v=t.seldist),o-=v,u+=v,m-=v,h+=v,g-=v,f+=v,d=0;d<i.length;d++){var y;if(y=i[d].x>o&&i[d].x<u&&i[d].y>m&&i[d].y<h&&i[d].z>g&&i[d].z<f)e:{y=i[d];for(var b=t.coords,_=v,x=0;x<b.length;x++){var w=b[x];if(Math.sqrt(Math.pow(w.x-y.x,2)+Math.pow(w.y-y.y,2)+Math.pow(w.z-y.z,2))<=_){y=!0;break e}}y=!1}y?(a.push(s.length),s.push(i[d])):a.push(-1)}for(d=0;d+2<p.length;d+=3)-1!==a[p[d]]&&-1!==a[p[d+1]]&&-1!==a[p[d+2]]&&(c.push(p[d]-(p[d]-a[p[d]])),c.push(p[d+1]-(p[d+1]-a[p[d+1]])),c.push(p[d+2]-(p[d+2]-a[p[d+2]])));i=s,p=c}for(r(this,l,{vertexArr:i,faceArr:p,normalArr:[],clickable:t.clickable,hoverable:t.hoverable}),this.updateStyle(t),d=new $3Dmol.Vector3(e.origin.x,e.origin.y,e.origin.z),p=new $3Dmol.Vector3(e.size.x*e.unit.x,e.size.y*e.unit.y,e.size.z*e.unit.z),e=new $3Dmol.Vector3(0,0,0),t=d.clone(),p=d.clone().add(p),d=0;d<i.length;d++)e.add(i[d]),t.max(i[d]),p.min(i[d]);e.divideScalar(i.length),d=e.distanceTo(p),i=e.distanceTo(t),this.boundingSphere.center=e,this.boundingSphere.radius=Math.max(d,i),"function"==typeof n&&n()},this.addVolumetricData=function(e,t,r){e=new $3Dmol.VolumeData(e,t),this.addIsosurface(e,r)},this.finalize=function(){t(l),l.initTypedArrays()},this.globj=function(e){var r;if(s&&(e.remove(s),s=null),!this.hidden){if(t(l),l.initTypedArrays(),this.wireframe&&l.setUpWireframe(),void 0!==this.color){if((r=this.color)||$3Dmol.CC.color(r),l.colorsNeedUpdate=!0,r.constructor!==Array)var n=r.r,o=r.g,i=r.b;for(var u in l.geometryGroups){var h=l.geometryGroups[u],f=h.colorArray,p=0;for(h=h.vertices;p<h;++p)r.constructor===Array&&(n=(i=r[p]).r,o=i.g,i=i.b),f[3*p]=n,f[3*p+1]=o,f[3*p+2]=i}}a=new $3Dmol.Object3D,r=this.side==$3Dmol.DoubleSide?new $3Dmol.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}):new $3Dmol.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:1>this.opacity,opacity:this.opacity,wireframeLinewidth:this.linewidth}),r=new $3Dmol.Mesh(l,r),a.add(r),r=new $3Dmol.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),r=new $3Dmol.Line(c,r,$3Dmol.LinePieces),a.add(r),s=a.clone(),e.add(s)}},this.removegl=function(e){s&&(void 0!==s.geometry&&s.geometry.dispose(),void 0!==s.material&&s.material.dispose(),e.remove(s),s=null),a=null}}var t=function(e){0<(e=e.updateGeoGroup(0)).vertices&&e.truncateArrayBuffers(!0,!0)},r=function(e,t,r){var o=r.faceArr;0!==r.vertexArr.length&&0!==o.length||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!"),void 0===(o=r.color)&&(o=e.color),o=$3Dmol.CC.color(o);for(var i=$3Dmol.splitMesh(r),a=0,s=i.length;a<s;a++){var l,c=void 0,u=l=void 0,h=e,f=t,p=i[a],d=i[a].colorArr?i[a].colorArr:o,m=r.clickable,g=f.addGeoGroup(),v=p.vertexArr,y=p.normalArr,b=p.faceArr;g.vertices=v.length,g.faceidx=b.length;var _=g.vertexArray,x=g.colorArray;d.constructor!==Array&&(c=d.r,l=d.g,u=d.b);var w=0;for(p=g.vertices;w<p;++w){var A=3*w,$=v[w];_[A]=$.x,_[A+1]=$.y,_[A+2]=$.z,d.constructor===Array&&(c=($=d[w]).r,l=$.g,u=$.b),x[A]=c,x[A+1]=l,x[A+2]=u}if(m)for(w=0,p=g.faceidx/3;w<p;++w)l=b[A=3*w],u=b[A+1],$=b[A+2],A=new $3Dmol.Vector3,c=new $3Dmol.Vector3,d=new $3Dmol.Vector3,h.intersectionShape.triangle.push(new $3Dmol.Triangle(A.copy(v[l]),c.copy(v[u]),d.copy(v[$])));if(m){for(p=new $3Dmol.Vector3(0,0,0),l=w=0;l<f.geometryGroups.length;l++)p.add(f.geometryGroups[l].getCentroid()),w++;p.divideScalar(w),n(h.boundingSphere,{centroid:p},_,g.vertices)}if(g.faceArray=new Uint16Array(b),g.truncateArrayBuffers(!0,!0),y.length<g.vertices)g.setNormals();else for(f=g.normalArray=new Float32Array(3*g.vertices),w=0,p=g.vertices;w<p;++w)A=3*w,h=y[w],f[A]=h.x,f[A+1]=h.y,f[A+2]=h.z;g.setLineIndices(),g.lineidx=g.lineArray.length}},n=function(e,t,r,n){var o;if(e.center.set(0,0,0),0<t.length){var i=0;for(o=t.length;i<o;++i)e.center.add(t[i].centroid);e.center.divideScalar(t.length)}for(t=e.radius*e.radius,r.length/3<n&&(n=r.length/3),i=0,o=n;i<o;i++)n=e.center.distanceToSquared({x:r[3*i],y:r[3*i+1],z:r[3*i+2]}),t=Math.max(t,n);e.radius=Math.sqrt(t)},o=function(e,t){void 0!==t.color?(e.color=t.color||new $3Dmol.Color,t.color instanceof $3Dmol.Color||(e.color=$3Dmol.CC.color(t.color))):e.color=$3Dmol.CC.color(0),e.wireframe=!!t.wireframe,e.opacity=t.alpha?$3Dmol.Math.clamp(t.alpha,0,1):1,void 0!==t.opacity&&(e.opacity=$3Dmol.Math.clamp(t.opacity,0,1)),e.side=void 0!==t.side?t.side:$3Dmol.DoubleSide,e.linewidth=void 0===t.linewidth?1:t.linewidth,e.clickable=!!t.clickable,e.callback="function"==typeof t.callback?t.callback:null,e.hoverable=!!t.hoverable,e.hover_callback="function"==typeof t.hover_callback?t.hover_callback:null,e.unhover_callback="function"==typeof t.unhover_callback?t.unhover_callback:null,e.hidden=t.hidden};return Object.defineProperty(e.prototype,"position",{get:function(){return this.boundingSphere.center}}),Object.defineProperty(e.prototype,"x",{get:function(){return this.boundingSphere.center.x}}),Object.defineProperty(e.prototype,"y",{get:function(){return this.boundingSphere.center.y}}),Object.defineProperty(e.prototype,"z",{get:function(){return this.boundingSphere.center.z}}),e}(),$3Dmol.ShapeIDCount=0,$3Dmol.splitMesh=function(e){if(64e3>e.vertexArr.length)return[e];var t=[{vertexArr:[],normalArr:[],faceArr:[]}];e.colorArr&&(t.colorArr=[]);for(var r=[],n=[],o=0,i=e.faceArr,a=0,s=i.length;a<s;a+=3){for(var l=t[o],c=0;3>c;c++){var u=i[a+c];r[u]!==o&&(r[u]=o,n[u]=l.vertexArr.length,l.vertexArr.push(e.vertexArr[u]),e.normalArr&&e.normalArr[u]&&l.normalArr.push(e.normalArr[u]),e.colorArr&&e.colorArr[u]&&l.colorArr.push(e.colorArr[u])),l.faceArr.push(n[u])}64e3<=l.vertexArr.length&&(t.push({vertexArr:[],normalArr:[],faceArr:[]}),e.colorArr&&(t.colorArr=[]),o++)}return t},$3Dmol.GLViewer=function(e,t){function r(e){var t=[];if(void 0===e.model)for(e=0;e<d.length;e++)d[e]&&t.push(d[e]);else for(t=e.model,$.isArray(t)||(t=[t]),e=0;e<t.length;e++)if("number"==typeof t[e]){var r=t[e];0>r&&(r+=d.length),t[e]=d[r]}return t}function n(e){var t=[];void 0===e&&(e={});for(var n=r(e),o=0;o<n.length;o++)t=t.concat(n[o].selectedAtoms(e));return t}function o(e,t,n,o,i){for(var a=r(t),s=0;s<a.length;s++)a[s][e](t,n,o,i)}function i(e){var t=new $3Dmol.MeshLambertMaterial;for(var r in t.vertexColors=$3Dmol.VertexColors,e)"color"!==r&&"map"!==r&&e.hasOwnProperty(r)&&(t[r]=e[r]);return void 0!==e.opacity&&(t.transparent=1!==e.opacity),t}var a=(t=t||{}).callback,s=t.defaultcolors;s||(s=$3Dmol.elementColors.defaultColors);var l,c=t.nomouse,u=0;t.backgroundColor=t.backgroundColor||"#ffffff",u=$3Dmol.CC.color(t.backgroundColor).getHex(),l=parseFloat(t.camerax);var h=this,f=e,p=null,d=[],m={},g=[],v=[],y=[],b=[],_=[],x=null,w=500;w=t.hoverDuration;var A=f.width(),D=f.height(),C=[],S=new $3Dmol.Renderer({antialias:!0,preserveDrawingBuffer:!0,premultipliedAlpha:!1,id:t.id,row:t.row,col:t.col,rows:t.rows,cols:t.cols,canvas:t.canvas});S.domElement.style.width="100%",S.domElement.style.height="100%",S.domElement.style.padding="0",S.domElement.style.position="absolute",S.domElement.style.top="0px",S.domElement.style.left="0px",S.domElement.style.zIndex="0";var T=t.row,M=t.col,R=t.cols,L=t.rows,E=t.viewers,I=t.control_all,O=S.getAspect(A,D),P=new $3Dmol.Camera(20,O,1,800,t.orthographic);P.position=new $3Dmol.Vector3(l,0,150);var j=new $3Dmol.Vector3;P.lookAt(j);var z=new $3Dmol.Raycaster(new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(0,0,0)),F=new $3Dmol.Projector;new $3Dmol.Vector3(0,0,0);var k=null,N=null,G=null,B=-50,U=50,W=new $3Dmol.Quaternion(0,0,0,1),V=new $3Dmol.Quaternion(0,0,0,1),H=0,q=!1,Y=0,X=0,K=0,Z=0,J=0,Q=0,ee=0,te=function(){0>--H&&(H=0)},re=function(){var e,t=0;for(e in m)if(m.hasOwnProperty(e)){var r=parseInt(e);isNaN(r)||(e=r),e>t&&(t=e)}return t+1},ne=function(){var e=P.position.z-N.position.z;1>e&&(e=1),P.near=e+B,1>P.near&&(P.near=1),P.far=e+U,P.near+1>P.far&&(P.far=P.near+1),P.fov=20,P.right=e*Math.tan(Math.PI/180*20),P.left=-P.right,P.top=P.right/O,P.bottom=-P.top,P.updateProjectionMatrix(),k.fog.near=P.near+.4*(P.far-P.near),k.fog.far=P.far,t.disableFog&&(k.fog.near=k.fog.far)},oe=function(e){if(S.setViewport(),k&&(ne(),S.render(k,P),!e&&0<C.length)){e=h.getView();for(var t=0;t<C.length;t++)C[t].setView(e,!0)}};!function(){(k=new $3Dmol.Scene).fog=new $3Dmol.Fog(u,100,200),G=new $3Dmol.Object3D,(N=new $3Dmol.Object3D).useQuaternion=!0,N.quaternion=new $3Dmol.Quaternion(0,0,0,1),N.add(G),k.add(N);var e=new $3Dmol.Light(16777215);e.position=new $3Dmol.Vector3(.2,.2,1).normalize(),e.intensity=1,k.add(e)}(),S.setClearColorHex(u,1),k.fog.color=$3Dmol.CC.color(u);var ie=function(e,t){x!=e&&(x&&x.unhover_callback(x,h,t,f),(x=e)&&void 0!==e.hover_callback&&"function"==typeof e.hover_callback&&e.hover_callback(e,h,t,f))},ae=function(e){var t=e.originalEvent.targetTouches[0].pageX-e.originalEvent.targetTouches[1].pageX;return e=e.originalEvent.targetTouches[0].pageY-e.originalEvent.targetTouches[1].pageY,Math.sqrt(t*t+e*e)},se=function(e){var t=e.pageX,r=e.pageY;return null==t&&(t=e.originalEvent.pageX),null==r&&(r=e.originalEvent.pageY),e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]?(t=e.originalEvent.targetTouches[0].pageX,r=e.originalEvent.targetTouches[0].pageY):e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0]&&(t=e.originalEvent.changedTouches[0].pageX,r=e.originalEvent.changedTouches[0].pageY),[t,r]},le=function(e,t){var r=f.width(),n=f.height();if(null!=E&&!I){r/=R,n/=L;var o=$("canvas",f).offset();if(e=Math.floor((e-o.left)/r),L-Math.floor((t-o.top)/n)-1!=T||e!=M)return!1}return!0};$("body").bind("mouseup touchend",function(e){if(q&&k){var t=se(e),r=t[0];if(t=t[1],r==Y&&t==X){var n=$("canvas",f).offset();0!=b.length&&(z.setFromCamera({x:(r-n.left)/A*2-1,y:-(t-n.top)/D*2+1,z:-1},P),(r=z.intersectObjects(G,b)).length&&void 0!==(r=r[0].clickable).callback&&"function"==typeof r.callback&&r.callback(r,h,e,f))}}q=!1});var ce=function(e){if(t.lowerZoomLimit&&0<t.lowerZoomLimit){var r=150-t.lowerZoomLimit;e>r&&(e=r)}return t.upperZoomLimit&&0<t.upperZoomLimit&&e<(r=150-t.upperZoomLimit)&&(e=r),150<e&&(e=149.85),e};this.setZoomLimits=function(e,r){void 0!==e&&(t.lowerZoomLimit=e),r&&(t.upperZoomLimit=r),N.position.z=ce(N.position.z),oe()};var ue,he=this._handleMouseDown=function(e){if(e.preventDefault(),k){var t=se(e),r=t[0];t=t[1],void 0!==r&&(q=!0,ue=e.which,Y=r,X=t,K=0,e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length&&(K=ae(e)),W=N.quaternion,J=N.position.z,Z=G.position.clone(),Q=B,ee=U)}},fe=this._handleMouseScroll=function(e){if(e.preventDefault(),k){var t=se(e),r=t[0];void 0!==r&&le(r,t[1])&&(t=.85*(150-N.position.z),r=1,e.originalEvent.ctrlKey&&(r=-1),e.originalEvent.detail?N.position.z+=r*t*e.originalEvent.detail/10:e.originalEvent.wheelDelta&&(N.position.z-=r*t*e.originalEvent.wheelDelta/400),N.position.z=ce(N.position.z),oe())}};this.pngURI=function(){return this.getCanvas().toDataURL("image/png")},this.getCanvas=function(){return p.get(0)},this.setHoverDuration=function(e){w=e};var pe,de=this._handleMouseMove=function(e){A=f.width(),D=f.height(),clearTimeout(pe);var t=$("canvas",f).offset(),r=(se(e)[0]-t.left)/A*2-1,n=-(se(e)[1]-t.top)/D*2+1;if(null!==x&&function(e,t,r){z.setFromCamera({x:e,y:t,z:-1},P),0!=(e=z.intersectObjects(G,_)).length&&void 0!==e[0]||ie(null),void 0!==e[0]&&e[0].clickable!==x&&ie(null)}(r,n),pe=setTimeout(function(){if(0!=_.length){z.setFromCamera({x:r,y:n,z:-1},P);var e=z.intersectObjects(G,_);e.length?(e=e[0].clickable,ie(e),x=e):ie(null)}},w),e.preventDefault(),k&&q){t=0;var o=se(e),i=o[0],a=o[1];if(void 0!==i&&le(i,a)){o=(i-Y)/A;var s=(a-X)/D;0!=K&&e.originalEvent.targetTouches&&2==e.originalEvent.targetTouches.length?(t=2,s=2*((s=ae(e))-K)/(A+D),console.log("pinch "+K+" dy "+s)):e.originalEvent.targetTouches&&3==e.originalEvent.targetTouches.length&&(t=1);var l=S.getXYRatio(),c=l[0],u=l[1];o*=c,s*=u,l=Math.sqrt(o*o+s*s),3==t||3==ue&&e.ctrlKey?(B=Q+100*o,U=ee-100*s):2==t||3==ue||e.shiftKey?(80>(e=.85*(150-N.position.z))&&(e=80),N.position.z=J+s*e,N.position.z=ce(N.position.z)):1==t||2==ue||e.ctrlKey?(e=function(e,t){e/=A,t/=D;var r=N.quaternion,n=new $3Dmol.Vector3(0,0,N.position.z);return F.projectVector(n,P),n.x+=2*e,n.y-=2*t,F.unprojectVector(n,P),n.z=0,n.applyQuaternion(r),n}(c*(i-Y),u*(a-X)),G.position.addVectors(Z,e)):0!==t&&1!=ue||0===l||(e=Math.sin(l*Math.PI)/l,V.x=Math.cos(l*Math.PI),V.y=0,V.z=e*o,V.w=-e*s,N.quaternion=new $3Dmol.Quaternion(1,0,0,0),N.quaternion.multiply(V),N.quaternion.multiply(W)),oe()}}},me=function(e){A=(f=e).width(),D=f.height(),O=S.getAspect(A,D),S.setSize(A,D),f.append(S.domElement),p=$(S.domElement),c||(p.bind("mousedown touchstart",he),p.bind("DOMMouseScroll mousewheel",fe),p.bind("mousemove touchmove",de),p.bind("contextmenu",function(e){e.preventDefault()}))};me(f),this.setContainer=function(e){return"string"===$.type(e)&&(e=$("#"+e)),e||(e=f),me(e),this},this.setBackgroundColor=function(e,t){return void 0===t?t=1:(0>t||1<t)&&(t=1),e=$3Dmol.CC.color(e),k.fog.color=e,u=e.getHex(),S.setClearColorHex(e.getHex(),t),oe(),this},this.setProjection=function(e){P.ortho="orthographic"===e,ne()},this.setViewStyle=function(e){if("outline"===e.style){var t={};e.color&&(t.color=$3Dmol.CC.color(e.color)),e.width&&(t.width=e.width),S.enableOutline(t)}else S.disableOutline();return this},t.style&&this.setViewStyle(t),this.setWidth=function(e){return A=e||A,S.setSize(A,D),this},this.setHeight=function(e){return D=e||D,S.setSize(A,D),this},this.resize=function(){return A=f.width(),D=f.height(),O=S.getAspect(A,D),S.setSize(A,D),P.aspect=O,P.updateProjectionMatrix(),oe(),this},$(window).resize(this.resize),this.getModel=function(e){return e in d?d[e]:0==d.length?null:d[d.length-1]},this.rotate=function(e,t,r,n){r=void 0!==r?r:0,void 0===t&&(t="y"),"x"==t&&(t={x:1,y:0,z:0}),"y"==t&&(t={x:0,y:1,z:0}),"z"==t&&(t={x:0,y:0,z:1});var o=Math.PI*e/180;return e=Math.sin(o/2),o=Math.cos(o/2),t=new $3Dmol.Quaternion(t.x*e,t.y*e,t.z*e,o).normalize(),r?(t=(new $3Dmol.Quaternion).copy(N.quaternion).multiply(t),ye(r,n,G.position,N.position.z,t,j)):(N.quaternion.multiply(t),oe()),this},this.surfacesFinished=function(){for(var e in m)if(!m[e][0].done)return!1;return!0},this.getView=function(){if(!G)return[0,0,0,0,0,0,0,1];var e=G.position,t=N.quaternion;return[e.x,e.y,e.z,N.position.z,t.x,t.y,t.z,t.w]},this.setView=function(e,t){return void 0!==e&&(e instanceof Array||8!==e.length)&&G&&N?(G.position.x=e[0],G.position.y=e[1],G.position.z=e[2],N.position.z=e[3],N.quaternion.x=e[4],N.quaternion.y=e[5],N.quaternion.z=e[6],N.quaternion.w=e[7],void 0!==e[8]&&(N.position.x=e[8],N.position.y=e[9]),oe(t),this):this},this.render=function(e){var t;S.setViewport(),b.splice(0,b.length),_.splice(0,_.length);var r=0;for(t=d.length;r<t;r++){var n=d[r];if(n){var o=n.selectedAtoms({clickable:!0});n=n.selectedAtoms({hoverable:!0}),Array.prototype.push.apply(_,n),Array.prototype.push.apply(b,o)}}for(r=0,t=g.length;r<t;r++)(o=g[r])&&o.clickable&&b.push(o),o&&o.hoverable&&_.push(o);for(r=this.getView(),o=S.supportedExtensions(),t=0;t<d.length;t++)d[t]&&d[t].globj(G,o);for(t=0;t<g.length;t++)g[t]&&g[t].globj(G,o);for(t in m)if(m.hasOwnProperty(t))for(n=m[t],o=0;o<n.length;o++)if(n.hasOwnProperty(o)){var i=n[o].geo;if(!n[o].finished)if(i.verticesNeedUpdate=!0,i.elementsNeedUpdate=!0,i.normalsNeedUpdate=!0,i.colorsNeedUpdate=!0,i.buffersNeedUpdate=!0,i.boundingSphere=null,n[o].done&&(n[o].finished=!0),n[o].lastGL&&G.remove(n[o].lastGL),(i=n[o].mat instanceof $3Dmol.LineBasicMaterial?new $3Dmol.Line(i,n[o].mat):new $3Dmol.Mesh(i,n[o].mat)).visible=!n[o].mat.transparent||0!=n[o].mat.opacity,1<n[o].symmetries.length||1==n[o].symmetries.length&&!n[o].symmetries[o].isIdentity()){var a,s=new $3Dmol.Object3D;for(a=0;a<n[o].symmetries.length;a++){var l=i.clone();l.matrix=n[o].symmetries[a],l.matrixAutoUpdate=!1,s.add(l)}n[o].lastGL=s,G.add(s)}else n[o].lastGL=i,G.add(i)}return this.setView(r),"function"==typeof e&&e(this),this},this.selectedAtoms=function(e){return n(e)},this.getUniqueValues=function(e,t){void 0===t&&(t={}),t=n(t);var r,o={};for(r in t)t[r].hasOwnProperty(e)&&(o[t[r][e]]=!0);return Object.keys(o)},this.pdbData=function(e){for(var t="",r=0,o=(e=n(e)).length;r<o;++r)t+=e[r].pdbline+"\n";return t};var ge,ve=function(e,t,r){if(1==r)return t;if(0==r)return e;var n=e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w;return.9995<n?((e=new $3Dmol.Quaternion(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y),e.z+r*(t.z-e.z),e.w+r*(t.w-e.w))).normalize(),e):(0>n&&(t=t.clone().multiplyScalar(-1),n=-n),1<n?n=1:-1>n&&(n=-1),r*=Math.acos(n),(t=t.clone()).sub(e.clone().multiplyScalar(n)),t.normalize(),n=Math.cos(r),r=Math.sin(r),(e=new $3Dmol.Quaternion(e.x*n+t.x*r,e.y*n+t.y*r,e.z*n+t.z*r,e.w*n+t.w*r)).normalize(),e)};this.spin=function(e){if(clearInterval(ge),void 0===e&&(e="y"),"boolean"==typeof e){if(!e)return;e="y"}Array.isArray(e)&&(e={x:e[0],y:e[1],z:e[2]});var t=this;ge=setInterval(function(){t.rotate(1,e)},25)};var ye=function(e,t,r,n,o,i){var a=Math.ceil(e/20);1>a&&(a=1),H++,e=G.position.clone();var s=N.position.z,l=N.quaternion.clone(),c=j.clone();if(t){for(var u=(a=Array(a)).length,h=0;h<u;h++){var f=(h+1)/u;t={mpos:e,rz:s,rot:l},r&&(t.mpos=r.clone().sub(e).multiplyScalar(f).add(e)),void 0!==n&&null!=n&&(t.rz=s+f*(n-s)),o&&(t.rot=ve(l,o,f)),i&&(t.cam=i.clone().sub(c).multiplyScalar(f).add(c)),a[h]=t}var p=0,d=function(){var e=a[p];p+=1,e.mpos&&(G.position=e.mpos),e.rz&&(N.position.z=e.rz),e.rot&&(N.quaternion=e.rot),e.cam&&P.lookAt(e.cam),p<a.length?setTimeout(d,20):te(),oe()}}else{var m,g,v;if(f=1/a,r&&(m=r.clone().sub(e).multiplyScalar(f)),void 0!==n&&null!=n&&(g=f*(n-s)),o){t=ve(l,o,f);var y=l.clone().inverse().multiply(t)}i&&(v=i.clone().sub(c).multiplyScalar(f)),p=0,d=function(){p+=1,m&&G.position.add(m),g&&(N.position.z+=g),y&&N.quaternion.multiply(y),v&&(j.add(v),P.lookAt(j)),p<a?setTimeout(d,20):te(),oe()}}setTimeout(d,20)};this.zoom=function(e,t,r){return t=void 0!==t?t:0,e=150-(150-N.position.z)/(e||2),0<t?ye(t,r,G.position,ce(e),N.quaternion,j):(N.position.z=ce(e),oe()),this},this.translate=function(e,t,r,n){r=void 0!==r?r:0,e/=A,t/=D;var o=new $3Dmol.Vector3(0,0,-150);return F.projectVector(o,P),o.x-=e,o.y-=t,F.unprojectVector(o,P),o.z=0,e=j.clone().add(o),0<r?ye(r,n,G.position,N.position.z,N.quaternion,e):(j=e,P.lookAt(j),oe()),this},this.fitSlab=function(e){e=n(e=e||{});var t=$3Dmol.getExtent(e);e=t[1][0]-t[0][0];var r=t[1][1]-t[0][1];return t=t[1][2]-t[0][2],5>(e=Math.sqrt(e*e+r*r+t*t))&&(e=5),B=-e/1.9,U=e/2,this},this.center=function(e,t,r){t=void 0!==t?t:0;var o=n(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(g,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o),e=o;var a=i}else e=n({}),a=$3Dmol.getExtent(e);e=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var s=a[1][0]-a[0][0],l=a[1][1]-a[0][1];for(a=a[1][2]-a[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),B=-s/1.9,U=s/2,s=i[1][0]-i[0][0],l=i[1][1]-i[0][1],a=i[1][2]-i[0][2],5>(s=Math.sqrt(s*s+l*l+a*a))&&(s=5),i=25,s=0;s<o.length;s++)o[s]&&(l=e.distanceToSquared(o[s]))>i&&(i=l);return s=2*Math.sqrt(i),e=e.clone().multiplyScalar(-1),0<t?ye(t,r,e,N.position.z,N.quaternion,j):(G.position=e,oe()),this},this.zoomTo=function(e,t,r){t=void 0!==t?t:0;var o=n(e=e||{}),i=$3Dmol.getExtent(o);if($.isEmptyObject(e)){$.each(g,function(e,t){t&&t.boundingSphere&&t.boundingSphere.center&&(e=t.boundingSphere.center,0<(t=t.boundingSphere.radius)?(o.push(new $3Dmol.Vector3(e.x+t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x-t,e.y,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y+t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y-t,e.z)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z+t)),o.push(new $3Dmol.Vector3(e.x,e.y,e.z-t))):o.push(e))}),i=$3Dmol.getExtent(o);var a=o,s=i}else a=n({}),s=$3Dmol.getExtent(a);a=new $3Dmol.Vector3(i[2][0],i[2][1],i[2][2]);var l=s[1][0]-s[0][0],c=s[1][1]-s[0][1];for(s=s[1][2]-s[0][2],5>(l=Math.sqrt(l*l+c*c+s*s))&&(l=5),B=-l/1.9,U=l/2,0===Object.keys(e).length&&(B=-999999,U=999999),l=i[1][0]-i[0][0],c=i[1][1]-i[0][1],s=i[1][2]-i[0][2],5>(l=Math.sqrt(l*l+c*c+s*s))&&(l=5),e=25,i=0;i<o.length;i++)o[i]&&(l=a.distanceToSquared(o[i]))>e&&(e=l);return l=2*Math.sqrt(e),a=a.clone().multiplyScalar(-1),e=-(.5*l/Math.tan(Math.PI/180*P.fov/2)-150),e=ce(e),0<t?ye(t,r,a,e,N.quaternion,j):(G.position=a,N.position.z=e,oe()),this},this.setSlab=function(e,t){B=e,U=t},this.getSlab=function(e){return{near:B,far:U}},this.addLabel=function(e,t,r){return t=t||{},r&&(r=$3Dmol.getExtent(n(r)),t.position={x:r[2][0],y:r[2][1],z:r[2][2]}),(e=new $3Dmol.Label(e,t)).setContext(),G.add(e.sprite),t.fixed&&y.push(v.length),v.push(e),oe(),e},this.addResLabels=function(e,t){return o("addResLabels",e,this,t),oe(),this},this.addPropertyLabels=function(e,t,r){return o("addPropertyLabels",e,t,this,r),oe(),this},this.removeLabel=function(e){for(var t=0;t<v.length;t++)if(v[t]==e){v.splice(t,1),e.dispose(),G.remove(e.sprite);break}return oe(),this},this.removeAllLabels=function(){for(var e=0;e<v.length;e++)G.remove(v[e].sprite);return v.splice(0,v.length),oe(),this},this.setLabelStyle=function(e,t){return G.remove(e.sprite),e.dispose(),e.stylespec=t,e.setContext(),G.add(e.sprite),oe(),e},this.setLabelText=function(e,t){return G.remove(e.sprite),e.dispose(),e.text=t,e.setContext(),G.add(e.sprite),oe(),e},this.addShape=function(e){return e=e||{},(e=new $3Dmol.GLShape(e)).shapePosition=g.length,g.push(e),e},this.removeShape=function(e){if(!e)return this;for(e.removegl(G),delete g[e.shapePosition];0<g.length&&void 0===g[g.length-1];)g.pop();return this},this.removeAllShapes=function(){for(var e=0;e<g.length;e++)g[e].removegl(G);return g.splice(0,g.length),this};var be=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("z")?e:0==(e=n(e)).length?{x:0,y:0,z:0}:{x:(e=$3Dmol.getExtent(e))[0][0]+(e[1][0]-e[0][0])/2,y:e[0][1]+(e[1][1]-e[0][1])/2,z:e[0][2]+(e[1][2]-e[0][2])/2}};this.addSphere=function(e){(e=e||{}).center=be(e.center);var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,t.addSphere(e),g.push(t),t.finalize(),t},this.addBox=function(e){null!=(e=e||{}).corner&&(e.corner=be(e.corner)),null!=e.center&&(e.center=be(e.center));var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,t.addBox(e),g.push(t),t.finalize(),t},this.addArrow=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,t.addArrow(e),g.push(t),t.finalize(),t},this.addCylinder=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end);var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,e.dashed?t.addDashedCylinder(e):t.addCylinder(e),g.push(t),t.finalize(),t},this.addCurve=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,t.addCurve(e),g.push(t),t.finalize(),t},this.addLine=function(e){(e=e||{}).start=be(e.start),e.end=be(e.end),e.wireframe=!0;var t=new $3Dmol.GLShape(e);if(t.shapePosition=g.length,e.dashed){e.dashLength=e.dashLength||.5,e.gapLength=e.gapLength||.5,e.start=e.start||{},e.end=e.end||{};var r=new $3Dmol.Vector3(e.start.x||0,e.start.y||0,e.start.z||0),n=new $3Dmol.Vector3(e.end.x,e.end.y||0,e.end.z||0),o=new $3Dmol.Vector3;new $3Dmol.Vector3,new $3Dmol.Vector3;var i,a=r.clone(),s=0;o.subVectors(n,r);var l=o.length();o.normalize();var c=o.clone();o=o.clone(),c.multiplyScalar(e.dashLength),o.multiplyScalar(e.gapLength);var u=c.length();for(i=o.length();s<l;){if(s+u>l){e.start=r,e.end=n,t.addLine(e);break}a.addVectors(r,c),e.start=r,e.end=a,t.addLine(e),r=a.clone(),s+=u,a.addVectors(r,o),r=a.clone(),s+=i}t.finalize()}else t.addLine(e);return g.push(t),t.finalize(),t},this.addUnitCell=function(e){e||(e=this.getModel());var t=new $3Dmol.GLShape({wireframe:!0});t.shapePosition=g.length;var r=e.getCrystData();if(r){if(r.matrix)e=r.matrix;else{e=r.a;var n=r.b,o=r.c,i=r.alpha,a=r.beta;r=r.gamma,i=i*Math.PI/180,a=a*Math.PI/180,r=r*Math.PI/180;var s=Math.cos(a);i=(Math.cos(i)-Math.cos(a)*Math.cos(r))/Math.sin(r),e=new $3Dmol.Matrix4(e,n*Math.cos(r),o*s,0,0,n*Math.sin(r),o*i,0,0,0,o*Math.sqrt(Math.max(0,1-s*s-i*i)),0,0,0,0,1)}for(n=[new $3Dmol.Vector3(0,0,0),new $3Dmol.Vector3(1,0,0),new $3Dmol.Vector3(0,1,0),new $3Dmol.Vector3(0,0,1),new $3Dmol.Vector3(1,1,0),new $3Dmol.Vector3(0,1,1),new $3Dmol.Vector3(1,0,1),new $3Dmol.Vector3(1,1,1)],o=0;o<n.length;o++)n[o]=n[o].applyMatrix4(e);t.addLine({start:n[0],end:n[1]}),t.addLine({start:n[0],end:n[2]}),t.addLine({start:n[1],end:n[4]}),t.addLine({start:n[2],end:n[4]}),t.addLine({start:n[0],end:n[3]}),t.addLine({start:n[3],end:n[5]}),t.addLine({start:n[2],end:n[5]}),t.addLine({start:n[1],end:n[6]}),t.addLine({start:n[4],end:n[7]}),t.addLine({start:n[6],end:n[7]}),t.addLine({start:n[3],end:n[6]}),t.addLine({start:n[5],end:n[7]})}return g.push(t),t.finalize(),t},this.addCustom=function(e){e=e||{};var t=new $3Dmol.GLShape(e);return t.shapePosition=g.length,t.addCustom(e),g.push(t),t.finalize(),t},this.addVolumetricData=function(e,t,r){r=r||{};var n=new $3Dmol.GLShape(r);return n.shapePosition=g.length,n.addVolumetricData(e,t,r),g.push(n),n},this.addIsosurface=function(e,t,r){t=t||{};var n=new $3Dmol.GLShape(t);return n.shapePosition=g.length,n.addIsosurface(e,t,r),g.push(n),n},this.enableFog=function(e){e?k.fog=new $3Dmol.Fog(u,100,200):(t.disableFog=!0,oe())},this.setFrame=function(e){return new Promise(function(t,r){r=d.map(function(t){return t.setFrame(e)}),Promise.all(r).then(function(){t()})})},this.getNumFrames=function(){for(var e=0,t=0;t<d.length;t++)d[t].getNumFrames()>e&&(e=d[t].getNumFrames());return e},this.animate=function(e){H++;var t=100,r="forward",n=0;(e=e||{}).interval&&(t=e.interval),e.loop&&(r=e.loop),e.reps&&(n=e.reps);var o=this.getNumFrames(),i=this,a=0,s=1;e.step&&(n/=s=e.step);var l=0,c=o*n,u=new Date,h=function(){if(i.render(),++l!=c&&i.isAnimated()){var e=t-(new Date-u);setTimeout(f,0<e?e:0,r)}else clearTimeout(p),te()},f=function(e){u=new Date,"forward"==e?i.setFrame(a).then(function(){a=(a+s)%o,h()}):"backward"==e?i.setFrame(o-1-a).then(function(){a=(a+s)%o,h()}):i.setFrame(a).then(function(){s*=0==(a+=s)%(o-1)?-1:1,h()})},p=setTimeout(f,0,r);return this},this.stopAnimate=function(){return H=0,this},this.isAnimated=function(){return 0<H},this.addModel=function(e,t,r){r&&!r.defaultcolors&&(r.defaultcolors=s);var n=new $3Dmol.GLModel(d.length,r);return n.addMolData(e,t,r),d.push(n),n},this.addModels=function(e,t,r){for((r=r||{}).multimodel=!0,r.frames=!0,e=$3Dmol.GLModel.parseMolData(e,t,r),t=0;t<e.length;t++){var n=new $3Dmol.GLModel(d.length,s);n.setAtomDefaults(e[t]),n.addFrame(e[t]),n.setFrame(0),e.modelData&&n.setModelData(e.modelData[t]),n.setDontDuplicateAtoms(!r.duplicateAssemblyAtoms),d.push(n)}return d},this.addModelsAsFrames=function(e,t,r){(r=r||{}).multimodel=!0,r.frames=!0;var n=new $3Dmol.GLModel(d.length,s);return n.addMolData(e,t,r),d.push(n),n},this.addAsOneMolecule=function(e,t,r){(r=r||{}).multimodel=!0,r.onemol=!0;var n=new $3Dmol.GLModel(d.length,s);return n.addMolData(e,t,r),d.push(n),n},this.removeModel=function(e){if(e){for(e.removegl(G),delete d[e.getID()];0<d.length&&void 0===d[d.length-1];)d.pop();return this}},this.removeAllModels=function(){for(var e=0;e<d.length;e++)d[e].removegl(G);return d.splice(0,d.length),this},this.exportJSON=function(e,t){var r={};return r.m=void 0===t?d.map(function(t){return t.toCDObject(e)}):[model[t].toCDObject()],JSON.stringify(r)},this.createModelFrom=function(e,t){for(var r=new $3Dmol.GLModel(d.length,s),n=0;n<d.length;n++)if(d[n]){var o=d[n].selectedAtoms(e);r.addAtoms(o),t&&d[n].removeAtoms(o)}return d.push(r),r},this.setStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!1),this},this.addStyle=function(e,t){return void 0===t&&(t=e,e={}),o("setStyle",e,t,!0),this},this.setClickable=function(e,t,r){return o("setClickable",e,t,r),this},this.setHoverable=function(e,t,r,n){return o("setHoverable",e,t,r,n),this},this.vibrate=function(e,t){return o("vibrate",e,t),this},this.setColorByProperty=function(e,t,r,n){return o("setColorByProperty",e,t,r,n),this},this.setColorByElement=function(e,t){return o("setColorByElement",e,t),this};var _e=function(e,t){for(var r=[],n=0;n<e.length;n++){var o=e[n];void 0!==o&&(o.x<t[0][0]||o.x>t[1][0]||o.y<t[0][1]||o.y>t[1][1]||o.z<t[0][2]||o.z>t[1][2]||r.push(o))}return r},xe=function(e){return(e[1][0]-e[0][0])*(e[1][1]-e[0][1])*(e[1][2]-e[0][2])},we=function(e,t,r){var n=new $3Dmol.Geometry(!0),o=n.updateGeoGroup(0),i=[],a=0;for(l=e.length;a<l;a++){var s=e[a];s&&(void 0!==s.surfaceColor?i[a]=s.surfaceColor:s.color&&(i[a]=$3Dmol.CC.color(s.color)))}var l,c=o.vertexArray;for(a=0,l=(s=t.vertices).length;a<l;a++)c[e=3*o.vertices]=s[a].x,c[e+1]=s[a].y,c[e+2]=s[a].z,o.vertices++;if(c=o.colorArray,r.voldata&&r.volscheme){i=r.volscheme;var u=r.voldata,h=i.range()||[-1,1];for(a=0,l=s.length;a<l;a++){e=u.getVal(s[a].x,s[a].y,s[a].z);var f=$3Dmol.CC.color(i.valueToHex(e,h));c[e=3*a]=f.r,c[e+1]=f.g,c[e+2]=f.b}}else if(0<i.length)for(a=0,l=s.length;a<l;a++)u=s[a].atomid,c[e=3*a]=i[u].r,c[e+1]=i[u].g,c[e+2]=i[u].b;for(t=t.faces,o.faceidx=t.length,n.initTypedArrays(),s=o.vertexArray,c=o.normalArray,a=0,l=t.length;a<l;a+=3){i=t[a+1],u=t[a+2],e=3*t[a],i*=3,u*=3,h=new $3Dmol.Vector3(s[e],s[e+1],s[e+2]),f=new $3Dmol.Vector3(s[i],s[i+1],s[i+2]);var p=new $3Dmol.Vector3(s[u],s[u+1],s[u+2]);p.subVectors(p,f),h.subVectors(h,f),p.cross(h),(h=p).normalize(),c[e]+=h.x,c[i]+=h.x,c[u]+=h.x,c[e+1]+=h.y,c[i+1]+=h.y,c[u+1]+=h.y,c[e+2]+=h.z,c[i+2]+=h.z,c[u+2]+=h.z}return o.faceArray=new Uint16Array(t),(r=new $3Dmol.Mesh(n,r)).doubleSided=!0,r};this.addMesh=function(e){e={geo:e.geometry,mat:e.material,done:!0,finished:!1};var t=re();return m[t]=e,t};var Ae=function(e){var t=[];return $.each(e,function(e,r){t[e]=$.extend({},r)}),t},$e={VDW:$3Dmol.SurfaceType.VDW,MS:$3Dmol.SurfaceType.MS,SAS:$3Dmol.SurfaceType.SAS,SES:$3Dmol.SurfaceType.SES};this.addSurface=function(e,t,r,o,a,s){var l=re();"string"==typeof e?void 0!==$e[e]?e=$e[e]:console.log("Surface type : "+e+" is not recognized"):void 0===e&&(e=$3Dmol.SurfaceType.VDW);var c=null,u=null;r=Ae(n(r)),c=o?Ae(n(o)):r;var f=!1;for(o=0;o<d.length;o++)if(d[o]){var p=d[o].getSymmetries();if(1<p.length||1==p.length&&!p[0].isIdentity()){f=!0;break}}p=function(r,o,i){u=a?Ae(n(a)):i;var s=$3Dmol.getExtent(i,!0);if(t.map&&t.map.prop){var c=t.map.prop,f=t.map.scheme||t.map.gradient||new $3Dmol.Gradient.RWB,p=f.range();p||(p=$3Dmol.getPropertyRange(i,c)),t.colorscheme={prop:c,gradient:f}}var d=0;for(c=o.length;d<c;d++)(f=o[d]).surfaceColor=$3Dmol.getColorFromStyle(f,t);var m=xe(s),v=function(e,t,r){for(var n=[],o={},i=0,a=t.length;i<a;i++)o[t[i].index]=i;var s=function(e){for(var t=[],r=0,n=e.length;r<n;r++)e[r].index in o&&t.push(o[e[r].index]);return t},l=function(e){var t=[];return t[0]=[e[0][0],e[0][1],e[0][2]],t[1]=[e[1][0],e[1][1],e[1][2]],t};for(i=0,a=(e=function e(t){if(64e3>xe(t))return[t];var r=t[1][0]-t[0][0],n=t[1][1]-t[0][1],o=t[1][2]-t[0][2];return n=r>n&&r>o?0:n>r&&n>o?1:2,o=l(t),r=l(t),t=(t[1][n]-t[0][n])/2+t[0][n],o[1][n]=t,r[0][n]=t,t=e(o),r=e(r),t.concat(r)}(e)).length;i<a;i++){var c=l(e[i]);c[0][0]-=6,c[0][1]-=6,c[0][2]-=6,c[1][0]+=6,c[1][1]+=6,c[1][2]+=6,c=_e(t,c);var u=_e(r,e[i]);n.push({extent:e[i],atoms:s(c),toshow:s(u)})}return n}(s,o,i);if(u&&u.length&&0<u.length){var y=$3Dmol.getExtent(u,!0);v.sort(function(e,t){var r=function(e,t){var r=e.extent;e=r[1][0]-r[0][0]-t[2][0];var n=r[1][1]-r[0][1]-t[2][1];return e*e+n*n+(t=r[1][2]-r[0][2]-t[2][2])*t};return(e=r(e,y))-r(t,y)})}var b=[];for(d=0,c=o.length;d<c;d++)f=o[d],b[d]={x:f.x,y:f.y,z:f.z,serial:d,elem:f.elem};if($3Dmol.syncSurface){for(i=function(t){return new Promise(function(n,i){i=e;var a=v[t].extent,s=v[t].atoms,l=v[t].toshow,c=new $3Dmol.ProteinSurface;for(c.initparm(a,1!==i,m),c.fillvoxels(b,s),c.buildboundary(),i!=$3Dmol.SurfaceType.SES&&i!=$3Dmol.SurfaceType.MS||(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(b,s)),c.marchingcube(i),l=c.getFacesAndVertices(l),a=0,s=(i=$3Dmol.splitMesh({vertexArr:l.vertices,faceArr:l.faces})).length;a<s;a++)l={vertices:i[a].vertexArr,faces:i[a].faceArr},l=we(o,l,g),$3Dmol.mergeGeos(r.geo,l);h.render(),n()})},s=[],d=0;d<v.length;d++)s.push(i(d));return Promise.all(s).then(function(){return r.done=!0,Promise.resolve(l)})}var _=[];for(0>e&&(e=0),d=0,c=4;d<c;d++)i=new Worker($3Dmol.SurfaceWorker),_.push(i),i.postMessage({type:-1,atoms:b,volume:m});return new Promise(function(t,n){var i=0,a=function(e){for(var n=0,a=(e=$3Dmol.splitMesh({vertexArr:e.data.vertices,faceArr:e.data.faces})).length;n<a;n++){var s=we(o,{vertices:e[n].vertexArr,faces:e[n].faceArr},g);$3Dmol.mergeGeos(r.geo,s)}h.render(),++i==v.length&&(r.done=!0,t(l))},s=function(e){console.log(e.message+" ("+e.filename+":"+e.lineno+")"),n(e)};for(d=0;d<v.length;d++){var c=_[d%_.length];c.onmessage=a,c.onerror=s,c.postMessage({type:e,expandedExtent:v[d].extent,extendedAtoms:v[d].atoms,atomsToShow:v[d].toshow})}})};var g=i(t=t||{}),v=[];if(o=null,f){f={};var y={};for(o=0;o<d.length;o++)f[o]=[],y[o]=[];for(o=0;o<c.length;o++)f[c[o].model].push(c[o]);for(o=0;o<r.length;o++)y[r[o].model].push(r[o]);for(c=[],o=0;o<d.length;o++)0<y[o].length&&(v.push({geo:new $3Dmol.Geometry(!0),mat:g,done:!1,finished:!1,symmetries:d[o].getSymmetries()}),c.append(p(v[o],f[o],y[o])));o=Promise.all(c)}else v.push({geo:new $3Dmol.Geometry(!0),mat:g,done:!1,finished:!1,symmetries:[new $3Dmol.Matrix4]}),o=p(v[v.length-1],c,r);return m[l]=v,o.surfid=l,s&&"function"==typeof s?(o.then(function(e){s(e)}),l):o},this.setSurfaceMaterialStyle=function(e,t){if(m[e]){e=m[e];for(var r=0;r<e.length;r++){var n=e[r].mat=i(t);if(e[r].mat.side=$3Dmol.FrontSide,t.color){e[r].mat.color=t.color,e[r].geo.colorsNeedUpdate=!0;var o=$3Dmol.CC.color(t.color);e[r].geo.setColors(function(){return o})}else if(n.voldata&&n.volscheme){var a=n.volscheme,s=n.voldata,l=a.range()||[-1,1];e[r].geo.setColors(function(e,t,r){return e=s.getVal(e,t,r),$3Dmol.CC.color(a.valueToHex(e,l))})}e[r].finished=!1}}return this},this.removeSurface=function(e){for(var t=m[e],r=0;r<t.length;r++)t[r]&&t[r].lastGL&&(void 0!==t[r].geo&&t[r].geo.dispose(),void 0!==t[r].mat&&t[r].mat.dispose(),G.remove(t[r].lastGL));return delete m[e],oe(),this},this.removeAllSurfaces=function(){for(var e in m)if(m.hasOwnProperty(e)){for(var t=m[e],r=0;r<t.length;r++)t[r]&&t[r].lastGL&&(void 0!==t[r].geo&&t[r].geo.dispose(),void 0!==t[r].mat&&t[r].mat.dispose(),G.remove(t[r].lastGL));delete m[e]}return oe(),this},this.jmolMoveTo=function(){var e=G.position;e="center { "+-e.x+" "+-e.y+" "+-e.z+" }; ";var t=N.quaternion;return e+"moveto .5 quaternion { "+t.x+" "+t.y+" "+t.z+" "+t.w+" };"},this.clear=function(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),oe(),this},this.mapAtomProperties=function(e,t){var o=n(t=t||{});if("function"==typeof e)for(var i=0,a=o.length;i<a;i++)e(t=o[i]);else for(i=0,a=o.length;i<a;i++){t=o[i];for(var s=0,l=e.length;s<l;s++){var c=e[s];if(c.props)for(var u in c.props)if(c.props.hasOwnProperty(u)){e:{var h=t,f=c;void 0===f&&(f={});for(var p=r(f),d=0;d<p.length;d++)if(p[d].atomIsSelected(h,f)){h=!0;break e}h=!1}h&&(t.properties||(t.properties={}),t.properties[u]=c.props[u])}}}return this},this.linkViewer=function(e){return C.push(e),this};try{"function"==typeof a&&a(this)}catch(e){console.log("error with glviewer callback: "+e)}this.getPerceivedDistance=function(){return 150-N.position.z},this.setPerceivedDistance=function(e){N.position.z=150-e},this.setAutoEyeSeparation=function(e){var t=this.getPerceivedDistance();return P.position.x=e||0<P.position.x?t*Math.tan(Math.PI/180*5):-t*Math.tan(Math.PI/180*5),P.lookAt(new $3Dmol.Vector3(0,0,N.position.z)),P.position.x}},$3Dmol.glmolViewer=$3Dmol.GLViewer,$3Dmol=$3Dmol||{},$3Dmol.Gradient=function(e,t){},$3Dmol.Gradient.valueToHex=function(e,t){},$3Dmol.Gradient.range=function(){},$3Dmol.Gradient.normalizeValue=function(e,t,r){return t>=e?(r<e&&(r=e),r>t&&(r=t),{lo:e,hi:t,val:r}):(r>e&&(r=e),r<t&&(r=t),{lo:t,hi:e,val:e-r+t})},$3Dmol.Gradient.RWB=function(e,t,r){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(n,o){if(n*=1,o)var i=o[0],a=o[1];else i=e,a=t;return void 0===n?16777215:(i=(n=$3Dmol.Gradient.normalizeValue(i,a,n)).lo,a=n.hi,(n=n.val)<=(o=o&&void 0!==o[2]?o[2]:void 0!==r?r:(i+a)/2)?16711680+256*(i=Math.floor(255*Math.sqrt((n-i)/(o-i))))+i:65536*(i=Math.floor(255*Math.sqrt(1-(n-o)/(a-o))))+256*i+255)},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.ROYGB=function(e,t){void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),this.valueToHex=function(r,n){if(r*=1,n){var o=n[0];n=n[1]}else o=e,n=t;if(void 0===r)return 16777215;var i=((o=(r=$3Dmol.Gradient.normalizeValue(o,n,r)).lo)+(n=r.hi))/2,a=(o+i)/2,s=(i+n)/2;return(r=r.val)<a?256*(o=Math.floor(255*Math.sqrt((r-o)/(a-o))))+16711680:r<i?65536*(o=Math.floor(255*Math.sqrt(1-(r-a)/(i-a))))+65280:r<s?65280+1*(o=Math.floor(255*Math.sqrt((r-i)/(s-i)))):256*(o=Math.floor(255*Math.sqrt(1-(r-s)/(n-s))))+255},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.Sinebow=function(e,t){var r=1;void 0===t&&$.isArray(e)&&2<=e.length&&(t=e[1],e=e[0]),t<e&&(r=-1,e*=-1,t*=-1),this.valueToHex=function(n,o){if(n*=r,o){var i=o[0];o=o[1]}else i=e,o=t;return void 0===n?16777215:(i=(n=$3Dmol.Gradient.normalizeValue(i,o,n)).lo,o=n.hi,o=((n=n.val)-i)/(o-i)*5/6+.5,i=Math.sin(Math.PI*o),n=Math.sin(Math.PI*(o+1/3)),o=Math.sin(Math.PI*(o+2/3)),65536*Math.floor(255*i*i)+256*Math.floor(255*o*o)+1*Math.floor(255*n*n))},this.range=function(){return void 0!==e&&void 0!==t?[e,t]:null}},$3Dmol.Gradient.builtinGradients={rwb:$3Dmol.Gradient.RWB,roygb:$3Dmol.Gradient.ROYGB,sinebow:$3Dmol.Gradient.Sinebow},$3Dmol.LabelCount=0,$3Dmol.Label=function(e,t){this.id=$3Dmol.LabelCount++,this.stylespec=t||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new $3Dmol.Sprite,this.text=e},$3Dmol.Label.prototype={constructor:$3Dmol.Label,getStyle:function(){return this.stylespec},setContext:function(){var e=function(e,t,r){return void 0!==e&&(r=e instanceof $3Dmol.Color?e.scaled():$3Dmol.CC.color(e).scaled()),void 0!==t&&(r.a=parseFloat(t)),r};return function(){var t=this.stylespec,r=void 0!==t.useScreen&&t.useScreen,n=t.showBackground;"0"!==n&&"false"!==n||(n=!1),void 0===n&&(n=!0);var o=t.font?t.font:"sans-serif",i=parseInt(t.fontSize)?parseInt(t.fontSize):18,a=e(t.fontColor,t.fontOpacity,{r:255,g:255,b:255,a:1}),s=t.padding?t.padding:4,l=t.borderThickness?t.borderThickness:0,c=e(t.backgroundColor,t.backgroundOpacity,{r:0,g:0,b:0,a:1}),u=e(t.borderColor,t.borderOpacity,c),h=t.position?t.position:{x:-10,y:1,z:1},f=void 0===t.inFront||t.inFront;"false"!==f&&"0"!==f||(f=!1);var p=t.alignment||$3Dmol.SpriteAlignment.topLeft;"string"==typeof p&&p in $3Dmol.SpriteAlignment&&(p=$3Dmol.SpriteAlignment[p]);var d="";t.bold&&(d="bold "),this.context.font=d+i+"px  "+o;var m=this.context.measureText(this.text).width;n||(l=0);var g=m+2.5*l+2*s,v=1.25*i+2*l+2*s;if(t.backgroundImage){var y=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:y.width;b>g&&(g=b),(d=t.backgroundHeight?t.backgroundHeight:y.height)>v&&(v=d)}this.canvas.width=g,this.canvas.height=v,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),d="",t.bold&&(d="bold "),this.context.font=d+i+"px  "+o,this.context.fillStyle="rgba("+c.r+","+c.g+","+c.b+","+c.a+")",this.context.strokeStyle="rgba("+u.r+","+u.g+","+u.b+","+u.a+")",this.context.lineWidth=l,n&&(c=o=l,g-=2*l,v-=2*l,u=0<l,(n=this.context).beginPath(),n.moveTo(o+6,c),n.lineTo(o+g-6,c),n.quadraticCurveTo(o+g,c,o+g,c+6),n.lineTo(o+g,c+v-6),n.quadraticCurveTo(o+g,c+v,o+g-6,c+v),n.lineTo(o+6,c+v),n.quadraticCurveTo(o,c+v,o,c+v-6),n.lineTo(o,c+6),n.quadraticCurveTo(o,c,o+6,c),n.closePath(),n.fill(),u&&n.stroke()),t.backgroundImage&&(y=t.backgroundImage,b=t.backgroundWidth?t.backgroundWidth:y.width,d=t.backgroundHeight?t.backgroundHeight:y.height,this.context.drawImage(y,0,0,b,d)),this.context.fillStyle="rgba("+a.r+","+a.g+","+a.b+","+a.a+")",this.context.fillText(this.text,l+s,i+l+s,m),(t=new $3Dmol.Texture(this.canvas)).needsUpdate=!0,this.sprite.material=new $3Dmol.SpriteMaterial({map:t,useScreenCoordinates:r,alignment:p,depthTest:!f}),this.sprite.scale.set(1,1,1),this.sprite.position.set(h.x,h.y,h.z)}}(),dispose:function(){void 0!==this.sprite.material.map&&this.sprite.material.map.dispose(),void 0!==this.sprite.material&&this.sprite.material.dispose()}},$3Dmol=$3Dmol||{},$3Dmol.MarchingCubeInitializer=function(){var e={march:function(e,i,a,s){var l,c=!!s.fulltable,u=s.hasOwnProperty("origin")&&s.origin.hasOwnProperty("x")?s.origin:{x:0,y:0,z:0},h=!!s.voxel,f=s.matrix,p=s.nX||0,d=s.nY||0,m=s.nZ||0,g=s.scale||1;l=s.unitCube?s.unitCube:{x:g,y:g,z:g};var v=new Int32Array(p*d*m);for(s=0,g=v.length;s<g;++s)v[s]=-1;g=function(e,t,r,n,o,a){var s={x:0,y:0,z:0},c=o;return!(n&1<<o)&&n&1<<a&&(c=a),1&c&&r++,2&c&&t++,4&c&&e++,f?s={x:(s=(s=new $3Dmol.Vector3(e,t,r)).applyMatrix4(f)).x,y:s.y,z:s.z}:(s.x=u.x+l.x*e,s.y=u.y+l.y*t,s.z=u.z+l.z*r),e=(d*e+t)*m+r,h?(i.push(s),i.length-1):(0>v[e]&&(v[e]=i.length,i.push(s)),v[e])};var y=new Int32Array(12),b=c?n:t;for(c=c?o:r,s=0;s<p-1;++s)for(var _=0;_<d-1;++_)for(var x=0;x<m-1;++x){for(var w=0,A=0;8>A;++A)w|=!!(2&e[(d*(s+((4&A)>>2))+_+((2&A)>>1))*m+x+(1&A)])<<A;if(0!==w&&255!==w){var $=b[w];if(0!==$)for(A=c[w],1&$&&(y[0]=g(s,_,x,w,0,1)),2&$&&(y[1]=g(s,_,x,w,1,3)),4&$&&(y[2]=g(s,_,x,w,3,2)),8&$&&(y[3]=g(s,_,x,w,2,0)),16&$&&(y[4]=g(s,_,x,w,4,5)),32&$&&(y[5]=g(s,_,x,w,5,7)),64&$&&(y[6]=g(s,_,x,w,7,6)),128&$&&(y[7]=g(s,_,x,w,6,4)),256&$&&(y[8]=g(s,_,x,w,0,4)),512&$&&(y[9]=g(s,_,x,w,1,5)),1024&$&&(y[10]=g(s,_,x,w,3,7)),2048&$&&(y[11]=g(s,_,x,w,2,6)),w=0;w<A.length;w+=3){$=y[A[w]];var D=y[A[w+1]],C=y[A[w+2]];h&&3<=w&&(i.push(i[$]),$=i.length-1,i.push(i[D]),D=i.length-1,i.push(i[C]),C=i.length-1),a.push($),a.push(D),a.push(C)}}}},laplacianSmooth:function(e,t,r){var n,o,i=Array(t.length),a=0;for(n=t.length;a<n;a++)i[a]={x:0,y:0,z:0};var s=Array(20);for(a=0;20>a;a++)s[a]=Array(t.length);for(a=0,n=t.length;a<n;a++)s[0][a]=0;for(a=0,n=r.length/3;a<n;a++){var l=3*a,c=3*a+1,u=3*a+2,h=!0,f=0;for(o=s[0][r[l]];f<o;f++)if(r[c]==s[f+1][r[l]]){h=!1;break}for(h&&(s[0][r[l]]++,s[s[0][r[l]]][r[l]]=r[c]),h=!0,f=0,o=s[0][r[l]];f<o;f++)if(r[u]==s[f+1][r[l]]){h=!1;break}for(h&&(s[0][r[l]]++,s[s[0][r[l]]][r[l]]=r[u]),h=!0,f=0,o=s[0][r[c]];f<o;f++)if(r[l]==s[f+1][r[c]]){h=!1;break}for(h&&(s[0][r[c]]++,s[s[0][r[c]]][r[c]]=r[l]),h=!0,f=0,o=s[0][r[c]];f<o;f++)if(r[u]==s[f+1][r[c]]){h=!1;break}for(h&&(s[0][r[c]]++,s[s[0][r[c]]][r[c]]=r[u]),h=!0,f=0;f<s[0][r[u]];f++)if(r[l]==s[f+1][r[u]]){h=!1;break}for(h&&(s[0][r[u]]++,s[s[0][r[u]]][r[u]]=r[l]),h=!0,f=0,o=s[0][r[u]];f<o;f++)if(r[c]==s[f+1][r[u]]){h=!1;break}h&&(s[0][r[u]]++,s[s[0][r[u]]][r[u]]=r[c])}for(r=0;r<e;r++){for(a=0,n=t.length;a<n;a++)if(3>s[0][a])i[a].x=t[a].x,i[a].y=t[a].y,i[a].z=t[a].z;else if(3==s[0][a]||4==s[0][a]){for(i[a].x=0,i[a].y=0,f=i[a].z=0,o=s[0][a];f<o;f++)i[a].x+=t[s[f+1][a]].x,i[a].y+=t[s[f+1][a]].y,i[a].z+=t[s[f+1][a]].z;i[a].x+=.5*t[a].x,i[a].y+=.5*t[a].y,i[a].z+=.5*t[a].z,i[a].x/=.5+s[0][a],i[a].y/=.5+s[0][a],i[a].z/=.5+s[0][a]}else{for(i[a].x=0,i[a].y=0,f=i[a].z=0,o=s[0][a];f<o;f++)i[a].x+=t[s[f+1][a]].x,i[a].y+=t[s[f+1][a]].y,i[a].z+=t[s[f+1][a]].z;i[a].x+=1*t[a].x,i[a].y+=1*t[a].y,i[a].z+=1*t[a].z,i[a].x/=1+s[0][a],i[a].y/=1+s[0][a],i[a].z/=1+s[0][a]}for(a=0,n=t.length;a<n;a++)t[a].x=i[a].x,t[a].y=i[a].y,t[a].z=i[a].z}},edgeTable:[0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]},t=new Uint32Array(e.edgeTable),r=e.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],n=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],o=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]];return e},$3Dmol.MarchingCube=$3Dmol.MarchingCubeInitializer(),$3Dmol.Parsers=function(){var e={},t=function(e){for(var t,r,n,o=0,a=e.length;o<a;o++)e[o].index||(e[o].index=o);a={};for(var s=0;s<e.length;s++)o=e[s],n=Math.floor(o.x/4.95),r=Math.floor(o.y/4.95),t=Math.floor(o.z/4.95),a[n]||(a[n]={}),a[n][r]||(a[n][r]={}),a[n][r][t]||(a[n][r][t]=[]),a[n][r][t].push(o);for(n in e=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],a)for(r in a[n=parseInt(n)])for(t in r=parseInt(r),a[n][r]){for(t=parseInt(t),s=a[n][r][t],o=0;o<s.length;o++)for(var l=s[o],c=o+1;c<s.length;c++){var u=s[c];i(l,u)&&-1==l.bonds.indexOf(u.index)&&(l.bonds.push(u.index),l.bondOrder.push(1),u.bonds.push(l.index),u.bondOrder.push(1))}for(o=0;o<e.length;o++)if(a[n+(c=e[o]).x]&&a[n+c.x][r+c.y]&&a[n+c.x][r+c.y][t+c.z])for(l=s,c=a[n+c.x][r+c.y][t+c.z],u=0;u<l.length;u++)for(var h=l[u],f=0;f<c.length;f++){var p=c[f];if(i(h,p)){var d=h.bonds.indexOf(p.index),m=p.bonds.indexOf(h.index);-1==d&&-1==m?(h.bonds.push(p.index),h.bondOrder.push(1),p.bonds.push(h.index),p.bondOrder.push(1)):-1==d?(h.bonds.push(p.index),h.bondOrder.push(p.bondOrder[m])):-1==m&&(p.bonds.push(h.index),p.bondOrder.push(h.bondOrder[d]))}}}},r=function(e){var r,n=[],o=[],a=0;for(r=e.length;a<r;a++){var s=e[a];s.index=a,s.hetflag?o.push(s):n.push(s)}for(t(o),n.sort(function(e,t){return e.chain!=t.chain?e.chain<t.chain?-1:1:e.resi-t.resi}),o=e=-1,a=0,r=n.length;a<r;a++){if((s=n[a]).resi!==e){e=s.resi,l||o++;var l=!1}s.reschain=o;for(var c=a+1;c<n.length;c++){var u=n[c];if(u.chain!=s.chain)break;if(1<u.resi-s.resi)break;i(s,u)&&(-1===s.bonds.indexOf(u.index)&&(s.bonds.push(u.index),s.bondOrder.push(1),u.bonds.push(s.index),u.bondOrder.push(1)),s.resi!==u.resi&&(l=!0))}}},n=function(e){var t;!function(e){var t,r=[],n=0;for(t=e.length;n<t;n++){e[n].index=n;var o=e[n];o.hetflag||"N"!==o.atom&&"O"!==o.atom||(r.push(o),o.hbondOther=null,o.hbondDistanceSq=Number.POSITIVE_INFINITY)}for(r.sort(function(e,t){return e.z-t.z}),n=0,t=r.length;n<t;n++)for(o=r[n],e=n+1;e<t;e++){var i=r[e],a=i.z-o.z;if(3.2<a)break;if(i.atom!=o.atom){var s=Math.abs(i.y-o.y);if(!(3.2<s)){var l=Math.abs(i.x-o.x);3.2<l||10.24<(a=l*l+s*s+a*a)||i.chain==o.chain&&4>Math.abs(i.resi-o.resi)||(a<o.hbondDistanceSq&&(o.hbondOther=i,o.hbondDistanceSq=a),a<i.hbondDistanceSq&&(i.hbondOther=o,i.hbondDistanceSq=a))}}}}(e);var r,n={},o=0;for(t=e.length;o<t;o++){var i=e[o];if(void 0===n[i.chain]&&(n[i.chain]=[]),isFinite(i.hbondDistanceSq)){var a=i.hbondOther;void 0===n[a.chain]&&(n[a.chain]=[]),4===Math.abs(a.resi-i.resi)&&(n[i.chain][i.resi]="h")}}for(r in n)for(i=1;i<n[r].length-1;i++)t=n[r][i-1],o=n[r][i+1],a=n[r][i],"h"==t&&t==o&&a!=t&&(n[r][i]=t);for(o=0,t=e.length;o<t;o++)i=e[o],isFinite(i.hbondDistanceSq)&&"h"!=n[i.chain][i.resi]&&"h"!=i.ss&&(n[i.chain][i.resi]="maybesheet");for(o=0,t=e.length;o<t;o++)if(i=e[o],isFinite(i.hbondDistanceSq)&&"maybesheet"==n[i.chain][i.resi]){var s=n[(a=i.hbondOther).chain][a.resi];"maybesheet"!=s&&"s"!=s||(n[i.chain][i.resi]="s",n[a.chain][a.resi]="s")}for(r in n){for(i=1;i<n[r].length-1;i++)t=n[r][i-1],o=n[r][i+1],a=n[r][i],"s"==t&&t==o&&a!=t&&(n[r][i]=t);for(i=0;i<n[r].length;i++)"h"!=(a=n[r][i])&&"s"!=a||n[r][i-1]==a||n[r][i+1]==a||delete n[r][i]}for(o=0,t=e.length;o<t;o++)void 0!==(a=n[(i=e[o]).chain][i.resi])&&"maybesheet"!=a&&(i.ss=a,n[i.chain][i.resi-1]!=a&&(i.ssbegin=!0),n[i.chain][i.resi+1]!=a&&(i.ssend=!0))};e.vasp=e.VASP=function(e,t){t=[[]];var r=e.replace(/^\s+/,"").split(/[\n\r]/);if(3>r.length)return t;if(!r[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),t;if(0>(e=parseFloat(r[1])))return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),t;var n=new Float32Array(r[2].replace(/^\s+/,"").split(/\s+/)),o=new Float32Array(r[3].replace(/^\s+/,"").split(/\s+/)),i=new Float32Array(r[4].replace(/^\s+/,"").split(/\s+/)),a=new $3Dmol.Matrix4(n[0],n[1],n[2],0,o[0],o[1],o[2],0,i[0],i[1],i[2],0,0,0,0,1);a.multiplyScalar(e),t.modelData=[{symmetries:[],cryst:{matrix:a}}],a=r[5].replace(/\s+/,"").replace(/\s+$/,"").split(/\s+/);var s=new Int16Array(r[6].replace(/^\s+/,"").split(/\s+/)),l=r[7].replace(/\s+/,"");if(l.match(/C/))l="cartesian";else{if(!l.match(/D/))return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),t;l="direct"}if(a.length!=s.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(a),console.log(s),t;r.splice(0,8);for(var c=0,u=0,h=a.length;u<h;u++){for(var f=a[u],p=0,d=s[u];p<d;p++){var m=new Float32Array(r[c+p].replace(/^\s+/,"").split(/\s+/)),g={};g.elem=f,"cartesian"==l?(g.x=e*m[0],g.y=e*m[1],g.z=e*m[2]):(g.x=e*(m[0]*n[0]+m[1]*o[0]+m[2]*i[0]),g.y=e*(m[0]*n[1]+m[1]*o[1]+m[2]*i[1]),g.z=e*(m[0]*n[2]+m[1]*o[2]+m[2]*i[2])),g.bonds=[],t[0].push(g)}c+=s[u]}return t},e.cube=e.CUBE=function(e,r){if(r=[[]],6>(e=e.replace(/^\s+/,"").split(/\n\r|\r+/)).length)return r;var n=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),o=Math.abs(parseFloat(n[0]));n=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),n=0<parseFloat(n[0])?.529177:1,e=e.splice(6,o);for(var i=(o=r[r.length-1].length)+e.length,a=o;a<i;++a){var s={};s.serial=a;var l=e[a-o].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");6==l[0]?s.elem="C":1==l[0]?s.elem="H":8==l[0]?s.elem="O":17==l[0]&&(s.elem="Cl"),s.x=parseFloat(l[2])*n,s.y=parseFloat(l[3])*n,s.z=parseFloat(l[4])*n,s.hetflag=!0,s.bonds=[],s.bondOrder=[],s.properties={},r[r.length-1].push(s)}for(a=0;a<r.length;a++)t(r[a]);return r},e.xyz=e.XYZ=function(e,r){for(var n=[[]],o=e.split(/\r?\n|\r/);0<o.length&&!(3>o.length);){var i=parseInt(o[0]);if(isNaN(i)||0>=i)break;if(o.length<i+2)break;e=2;var a=n[n.length-1].length;for(i=a+i;a<i;a++){var s=o[e++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),l={};l.serial=a;var c=s[0];l.atom=l.elem=c[0].toUpperCase()+c.substr(1).toLowerCase(),l.x=parseFloat(s[1]),l.y=parseFloat(s[2]),l.z=parseFloat(s[3]),l.hetflag=!0,l.bonds=[],l.bondOrder=[],l.properties={},n[n.length-1][a]=l,7<=s.length&&(l.dx=parseFloat(s[4]),l.dy=parseFloat(s[5]),l.dz=parseFloat(s[6]))}if(!r.multimodel)break;n.push([]),o.splice(0,e)}for(a=0;a<n.length;a++)t(n[a]);if(r.onemol)for(r=n,(n=[]).push(r[0]),a=1;a<r.length;a++)for(e=n[0].length,o=0;o<r[a].length;o++){for(i=r[a][o],s=0;s<i.bonds.length;s++)i.bonds[s]+=e;i.index=n[0].length,i.serial=n[0].length,n[0].push(i)}return n},e.sdf=e.SDF=function(e,t){var r=[[]],n=!1;for(void 0!==t.keepH&&(n=!t.keepH),e=e.split(/\r?\n|\r/);0<e.length&&!(4>e.length);){var o=parseInt(e[3].substr(0,3));if(isNaN(o)||0>=o)break;var i=parseInt(e[3].substr(3,3)),a=4;if(e.length<4+o+i)break;var s=[],l=r[r.length-1].length,c=l+o;for(o=l;o<c;o++,a++){var u=e[a],h={},f=u.substr(31,3).replace(/ /g,"");h.atom=h.elem=f[0].toUpperCase()+f.substr(1).toLowerCase(),"H"==h.elem&&n||(h.serial=o,s[o]=r[r.length-1].length,h.x=parseFloat(u.substr(0,10)),h.y=parseFloat(u.substr(10,10)),h.z=parseFloat(u.substr(20,10)),h.hetflag=!0,h.bonds=[],h.bondOrder=[],h.properties={},h.index=r[r.length-1].length,r[r.length-1].push(h))}for(o=0;o<i;o++,a++)u=e[a],c=s[parseInt(u.substr(0,3))-1+l],h=s[parseInt(u.substr(3,3))-1+l],u=parseInt(u.substr(6,3)),void 0!==c&&void 0!==h&&(r[r.length-1][c].bonds.push(h),r[r.length-1][c].bondOrder.push(u),r[r.length-1][h].bonds.push(c),r[r.length-1][h].bondOrder.push(u));if(!t.multimodel)break;for(t.onemol||r.push([]);"$$$$"!=e[a];)a++;e.splice(0,++a)}return r},e.cdjson=e.json=function(e,t){var r=[[]];"string"==typeof e&&(e=JSON.parse(e));var n=e.m,o=n[0].a;e=n[0].b;var i=n[0].s,a=void 0!==t&&void 0!==t.parseStyle?t.parseStyle:void 0!==i;for(t=r[r.length-1].length,n=0;n<o.length;n++){var s=o[n],l={};l.id=s.i,l.x=s.x,l.y=s.y,l.z=s.z||0,l.bonds=[],l.bondOrder=[];var c=s.l||"C";l.elem=c[0].toUpperCase()+c.substr(1).toLowerCase(),l.serial=r[r.length-1].length,a&&(l.style=i[s.s||0]),r[r.length-1].push(l)}for(n=0;n<e.length;n++)o=(a=e[n]).b+t,i=a.e+t,a=a.o||1,s=r[r.length-1][o],l=r[r.length-1][i],s.bonds.push(i),s.bondOrder.push(a),l.bonds.push(o),l.bondOrder.push(a);return r},e.mcif=e.cif=function(e,r){function o(e,t){for(var r=[],n=0,o=0;o<e.length;){for(;e.substr(o,t.length)!==t&&o<e.length;){if("'"===e[o])for(o++;o<e.length&&"'"!==e[o];)o++;else if('"'===e[o])for(o++;o<e.length&&'"'!==e[o];)o++;o++}r.push(e.substr(n,o-n)),n=o+=t.length}return r}var i=[],s=!r.doAssembly;r=!r.duplicateAssemblyAtoms;var l=i.modelData=[],c=e.split(/\r?\n|\r/);e=[];for(var u=!1,h=0;h<c.length;h++){var f=c[h].split("#")[0];if(u?";"===f[0]&&(u=!1):";"===f[0]&&(u=!0),u||""!==f){if(!u&&"_"===(f=f.trim())[0]){var p=f.split(/\s/)[0].indexOf(".");-1<p&&(f[p]="_",f=f.substr(0,p)+"_"+f.substr(p+1))}e.push(f)}}for(h=0;h<e.length;){for(c=function(e){var t=e.match("-"),r=void 0===(e=(e=e.replace(/[-xyz]/g,"")).split("/"))[1]?1:parseInt(e[1]);return(""===e[0]?1:parseInt(e[0]))/r*(t?-1:1)},p=function(e,t,r){return{x:$[0][0]*e+$[0][1]*t+$[0][2]*r,y:$[1][0]*e+$[1][1]*t+$[1][2]*r,z:$[2][0]*e+$[2][1]*t+$[2][2]*r}};!e[h].startsWith("data_")||"data_global"===e[h];)h++;for(h++,u={};h<e.length&&!e[h].startsWith("data_");)if(void 0===e[h][0])h++;else if("_"===e[h][0]){var d=e[h].split(/\s/)[0].toLowerCase();f=u[d]=u[d]||[];var m=e[h].substr(e[h].indexOf(d)+d.length);if(""===m)if(";"===e[++h][0]){for(m=e[h].substr(1),h++;";"!==e[h];)m=m+"\n"+e[h],h++;f.push(m)}else f.push(e[h]);else f.push(m.trim());h++}else if("loop_"===e[h].substr(0,5)){for(h++,m=[];""===e[h]||"_"===e[h][0];)""!==e[h]&&(f=u[d=e[h].split(/\s/)[0].toLowerCase()]=u[d]||[],m.push(f)),h++;for(d=0;h<e.length&&"_"!==e[h][0]&&!e[h].startsWith("loop_")&&!e[h].startsWith("data_");){f=o(e[h]," ");for(var g=0;g<f.length;g++)""!==f[g]&&(m[d].push(f[g]),d=(d+1)%m.length);h++}}else h++;if(l.push({symmetries:[]}),i.push([]),m=void 0!==u._atom_site_id?u._atom_site_id.length:u._atom_site_label.length,void 0!==u._cell_length_a){f=parseFloat(u._cell_length_a),d=parseFloat(u._cell_length_b),g=parseFloat(u._cell_length_c);var v=parseFloat(u._cell_angle_alpha)||90,y=parseFloat(u._cell_angle_beta)||90,b=parseFloat(u._cell_angle_gamma)||90,_=b*Math.PI/180,x=Math.cos(v*Math.PI/180),w=Math.cos(y*Math.PI/180),A=Math.cos(_),$=[[f,d*A,g*w],[0,d*(_=Math.sin(_)),g*(x-w*A)/_],[0,0,g*Math.sqrt(1-x*x-w*w-A*A+2*x*w*A)/_]];l[l.length-1].cryst={a:f,b:d,c:g,alpha:v,beta:y,gamma:b}}for(f=0;f<m;f++)void 0!==u._atom_site_group_pdb&&"TER"===u._atom_site_group_pdb[f]||(d={},void 0!==u._atom_site_cartn_x?(d.x=parseFloat(u._atom_site_cartn_x[f]),d.y=parseFloat(u._atom_site_cartn_y[f]),d.z=parseFloat(u._atom_site_cartn_z[f])):(g=p(parseFloat(u._atom_site_fract_x[f]),parseFloat(u._atom_site_fract_y[f]),parseFloat(u._atom_site_fract_z[f])),d.x=g.x,d.y=g.y,d.z=g.z),d.chain=u._atom_site_auth_asym_id?u._atom_site_auth_asym_id[f]:void 0,d.resi=u._atom_site_auth_seq_id?parseInt(u._atom_site_auth_seq_id[f]):void 0,d.resn=u._atom_site_auth_comp_id?u._atom_site_auth_comp_id[f].trim():void 0,d.atom=u._atom_site_auth_atom_id?u._atom_site_auth_atom_id[f].replace(/"/gm,""):void 0,d.hetflag=!u._atom_site_group_pdb||"HETA"===u._atom_site_group_pdb[f]||"HETATM"===u._atom_site_group_pdb[f],g=u._atom_site_type_symbol[f],d.elem=g[0].toUpperCase()+g.substr(1).toLowerCase(),d.bonds=[],d.ss="c",d.serial=f,d.bondOrder=[],d.properties={},i[i.length-1].push(d));if(void 0!==u._pdbx_struct_oper_list_id&&!s){for(f=0;f<u._pdbx_struct_oper_list_id.length;f++){p=parseFloat(u["_pdbx_struct_oper_list_matrix[1][1]"][f]),m=parseFloat(u["_pdbx_struct_oper_list_matrix[1][2]"][f]),d=parseFloat(u["_pdbx_struct_oper_list_matrix[1][3]"][f]),g=parseFloat(u["_pdbx_struct_oper_list_vector[1]"][f]),v=parseFloat(u["_pdbx_struct_oper_list_matrix[2][1]"][f]),y=parseFloat(u["_pdbx_struct_oper_list_matrix[2][2]"][f]),b=parseFloat(u["_pdbx_struct_oper_list_matrix[2][3]"][f]),x=parseFloat(u["_pdbx_struct_oper_list_vector[2]"][f]),w=parseFloat(u["_pdbx_struct_oper_list_matrix[3][1]"][f]),A=parseFloat(u["_pdbx_struct_oper_list_matrix[3][2]"][f]),_=parseFloat(u["_pdbx_struct_oper_list_matrix[3][3]"][f]);var D=parseFloat(u["_pdbx_struct_oper_list_vector[3]"][f]);p=new $3Dmol.Matrix4(p,m,d,g,v,y,b,x,w,A,_,D),l[l.length-1].symmetries.push(p)}for(f=0;f<i.length;f++)a(l[l.length-1].symmetries,r,i[f])}if(void 0!==u._symmetry_equiv_pos_as_xyz)for(f=0;f<u._symmetry_equiv_pos_as_xyz.length;f++){for(m=u._symmetry_equiv_pos_as_xyz[f].replace(/["' ]/g,"").split(",").map(function(e){return e.replace(/-/g,"+-")}),p=new $3Dmol.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),d=0;3>d;d++)for(g=m[d].split("+"),v=0;v<g.length;v++)""!==(y=g[v])&&(b=c(y),y.match("x")?p.elements[d+0]=b:y.match("y")?p.elements[d+4]=b:y.match("z")?p.elements[d+8]=b:p.elements[d+12]=b);m=new $3Dmol.Matrix4($[0][0],$[0][1],$[0][2],0,$[1][0],$[1][1],$[1][2],0,$[2][0],$[2][1],$[2][2],0),d=(new $3Dmol.Matrix4).getInverse(m,!0),p=(new $3Dmol.Matrix4).multiplyMatrices(p,d),p=(new $3Dmol.Matrix4).multiplyMatrices(m,p),l[l.length-1].symmetries.push(p)}}for(f=0;f<i.length;f++)t(i[f]),n(i[f]),a(l[f].symmetries,r,i[f]);return i},e.mol2=e.MOL2=function(e,t){var r=[[]],n=!1;void 0!==t.keepH&&(n=!t.keepH);var o=e.search(/@<TRIPOS>MOLECULE/),i=e.search(/@<TRIPOS>ATOM/);if(-1==o||-1==i)return r;for(e=e.substr(o,e.length).split(/\r?\n|\r/);0<e.length;){o=[];var a=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[0]);i=0,1<a.length&&(i=parseInt(a[1]));var l,c=4;for(l=3;l<e.length;l++)if("@<TRIPOS>ATOM"==e[l]){c=l+1;break}for(s=(l=r[r.length-1].length)+s;l<s;l++){var u={},h=(a=(a=e[c++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5].split(".")[0];if(u.atom=u.elem=h[0].toUpperCase()+h.substr(1).toLowerCase(),"H"!=u.elem||!n){h=r[r.length-1].length;var f=parseInt(a[0]);u.serial=f,u.x=parseFloat(a[2]),u.y=parseFloat(a[3]),u.z=parseFloat(a[4]),u.atom=a[5],a=parseFloat(a[8]),u.index=h,u.bonds=[],u.bondOrder=[],u.properties={charge:a,partialCharge:a},o[f]=h,r[r.length-1].push(u)}}for(l=!1;c<e.length;)if("@<TRIPOS>BOND"==e[c++]){l=!0;break}if(l&&i)for(l=0;l<i;l++)a=(a=e[c++]).replace(/^\s+/,"").replace(/\s+/g," ").split(" "),s=parseInt(a[1]),u=r[r.length-1][o[s]],h=parseInt(a[2]),f=r[r.length-1][o[h]],a=parseInt(a[3]),isNaN(a)&&(a=1),void 0!==u&&void 0!==f&&(u.bonds.push(o[h]),u.bondOrder.push(a),f.bonds.push(o[s]),f.bondOrder.push(a));if(!t.multimodel)break;t.onemol||r.push([]),e.splice(0,c),e.join("\n")}return r};var o={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45},i=function(e,t){var r=(o[e.elem]||1.6)+(o[t.elem]||1.6);r+=.25,r*=r;var n=e.x-t.x;if((n*=n)>r)return!1;var i=e.y-t.y;if((i*=i)>r)return!1;var a=e.z-t.z;return!((a*=a)>r||(n=n+i+a,isNaN(n)||.5>n||n>r||e.altLoc!=t.altLoc&&" "!=e.altLoc&&" "!=t.altLoc))},a=function(e,t,r){var n,o,i=r.length,a=i;if(t){if(1<e.length)for(t=0;t<r.length;t++){for(i=[],n=0;n<e.length;n++)e[n].isIdentity()||((a=new $3Dmol.Vector3).set(r[t].x,r[t].y,r[t].z),a.applyMatrix4(e[n]),i.push(a));r[t].symmetries=i}}else for(t=0;t<e.length;t++)if(!e[t].isIdentity()){var s=new $3Dmol.Vector3;for(o=0;o<i;o++){var l=[];for(n=0;n<r[o].bonds.length;n++)l.push(r[o].bonds[n]+a);for(var c in s.set(r[o].x,r[o].y,r[o].z),s.applyMatrix4(e[t]),n={},r[o])n[c]=r[o][c];n.x=s.x,n.y=s.y,n.z=s.z,n.bonds=l,r.push(n)}a=r.length}},s=function(e,t){return 0<(e=e.replace(/ /g,"")).length&&"H"==e[0]&&"Hg"!=e&&(e="H"),1<e.length&&(e=e[0].toUpperCase()+e.substr(1).toLowerCase(),void 0===o[e]?e=e[0]:t&&("Ca"==e?e="C":"Cd"==e&&(e="C"))),e};e.pdb=e.PDB=e.pdbqt=e.PDBQT=function(e,t){var i=[],l={};i.modelData=[];for(var c=e.split(/\r?\n|\r/);0<c.length;){var u,h=c;e=l,c=[];var f=!t.keepH,p=!!t.noSecondaryStructure,d=!t.noComputeSecondaryStructure,m=!t.doAssembly,g=!t.duplicateAssemblyAtoms,v=t.altLoc?t.altLoc:"A",y={symmetries:[]},b=[],_=[],x={};for(u=0;u<h.length;u++){var w=h[u].replace(/^\s*/,""),A=w.substr(0,6);if(0==A.indexOf("END")){if(b=h.slice(u+1),"END"==A)for(var $ in e)e.hasOwnProperty($)&&delete e[$];break}if("ATOM  "==A||"HETATM"==A){var D=w.substr(16,1);if(" "==D||D==v||"*"==v){var C=parseInt(w.substr(6,5)),S=w.substr(12,4).replace(/ /g,""),T=w.substr(17,3).replace(/ /g,""),M=w.substr(21,1),R=parseInt(w.substr(22,4)),L=w.substr(26,1),E=parseFloat(w.substr(30,8)),I=parseFloat(w.substr(38,8)),O=parseFloat(w.substr(46,8)),P=parseFloat(w.substr(60,8)),j=w.substr(76,2).replace(/ /g,"");"H"==(j=""===j||void 0===o[j]?s(w.substr(12,2),"A"==w[0]):j[0].toUpperCase()+j.substr(1).toLowerCase())&&f||(A="H"==A[0],_[C]=c.length,c.push({resn:T,x:E,y:I,z:O,elem:j,hetflag:A,altLoc:D,chain:M,resi:R,icode:L,rescode:R+(" "!=L?"^"+L:""),serial:C,atom:S,bonds:[],ss:"c",bondOrder:[],properties:{},b:P,pdbline:w}))}}else if("SHEET "==A){P=w.substr(21,1),S=parseInt(w.substr(22,4)),w.substr(32,1),w=parseInt(w.substr(33,4)),P in e||(e[P]={}),e[P][S]="s1";for(S+=1;S<w;S++)e[P][S]="s";e[P][w]="s2"}else if("CONECT"==A){for(C=c[S=_[P=parseInt(w.substr(6,5))]],T=[11,16,21,26],P=0;4>P;P++)if(R=c[M=_[M=parseInt(w.substr(T[P],5))]],void 0!==C&&void 0!==R)if(x[[S,M]])for(x[[S,M]]+=1,R=0;R<C.bonds.length;R++)C.bonds[R]==M&&(L=x[[S,M]],C.bondOrder[R]=4<=L?1:L);else x[[S,M]]=1,(0==C.bonds.length||C.bonds[C.bonds.length-1]!=M)&&(C.bonds.push(M),C.bondOrder.push(1))}else if("HELIX "==A){P=w.substr(19,1),S=parseInt(w.substr(21,4)),w.substr(31,1),w=parseInt(w.substr(33,4)),P in e||(e[P]={}),e[P][S]="h1";for(S+=1;S<w;S++)e[P][S]="h";e[P][w]="h2"}else if(m||"REMARK"!=A||"BIOMT"!=w.substr(13,5))"CRYST1"==A?(S=parseFloat(w.substr(7,8)),P=parseFloat(w.substr(16,8)),C=parseFloat(w.substr(25,8)),T=parseFloat(w.substr(34,6)),M=parseFloat(w.substr(41,6)),w=parseFloat(w.substr(48,6)),y.cryst={a:S,b:P,c:C,alpha:T,beta:M,gamma:w}):"ANISOU"==A&&(P=c[_[C=parseInt(w.substr(6,5))]])&&(w=w.substr(30).trim().split(/\s+/),w={u11:parseInt(w[0]),u22:parseInt(w[1]),u33:parseInt(w[2]),u12:parseInt(w[3]),u13:parseInt(w[4]),u23:parseInt(w[5])},P.uMat=w);else{for(S=new $3Dmol.Matrix4,P=1;3>=P;P++)if(w=h[u].replace(/^\s*/,""),parseInt(w.substr(18,1))==P)S.elements[P-1]=parseFloat(w.substr(23,10)),S.elements[P-1+4]=parseFloat(w.substr(33,10)),S.elements[P-1+8]=parseFloat(w.substr(43,10)),S.elements[P-1+12]=parseFloat(w.substr(53)),u++;else for(;"BIOMT"==w.substr(13,5);)w=h[++u].replace(/^\s*/,"");S.elements[3]=0,S.elements[7]=0,S.elements[11]=0,S.elements[15]=1,y.symmetries.push(S),u--}}for((new Date).getTime(),h=0,f=(u=c).length;h<f;h++)for(v=u[h],x=0;x<v.bonds.length;x++)w=u[v.bonds[x]],P=_[v.serial],w&&P&&0>w.bonds.indexOf(P)&&(w.bonds.push(P),w.bondOrder.push(v.bondOrder[x]));r(c),m||a(y.symmetries,g,c),d&&!p&&((new Date).getTime(),n(c)),(new Date).getTime();e:{for(p in p=void 0,d=e){p=!1;break e}p=!0}if(!p)for(u=0;u<c.length;u++)void 0!==(S=c[u])&&S.chain in e&&S.resi in e[S.chain]&&(p=e[S.chain][S.resi],S.ss=p[0],1<p.length&&("1"==p[1]?S.ssbegin=!0:"2"==p[1]&&(S.ssend=!0)));if(e=(c=[c,y,b])[0],y=c[1],c=c[2],0!=e.length){if(t.multimodel&&t.onemol&&0<i.length)for(y=i[0].length,b=0;b<e.length;b++){for((p=e[b]).index=b,d=0;d<p.bonds.length;d++)p.bonds[d]+=y;i[0].push(p)}else i.modelData.push(y),i.push(e);if(!t.multimodel)break}}return i},e.pqr=e.PQR=function(e,t){var o=[[]],i=!t.noSecondaryStructure;o.modelData=[{symmetries:[]}];var a,s=[];for(e=e.split(/\r?\n|\r/),a=0;a<e.length;a++){var l=e[a].replace(/^\s*/,""),c=l.substr(0,6);if(0==c.indexOf("END")){if(!t.multimodel)break;t.onemol||o.push([])}else if("ATOM  "==c||"HETATM"==c){var u=parseInt(l.substr(6,5));c=l.substr(12,4).replace(/ /g,"");var h=l.substr(17,3),f=l.substr(21,1),p=parseInt(l.substr(22,4)),d=l.substr(30).trim().split(/\s+/),m=parseFloat(d[0]),g=parseFloat(d[1]),v=parseFloat(d[2]),y=parseFloat(d[3]),b=parseFloat(d[4]),_=c[0];1<c.length&&c[1].toUpperCase()!=c[1]&&(_=c.substr(0,2)),d="H"==l[0],s[u]=o[o.length-1].length,o[o.length-1].push({resn:h,x:m,y:g,z:v,elem:_,hetflag:d,chain:f,resi:p,serial:u,atom:c,bonds:[],ss:"c",bondOrder:[],properties:{charge:y,partialCharge:y,radius:b},pdbline:l})}else if("CONECT"==c)for(c=parseInt(l.substr(6,5)),u=o[o.length-1][s[c]],c=0;4>c;c++)h=parseInt(l.substr([11,16,21,26][c],5)),f=o[o.length-1][s[h]],void 0!==u&&void 0!==f&&(u.bonds.push(s[h]),u.bondOrder.push(1))}for(a=0;a<o.length;a++)r(o[a]),i&&n(o[a]);return o};var l=function(e){return 0==e||2==e||4==e?"h":3==e?"s":"c"};return e.mmtf=e.MMTF=function(e,t){var r=!t.keepH,o=t.altLoc?t.altLoc:"A",i=!!t.noSecondaryStructure,s=!t.noComputeSecondaryStructure,c=!t.doAssembly,u=!t.duplicateAssemblyAtoms,h=t.assemblyIndex?t.assemblyIndex:0;"string"==typeof e&&(e=$3Dmol.base64ToArray(e)),e=MMTF.decode(e);var f=[[]],p=f.modelData=[],d=0,m=0,g=0,v=0,y=e.secStructList,b=e.insCodeList,_=e.bFactorList,x=e.altLocList,w=e.occupancyList,A=e.bondAtomList,$=e.bondOrderList,D=e.numModels;if(0==D)return f;t.multimodel||(D=1);var C,S=[];if(!c&&e.bioAssemblyList&&0<e.bioAssemblyList.length){var T=e.bioAssemblyList[h].transformList;for(h=0,C=T.length;h<C;h++){var M=new $3Dmol.Matrix4(T[h].matrix);M.transpose(),S.push(M)}}M=null,e.unitCell&&(M={a:(h=e.unitCell)[0],b:h[1],c:h[2],alpha:h[3],beta:h[4],gamma:h[5]});var R=0;for(T=0;T<D;T++){var L=e.chainsPerModel[T],E=f[f.length-1],I=[];for(p.push({symmetries:S,cryst:M}),h=0;h<L;++h){var O=e.groupsPerChain[m],P=String.fromCharCode.apply(null,e.chainIdList.subarray(4*m,4*m+4)).replace(/\0/g,"");e.chainNameList&&(P=String.fromCharCode.apply(null,e.chainNameList.subarray(4*m,4*m+4)).replace(/\0/g,""));var j=g,z="";for(C=0;C<O;++C){var F=e.groupList[e.groupTypeList[g]],k=F.atomNameList.length,N=0,G=!1,B=!1;if(y){N=y[g];var U=l(N);0!=g&&U==z||(G=!0),z=U;var W=g+1;(W>=y.length||l(y[W]!=U))&&(B=!0)}e.insCodeList&&String.fromCharCode(b[g]);var V=e.groupIdList[g],H=F.groupName;for(W=v,U=0;U<k;++U){var q=F.elementList[U];if(!r||"H"!=q){var Y="";_&&(Y=_[v]);var X="";x&&x[v]&&(X=String.fromCharCode(x[v]));var K="";if(w&&(K=w[v]),""==X||X==o||"*"==o){var Z=e.atomIdList[v],J=F.atomNameList[U],Q=0;F.atomChargeList&&(Q=F.atomChargeList[U]);var ee=e.xCoordList[v],te=e.yCoordList[v],re=e.zCoordList[v];I[v]=E.length,E.push({resn:H,x:ee,y:te,z:re,elem:q,hetflag:0>N,chain:P,resi:V,icode:X,rescode:V+(" "!=X?"^"+X:""),serial:Z,altLoc:X,index:v,atom:J,bonds:[],ss:l(N),ssbegin:G,ssend:B,bondOrder:[],properties:{charge:Q,occupancy:K},b:Y})}}v+=1}for(G=F.bondAtomList,U=0,N=F.bondOrderList.length;U<N;++U)B=W+G[2*U],V=W+G[2*U+1],k=F.bondOrderList[U],B=I[B],q=I[V],H=E[B],V=E[q],H&&V&&(H.bonds.push(q),H.bondOrder.push(k),V.bonds.push(B),V.bondOrder.push(k));g+=1}for(g=j,C=0;C<O;++C)g+=1;m+=1}if(A)for(U=R,N=A.length;U<N;U+=2){if(B=A[U],V=A[U+1],k=$?$[U/2]:1,B>=v){R=U;break}B=I[B],q=I[V],H=E[B],V=E[q],H&&V&&(H.bonds.push(q),H.bondOrder.push(k),V.bonds.push(B),V.bondOrder.push(k))}if(t.multimodel&&(t.onemol||f.push([])),!c)for(C=0;C<f.length;C++)a(p[d].symmetries,u,f[C]);d+=1}return s&&!i&&n(f),f},e.prmtop=e.PRMTOP=function(e,t){function r(e){var t=a.indexOf(s.filter(function(t){return t.includes(e)})[0]);if(Number.isInteger(t)&&0<t){for(;!a[t].includes("FORMAT");)t++;return t}return-1}function n(e){var t=a[e].match(/\((\d*)\S*/),r=a[e].match(/[a-zA-Z](\d*)\)\s*/);return null==r&&(r=a[e].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[t[1],r[1]]}var o;t=[];var i=0,a=e.split(/\r?\n|\r/);if(!(0<a.length&&a[0].includes("VERSION")))return[];var s=a.filter(function(e){return e.includes("POINTERS")||e.includes("ATOM_NAME")||e.includes("CHARGE")||e.includes("RADII")||e.includes("BONDS_INC_HYDROGEN")||e.includes("BONDS_WITHOUT_HYDROGEN")});if(-1==(e=r("POINTERS")))return[];var l=n(e),c=parseInt(a[e+1].slice(0,l[1]));if(isNaN(c)||0>=c)return[];if(-1==(e=r("ATOM_NAME")))return[];for(var u=(l=n(e))[0],h=0;h<c/l[0];h++){h==parseInt(c/l[0])&&(u=c%l[0]);for(var f=0;f<u;f++){var p={};p.serial=i,p.x=0,p.y=0,p.z=0,p.atom=a[e+1].slice(l[1]*f,l[1]*(f+1)),p.elem=a[e+1].slice(l[1]*f,l[1]*f+1),p.properties={charge:"",radii:""},p.bonds=[],p.bondOrder=[],t.push(p),i++}e++}if(-1!=(e=r("CHARGE")))for(i=0,u=(l=n(e))[0],h=0;h<c/l[0];h++){for(h==parseInt(c/l[0])&&(u=c%l[0]),f=0;f<u;f++)t[i].properties.charge=parseFloat(a[e+1].slice(l[1]*f,l[1]*(f+1))),i++;e++}if(-1!=(e=r("RADII")))for(i=0,u=(l=n(e))[0],h=0;h<c/l[0];h++){for(h==parseInt(c/l[0])&&(u=c%l[0]),f=0;f<u;f++)t[i].properties.radii=parseFloat(a[e+1].slice(l[1]*f,l[1]*(f+1))),i++;e++}if(-1!=(e=r("BONDS_WITHOUT_HYDROGEN")))for(i=0,u=(l=n(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(u=c%l[0]),f=0;f<u;f++)0==i%3&&(o=parseInt(a[e].slice(l[1]*f,l[1]*(f+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*f,l[1]*(f+1))/3)),i++;e++}if(-1!=(e=r("BONDS_INC_HYDROGEN")))for(i=0,u=(l=n(e))[0],e+=1;!a[e].match(/^%FLAG/);){for(a[e+1].match(/^%FLAG/)&&(u=c%l[0]),f=0;f<u;f++)0==i%3&&(o=parseInt(a[e].slice(l[1]*f,l[1]*(f+1))/3)),1==i%3&&t[o].bonds.push(parseInt(a[e].slice(l[1]*f,l[1]*(f+1))/3)),i++;e++}return[t]},e.gro=e.GRO=function(e,t){for(t=[],e=e.split(/\r?\n|\r/);0<e.length&&!(3>e.length);){var n=parseInt(e[1]);if(isNaN(n)||0>=n)break;if(e.length<n+3)break;var o=[];t.push(o);var i=2,a=o.length;for(n=a+n;a<n;a++){var l=e[i++],c={};c.serial=a,c.atom=l.slice(10,15).trim(),c.elem=s(c.atom,!0),c.x=10*parseFloat(l.slice(20,28)),c.y=10*parseFloat(l.slice(28,36)),c.z=10*parseFloat(l.slice(36,44)),c.resi=parseInt(l.slice(0,5)),c.resn=l.slice(5,10).trim(),c.bonds=[],c.bondOrder=[],c.properties={},44<l.length&&(c.dx=10*parseFloat(l.slice(44,52)),c.dy=10*parseFloat(l.slice(52,60)),c.dz=10*parseFloat(l.slice(60,68))),o[a]=c}if(e.length<=i+3&&3==(o=e[i++].trim().split(/\s+/)).length){for(n=0;3>n;n++)o[n]=10*parseFloat(o[n]);t.box=o}e.splice(0,++i)}for(a=0;a<t.length;a++)r(t[a]);return t},e.lammpstrj=e.LAMMPSTRJ=function(e,r){var n=[],o={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};e=e.split(/\r?\n|\r/);for(var i=0,a=0,s=0;s<e.length-9;){for(;s<e.length;s++)if(e[s].match(/ITEM: NUMBER OF ATOMS/)&&(a=parseInt(e[s+1])),e[s].match(/ITEM: ATOMS/)){i=s+1;break}var l=e[i-1].replace("ITEM: ATOMS ","").split(" ");for(n.push([]),s=i;s<i+a;s++){for(var c={},u={},h=e[s].split(" "),f=0;f<h.length;f++){var p=o[l[f]];null!=p&&("serial"==p?c[p]=parseInt(h[f]):"x"==p||"y"==p||"z"===p?c[p]=parseFloat(h[f]):"charge"==p||"radius"==p?u[p]=parseFloat(h[f]):c[p]=h[f]),c.properties=u,c.bonds=[],c.bondOrder=[]}n[n.length-1][s-i]=c}s=i+a-1}if(r.assignbonds)for(r=0;r<n.length;r++)t(n[r]);return n},e}(),$3Dmol=$3Dmol||{},$3Dmol.partialCharges={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55},$3Dmol.applyPartialCharges=function(e,t){t&&void 0!==e.partialCharge||e.resn&&e.atom&&(e.properties.partialCharge=$3Dmol.partialCharges[e.resn+":"+e.atom])},"undefined"==typeof console&&(console={log:function(){}}),$3Dmol.ProteinSurface=function(){var e,t,r=0,n=0,o=0,a=2,s=0,l=0,c=0,u=0,h=null,f=null,p=null,d=0,m=0,g=0,v=0,y=0,b=0,_={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},x=function(e){return e.elem&&void 0!==_[e.elem]?e.elem:"X"},w={},A={},$=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];this.getFacesAndVertices=function(i){var s,l={},c=0;for(s=i.length;c<s;c++)l[i[c]]=!0;for(c=0,s=(i=t).length;c<s;c++)i[c].x=i[c].x/a-r,i[c].y=i[c].y/a-n,i[c].z=i[c].z/a-o;var u=[];for(c=0,s=e.length;c<s;c+=3){var d=e[c],m=e[c+1],g=e[c+2],v=i[m].atomid,y=i[g].atomid,b=i[d].atomid;v<b&&(b=v),y<b&&(b=y),l[b]&&d!==m&&m!==g&&d!==g&&(u.push(d),u.push(m),u.push(g))}return p=f=h=null,{vertices:i,faces:u}},this.initparm=function(e,t,i){1e6<i&&(a=1),i=1/a*5.5,d=e[0][0],v=e[1][0],m=e[0][1],y=e[1][1],g=e[0][2],b=e[1][2],t?(d-=1.4+i,m-=1.4+i,g-=1.4+i,v+=1.4+i,y+=1.4+i,b+=1.4+i):(d-=i,m-=i,g-=i,v+=i,y+=i,b+=i),d=Math.floor(d*a)/a,m=Math.floor(m*a)/a,g=Math.floor(g*a)/a,v=Math.ceil(v*a)/a,y=Math.ceil(y*a)/a,b=Math.ceil(b*a)/a,r=-d,n=-m,o=-g,c=Math.ceil(a*(v-d))+1,l=Math.ceil(a*(y-m))+1,s=Math.ceil(a*(b-g))+1,this.boundingatom(t),u=1.4*a,h=new Uint8Array(c*l*s),f=new Float64Array(c*l*s),p=new Int32Array(c*l*s)},this.boundingatom=function(e){var t=[];for(var r in flagradius=e,_)if(_.hasOwnProperty(r)){var n=_[r];for(t[r]=e?(n+1.4)*a+.5:n*a+.5,n=t[r]*t[r],A[r]=Math.floor(t[r])+1,w[r]=new Int32Array(A[r]*A[r]),j=indx=0;j<A[r];j++)for(k=0;k<A[r];k++){var o=j*j+k*k;o>n?w[r][indx]=-1:(o=Math.sqrt(n-o),w[r][indx]=Math.floor(o)),indx++}}},this.fillvoxels=function(e,t){var r,n=0;for(r=h.length;n<r;n++)h[n]=0,f[n]=-1,p[n]=-1;for(n in t)void 0!==(r=e[t[n]])&&this.fillAtom(r,e);for(n=0,r=h.length;n<r;n++)1&h[n]&&(h[n]|=2)},this.fillAtom=function(e,t){var i,u,f,d,m,g,v=Math.floor(.5+a*(e.x+r)),y=Math.floor(.5+a*(e.y+n)),b=Math.floor(.5+a*(e.z+o)),_=x(e),$=0,D=l*s,C=0;for(g=A[_];C<g;C++)for(i=0;i<g;i++){if(-1!=w[_][$])for(f=-1;2>f;f++)for(d=-1;2>d;d++)for(m=-1;2>m;m++)if(0!==f&&0!==d&&0!==m){var S=f*C,T=m*i;for(u=0;u<=w[_][$];u++){var M=u*d,R=v+S,L=y+M,E=b+T;if(!(0>R||0>L||0>E||R>=c||L>=l||E>=s))if(1&h[E=R*D+L*s+E]){var I=t[p[E]];I.serial!=e.serial&&S*S+M*M+T*T<(R=v+S-Math.floor(.5+a*(I.x+r)))*R+(L=y+M-Math.floor(.5+a*(I.y+n)))*L+(I=b+T-Math.floor(.5+a*(I.z+o)))*I&&(p[E]=e.serial)}else h[E]|=1,p[E]=e.serial}}$++}},this.fillvoxelswaals=function(e,t){var r,n=0;for(r=h.length;n<r;n++)h[n]&=-3;for(n in t)void 0!==(r=e[t[n]])&&this.fillAtomWaals(r,e)},this.fillAtomWaals=function(e,t){var i,u,f,d,m,g,v=0,y=Math.floor(.5+a*(e.x+r)),b=Math.floor(.5+a*(e.y+n)),_=Math.floor(.5+a*(e.z+o)),$=x(e),D=l*s,C=0;for(g=A[$];C<g;C++)for(i=0;i<g;i++){if(-1!=w[$][v])for(f=-1;2>f;f++)for(d=-1;2>d;d++)for(m=-1;2>m;m++)if(0!==f&&0!==d&&0!==m){var S=f*C,T=m*i;for(u=0;u<=w[$][v];u++){var M=u*d,R=y+S,L=b+M,E=_+T;if(!(0>R||0>L||0>E||R>=c||L>=l||E>=s))if(2&h[E=R*D+L*s+E]){var I=t[p[E]];I.serial!=e.serial&&S*S+M*M+T*T<(R=y+S-Math.floor(.5+a*(I.x+r)))*R+(L=b+M-Math.floor(.5+a*(I.y+n)))*L+(I=_+T-Math.floor(.5+a*(I.z+o)))*I&&(p[E]=e.serial)}else h[E]|=2,p[E]=e.serial}}v++}},this.buildboundary=function(){var e=l*s;for(i=0;i<c;i++)for(j=0;j<s;j++)for(k=0;k<l;k++){var t=i*e+k*s+j;if(1&h[t])for(var r=0;26>r;){var n=i+$[r][0],o=j+$[r][2],a=k+$[r][1];if(-1<n&&n<c&&-1<a&&a<l&&-1<o&&o<s&&!(1&h[n*e+a*s+o])){h[t]|=4;break}r++}}};var D=function(e,t,r){var n=new Int32Array(e*t*r*3);this.set=function(e,o,i,a){n[e=3*((e*t+o)*r+i)]=a.ix,n[e+1]=a.iy,n[e+2]=a.iz},this.get=function(e,o,i){return{ix:n[e=3*((e*t+o)*r+i)],iy:n[e+1],iz:n[e+2]}}};this.fastdistancemap=function(){var e,t,r,n=new D(c,l,s),o=l*s,i=u*u,p=[];for(e=0;e<c;e++)for(t=0;t<l;t++)for(r=0;r<s;r++){var d=e*o+t*s+r;if(h[d]&=-3,1&h[d]&&4&h[d]){var m={ix:e,iy:t,iz:r};n.set(e,t,r,m),p.push(m),f[d]=0,h[d]|=2,h[d]&=-5}}do{for(r=this.fastoneshell(p,n),p=[],e=0,t=r.length;e<t;e++)d=o*r[e].ix+s*r[e].iy+r[e].iz,h[d]&=-5,f[d]<=1.0404*i&&p.push({ix:r[e].ix,iy:r[e].iy,iz:r[e].iz})}while(0!==p.length);for(0>(e=a-.5)&&(e=0),i-=.5/(.1+e),e=0;e<c;e++)for(t=0;t<l;t++)for(r=0;r<s;r++)h[d=e*o+t*s+r]&=-5,1&h[d]&&(!(2&h[d])||2&h[d]&&f[d]>=i)&&(h[d]|=4)},this.fastoneshell=function(e,t){var r,n,o=[];if(0===e.length)return o;tnv={ix:-1,iy:-1,iz:-1};var i=l*s,a=0;for(n=e.length;a<n;a++){var u=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(u,p,d);for(r=0;6>r;r++)if(tnv.ix=u+$[r][0],tnv.iy=p+$[r][1],tnv.iz=d+$[r][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz){var g=tnv.ix*i+s*tnv.iy+tnv.iz;if(1&h[g]&&!(2&h[g])){t.set(tnv.ix,tnv.iy,d+$[r][2],m);var v=tnv.ix-m.ix,y=tnv.iy-m.iy,b=tnv.iz-m.iz;v=v*v+y*y+b*b,f[g]=v,h[g]|=2,h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})}else 1&h[g]&&2&h[g]&&(v=(v=tnv.ix-m.ix)*v+(y=tnv.iy-m.iy)*y+(b=tnv.iz-m.iz)*b)<f[g]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),f[g]=v,4&h[g]||(h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})))}}for(a=0,n=e.length;a<n;a++)for(u=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(u,p,d),r=6;18>r;r++)tnv.ix=u+$[r][0],tnv.iy=p+$[r][1],tnv.iz=d+$[r][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(g=tnv.ix*i+s*tnv.iy+tnv.iz,1&h[g]&&!(2&h[g])?(t.set(tnv.ix,tnv.iy,d+$[r][2],m),v=(v=tnv.ix-m.ix)*v+(y=tnv.iy-m.iy)*y+(b=tnv.iz-m.iz)*b,f[g]=v,h[g]|=2,h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&h[g]&&2&h[g]&&(v=(v=tnv.ix-m.ix)*v+(y=tnv.iy-m.iy)*y+(b=tnv.iz-m.iz)*b)<f[g]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),f[g]=v,4&h[g]||(h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz}))));for(a=0,n=e.length;a<n;a++)for(u=e[a].ix,p=e[a].iy,d=e[a].iz,m=t.get(u,p,d),r=18;26>r;r++)tnv.ix=u+$[r][0],tnv.iy=p+$[r][1],tnv.iz=d+$[r][2],tnv.ix<c&&-1<tnv.ix&&tnv.iy<l&&-1<tnv.iy&&tnv.iz<s&&-1<tnv.iz&&(g=tnv.ix*i+s*tnv.iy+tnv.iz,1&h[g]&&!(2&h[g])?(t.set(tnv.ix,tnv.iy,d+$[r][2],m),v=(v=tnv.ix-m.ix)*v+(y=tnv.iy-m.iy)*y+(b=tnv.iz-m.iz)*b,f[g]=v,h[g]|=2,h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz})):1&h[g]&&2&h[g]&&(v=(v=tnv.ix-m.ix)*v+(y=tnv.iy-m.iy)*y+(b=tnv.iz-m.iz)*b)<f[g]&&(t.set(tnv.ix,tnv.iy,tnv.iz,m),f[g]=v,4&h[g]||(h[g]|=4,o.push({ix:tnv.ix,iy:tnv.iy,iz:tnv.iz}))));return o},this.marchingcubeinit=function(e){for(var t=0,r=h.length;t<r;t++)1==e?h[t]&=-5:4==e?(h[t]&=-3,4&h[t]&&(h[t]|=2),h[t]&=-5):2==e?4&h[t]&&2&h[t]?h[t]&=-5:4&h[t]&&!(2&h[t])&&(h[t]|=2):3==e&&(h[t]&=-5)},this.marchingcube=function(r){this.marchingcubeinit(r),t=[],e=[],$3Dmol.MarchingCube.march(h,t,e,{smooth:1,nX:c,nY:l,nZ:s}),r=l*s;for(var n=0,o=t.length;n<o;n++)t[n].atomid=p[t[n].x*r+s*t[n].y+t[n].z];$3Dmol.MarchingCube.laplacianSmooth(1,t,e)}},$3Dmol.VolumeData=function(e,t,r){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,t=t.toLowerCase(),/\.gz$/.test(t)){t=t.replace(/\.gz$/,"");try{e=this[t]&&this[t].isbinary?pako.inflate(e):new TextDecoder("utf-8").decode(pako.inflate(e))}catch(e){console.log(e)}}if(this[t]&&this[t](e),r){if(r.negate)for(e=0,t=this.data.length;e<t;e++)this.data[e]=-this.data[e];if(r.normalize){var n=0;for(e=0,t=this.data.length;e<t;e++)n+=this.data[e];for(r=n/this.data.length,console.log("computed mean: "+r),e=n=0,t=this.data.length;e<t;e++){var o=this.data[e]-r;n+=o*o}for(n/=this.data.length,e=0,t=this.data.length;e<t;e++)this.data[e]=(this.data[e]-r)/n}}},$3Dmol.VolumeData.prototype.getVal=function(e,t,r){return this.matrix?(this.inversematrix||(this.inversematrix=(new $3Dmol.Matrix4).getInverse(this.matrix)),e=(r=(r=new $3Dmol.Vector3(e,t,r)).applyMatrix4(this.inversematrix)).x,t=r.y,r=r.z):(e-=this.origin.x,t-=this.origin.y,r-=this.origin.z,e/=this.unit.x,t/=this.unit.y,r/=this.unit.z),e=Math.round(e),t=Math.round(t),r=Math.round(r),0>e||e>=this.size.x||0>t||t>=this.size.y||0>r||r>=this.size.z?0:this.data[e*this.size.y*this.size.z+t*this.size.z+r]},$3Dmol.VolumeData.prototype.getCoordinates=function(e){var t=e/(this.size.y*this.size.z),r=e%(this.size.y*this.size.z);return e%=this.size.z,t*=this.unit.x,r*=this.unit.y,e*=this.unit.z,{x:t+=this.origin.x,y:r+=this.origin.y,z:e+=this.origin.z}},$3Dmol.VolumeData.prototype.vasp=function(e){var t=e.replace(/^\s+/,"").split(/[\n\r]/),r=$3Dmol.Parsers.vasp(e)[0].length;if(0==r)console.log("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];else{var n=parseFloat(t[1]),o=t[2].replace(/^\s+/,"").split(/\s+/);e=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n),o=t[3].replace(/^\s+/,"").split(/\s+/);var i=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n);o=t[4].replace(/^\s+/,"").split(/\s+/),o=new $3Dmol.Vector3(parseFloat(o[0]),parseFloat(o[1]),parseFloat(o[2])).multiplyScalar(1.889725992*n),n=e.x*(i.y*o.z-o.y*i.z)-i.x*(e.y*o.z-o.y*e.z)+o.x*(e.y*i.z-i.y*e.z),n=1/(n=Math.abs(n)/Math.pow(1.889725992,3)),t.splice(0,8+r+1);var a=t[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");r=Math.abs(a[0]);var s=Math.abs(a[1]);a=Math.abs(a[2]);var l=this.origin=new $3Dmol.Vector3(0,0,0);for(this.size={x:r,y:s,z:a},this.unit=new $3Dmol.Vector3(e.x,i.y,o.z),e=e.multiplyScalar(1/(1.889725992*r)),i=i.multiplyScalar(1/(1.889725992*s)),o=o.multiplyScalar(1/(1.889725992*a)),0==e.y&&0==e.z&&0==i.x&&0==i.z&&0==o.x&&0==o.y||(this.matrix=new $3Dmol.Matrix4(e.x,i.x,o.x,0,e.y,i.y,o.y,0,e.z,i.z,o.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(l.x,l.y,l.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),t.splice(0,1),(t=(t=(t=t.join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/)).splice(r*s*a+1),t=new Float32Array(t),e=0;e<t.length;e++)t[e]=t[e]*n*.036749309;this.data=t}},$3Dmol.VolumeData.prototype.dx=function(e){e=e.split(/[\n\r]+/);var t,r,n=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,o=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,i=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,a=/data follows/;for(t=0;t<e.length;t++){var s=e[t];if(r=n.exec(s)){var l=parseInt(r[1]),c=parseInt(r[2]);r=parseInt(r[3]),this.size={x:l,y:c,z:r}}else if(r=i.exec(s)){if(l=parseFloat(r[1]),0==parseFloat(r[2])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(r=i.exec(s)))return void console.log("Parse error in dx delta matrix");if(c=parseFloat(r[2]),0==parseFloat(r[1])&&0==parseFloat(r[3])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),s=e[t+=1],null==(r=i.exec(s)))return void console.log("Parse error in dx delta matrix");s=parseFloat(r[3]),0==parseFloat(r[1])&&0==parseFloat(r[2])||console.log("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new $3Dmol.Vector3(l,c,s)}else if(r=o.exec(s))l=parseFloat(r[1]),c=parseFloat(r[2]),r=parseFloat(r[3]),this.origin=new $3Dmol.Vector3(l,c,r);else if(a.exec(s))break}t+=1,this.size&&this.origin&&this.unit&&this.size?(e=(e=e.splice(t).join(" ")).split(/[\s\r]+/),this.data=new Float32Array(e)):console.log("Error parsing dx format")},$3Dmol.VolumeData.prototype.cube=function(e){if(!(6>(e=e.replace(/^\s+/,"").split(/[\n\r]+/)).length)){var t=e[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),r=parseFloat(t[0]),n=Math.abs(r),o=this.origin=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),i=0<(t=e[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[0]?.529177:1;o.multiplyScalar(i);var a=Math.abs(t[0]),s=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var l=Math.abs(t[0]),c=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i);t=e[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var u=Math.abs(t[0]);t=new $3Dmol.Vector3(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])).multiplyScalar(i),this.size={x:a,y:l,z:u},this.unit=new $3Dmol.Vector3(s.x,c.y,t.z),0==s.y&&0==s.z&&0==c.x&&0==c.z&&0==t.x&&0==t.y||(this.matrix=new $3Dmol.Matrix4(s.x,c.x,t.x,0,s.y,c.y,t.y,0,s.z,c.z,t.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(o.x,o.y,o.z)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1)),o=6,0>r&&o++,e=(e=(e=e.splice(n+o).join(" ")).replace(/^\s+/,"")).split(/[\s\r]+/),this.data=new Float32Array(e)}},$3Dmol.VolumeData.prototype.ccp4=function(e){var t;e=new Int8Array(e);var r=new Int32Array(e.buffer,0,56),n=new Float32Array(e.buffer,0,56),o=new DataView(e.buffer);String.fromCharCode(o.getUint8(208),o.getUint8(209),o.getUint8(210),o.getUint8(211));var i=[o.getUint8(212),o.getUint8(213)];if(17===i[0]&&17===i[1])for(i=e.byteLength,t=0;t<i;t+=4)o.setFloat32(t,o.getFloat32(t),!0);o=r[0],i=r[1];var a=r[2];t=r[4];var s=r[5],l=r[6],c=r[7],u=r[8],h=r[9],f=n[10],p=n[11],d=n[12],m=n[13],g=n[14],v=n[15],y=r[16],b=r[17],_=r[18];r=r[23];var x=n[49],w=n[50];for(n=n[51],f=[f,0,0],p=[p*Math.cos(Math.PI/180*v),p*Math.sin(Math.PI/180*v),0],(m=[d*Math.cos(Math.PI/180*g),d*(Math.cos(Math.PI/180*m)-Math.cos(Math.PI/180*v)*Math.cos(Math.PI/180*g))/Math.sin(Math.PI/180*v),0])[2]=Math.sqrt(d*d*Math.sin(Math.PI/180*g)*Math.sin(Math.PI/180*g)-m[1]*m[1]),d=[0,f,p,m],c=[0,c,u,h],y=[0,y,b,_],this.matrix=new $3Dmol.Matrix4,this.matrix.set(d[y[1]][0]/c[y[1]],d[y[2]][0]/c[y[2]],d[y[3]][0]/c[y[3]],0,d[y[1]][1]/c[y[1]],d[y[2]][1]/c[y[2]],d[y[3]][1]/c[y[3]],0,d[y[1]][2]/c[y[1]],d[y[2]][2]/c[y[2]],d[y[3]][2]/c[y[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,(new $3Dmol.Matrix4).makeTranslation(t+x,s+w,l+n)),this.origin=new $3Dmol.Vector3(0,0,0),this.unit=new $3Dmol.Vector3(1,1,1),this.size={x:o,y:i,z:a},e=new Float32Array(e.buffer,1024+r),this.data=new Float32Array(o*i*a),t=0;t<o;t++)for(s=0;s<i;s++)for(l=0;l<a;l++)this.data[(t*i+s)*a+l]=e[(l*i+s)*o+t]},$3Dmol.VolumeData.prototype.ccp4.isbinary=!0,$3Dmol.workerString=function(){self.onmessage=function(e){var t=(e=e.data).type;if(0>t)self.atomData=e.atoms,self.volume=e.volume,self.ps=new ProteinSurface;else{var r=self.ps;r.initparm(e.expandedExtent,1!=t,self.volume),r.fillvoxels(self.atomData,e.extendedAtoms),r.buildboundary(),4!==t&&2!==t||(r.fastdistancemap(),r.boundingatom(!1),r.fillvoxelswaals(self.atomData,e.extendedAtoms)),r.marchingcube(t),e=r.getFacesAndVertices(e.atomsToShow),self.postMessage(e)}}}.toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+="; var ProteinSurface="+$3Dmol.ProteinSurface.toString().replace(/[a-zA-Z_$]{1}[0-9a-zA-Z_$]*.MarchingCube./g,"MarchingCube."),$3Dmol.workerString+=",MarchingCube=("+$3Dmol.MarchingCubeInitializer.toString()+")();",$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):{postMessage:function(){}},$3Dmol.workerString=$3Dmol.workerString,$3Dmol.SurfaceWorker=$3Dmol.SurfaceWorker}),_3DmolNojqueryMin$1=unwrapExports(_3DmolNojqueryMin),$3Dmol=_3DmolNojqueryMin$1,freeGlobal="object"==typeof _chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a&&_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a&&_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a.Object===Object&&_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.a,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),r=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var n=nativeObjectToString.call(e);return t?e[symToStringTag]=r:delete e[symToStringTag],n}var objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?getRawTag(e):objectToString(e)}function isObjectLike(e){return null!=e&&"object"==typeof e}var symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike(e)&&baseGetTag(e)==symbolTag}var NAN=NaN;function baseToNumber(e){return"number"==typeof e?e:isSymbol(e)?NAN:+e}function arrayMap(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var isArray=Array.isArray,INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray(e))return arrayMap(e,baseToString)+"";if(isSymbol(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}function createMathOperation(e,t){return function(r,n){var o;if(void 0===r&&void 0===n)return t;if(void 0!==r&&(o=r),void 0!==n){if(void 0===o)return n;"string"==typeof r||"string"==typeof n?(r=baseToString(r),n=baseToString(n)):(r=baseToNumber(r),n=baseToNumber(n)),o=e(r,n)}return o}}var add=createMathOperation(function(e,t){return e+t},0);function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var NAN$1=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol(e))return NAN$1;if(isObject(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN$1:+e}var INFINITY$1=1/0,MAX_INTEGER=1.7976931348623157e308;function toFinite(e){return e?(e=toNumber(e))===INFINITY$1||e===-INFINITY$1?(e<0?-1:1)*MAX_INTEGER:e==e?e:0:0===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t==t?r?t-r:t:0}var FUNC_ERROR_TEXT="Expected a function";function after(e,t){if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT);return e=toInteger(e),function(){if(--e<1)return t.apply(this,arguments)}}function identity(e){return e}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject(e))return!1;var t=baseGetTag(e);return t==funcTag||t==genTag||t==asyncTag||t==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$2=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$1=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject(e)||isMasked(e))&&(isFunction(e)?reIsNative:reIsHostCtor).test(toSource(e))}function getValue(e,t){return null==e?void 0:e[t]}function getNative(e,t){var r=getValue(e,t);return baseIsNative(r)?r:void 0}var WeakMap$1=getNative(root,"WeakMap"),metaMap=WeakMap$1&&new WeakMap$1,baseSetData=metaMap?function(e,t){return metaMap.set(e,t),e}:identity,objectCreate=Object.create,baseCreate=function(){function e(){}return function(t){if(!isObject(t))return{};if(objectCreate)return objectCreate(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function createCtor(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=baseCreate(e.prototype),n=e.apply(r,t);return isObject(n)?n:r}}var WRAP_BIND_FLAG=1;function createBind(e,t,r){var n=t&WRAP_BIND_FLAG,o=createCtor(e);return function t(){return(this&&this!==root&&this instanceof t?o:e).apply(n?r:this,arguments)}}function apply(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var nativeMax=Math.max;function composeArgs(e,t,r,n){for(var o=-1,i=e.length,a=r.length,s=-1,l=t.length,c=nativeMax(i-a,0),u=Array(l+c),h=!n;++s<l;)u[s]=t[s];for(;++o<a;)(h||o<i)&&(u[r[o]]=e[o]);for(;c--;)u[s++]=e[o++];return u}var nativeMax$1=Math.max;function composeArgsRight(e,t,r,n){for(var o=-1,i=e.length,a=-1,s=r.length,l=-1,c=t.length,u=nativeMax$1(i-s,0),h=Array(u+c),f=!n;++o<u;)h[o]=e[o];for(var p=o;++l<c;)h[p+l]=t[l];for(;++a<s;)(f||o<i)&&(h[p+r[a]]=e[o++]);return h}function countHolders(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function noop(){}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper;var getData=metaMap?function(e){return metaMap.get(e)}:noop,realNames={},objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function getFuncName(e){for(var t=e.name+"",r=realNames[t],n=hasOwnProperty$2.call(realNames,t)?r.length:0;n--;){var o=r[n],i=o.func;if(null==i||i==e)return o.name}return t}function LodashWrapper(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function copyArray(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function wrapperClone(e){if(e instanceof LazyWrapper)return e.clone();var t=new LodashWrapper(e.__wrapped__,e.__chain__);return t.__actions__=copyArray(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper;var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function lodash(e){if(isObjectLike(e)&&!isArray(e)&&!(e instanceof LazyWrapper)){if(e instanceof LodashWrapper)return e;if(hasOwnProperty$3.call(e,"__wrapped__"))return wrapperClone(e)}return new LodashWrapper(e)}function isLaziable(e){var t=getFuncName(e),r=lodash[t];if("function"!=typeof r||!(t in LazyWrapper.prototype))return!1;if(e===r)return!0;var n=getData(r);return!!n&&e===n[0]}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(e){var t=0,r=0;return function(){var n=nativeNow(),o=HOT_SPAN-(n-r);if(r=n,o>0){if(++t>=HOT_COUNT)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var setData=shortOut(baseSetData),reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(e){var t=e.match(reWrapDetails);return t?t[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(reWrapComment,"{\n/* [wrapped with "+t+"] */\n")}function constant(e){return function(){return e}}var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),baseSetToString=defineProperty?function(e,t){return defineProperty(e,"toString",{configurable:!0,enumerable:!1,value:constant(t),writable:!0})}:identity,setToString=shortOut(baseSetToString);function arrayEach(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function baseFindIndex(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function baseIsNaN(e){return e!=e}function strictIndexOf(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function baseIndexOf(e,t,r){return t==t?strictIndexOf(e,t,r):baseFindIndex(e,baseIsNaN,r)}function arrayIncludes(e,t){return!(null==e||!e.length)&&baseIndexOf(e,t,0)>-1}var WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG$1],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]];function updateWrapDetails(e,t){return arrayEach(wrapFlags,function(r){var n="_."+r[0];t&r[1]&&!arrayIncludes(e,n)&&e.push(n)}),e.sort()}function setWrapToString(e,t,r){var n=t+"";return setToString(e,insertWrapDetails(n,updateWrapDetails(getWrapDetails(n),r)))}var WRAP_BIND_FLAG$2=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$1=8,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(e,t,r,n,o,i,a,s,l,c){var u=t&WRAP_CURRY_FLAG$1;t|=u?WRAP_PARTIAL_FLAG$1:WRAP_PARTIAL_RIGHT_FLAG$1,(t&=~(u?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$1))&WRAP_CURRY_BOUND_FLAG||(t&=~(WRAP_BIND_FLAG$2|WRAP_BIND_KEY_FLAG$1));var h=[e,t,o,u?i:void 0,u?a:void 0,u?void 0:i,u?void 0:a,s,l,c],f=r.apply(void 0,h);return isLaziable(e)&&setData(f,h),f.placeholder=n,setWrapToString(f,e,t)}function getHolder(e){return e.placeholder}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&e>-1&&e%1==0&&e<t}var nativeMin=Math.min;function reorder(e,t){for(var r=e.length,n=nativeMin(t.length,r),o=copyArray(e);n--;){var i=t[n];e[n]=isIndex(i,r)?o[i]:void 0}return e}var PLACEHOLDER="__lodash_placeholder__";function replaceHolders(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r];a!==t&&a!==PLACEHOLDER||(e[r]=PLACEHOLDER,i[o++]=r)}return i}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$2=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG$1=512;function createHybrid(e,t,r,n,o,i,a,s,l,c){var u=t&WRAP_ARY_FLAG$1,h=t&WRAP_BIND_FLAG$3,f=t&WRAP_BIND_KEY_FLAG$2,p=t&(WRAP_CURRY_FLAG$2|WRAP_CURRY_RIGHT_FLAG$1),d=t&WRAP_FLIP_FLAG$1,m=f?void 0:createCtor(e);return function g(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(p)var _=getHolder(g),x=countHolders(y,_);if(n&&(y=composeArgs(y,n,o,p)),i&&(y=composeArgsRight(y,i,a,p)),v-=x,p&&v<c){var w=replaceHolders(y,_);return createRecurry(e,t,createHybrid,g.placeholder,r,y,w,s,l,c-v)}var A=h?r:this,$=f?A[e]:e;return v=y.length,s?y=reorder(y,s):d&&v>1&&y.reverse(),u&&l<v&&(y.length=l),this&&this!==root&&this instanceof g&&($=m||createCtor($)),$.apply(A,y)}}function createCurry(e,t,r){var n=createCtor(e);return function o(){for(var i=arguments.length,a=Array(i),s=i,l=getHolder(o);s--;)a[s]=arguments[s];var c=i<3&&a[0]!==l&&a[i-1]!==l?[]:replaceHolders(a,l);return(i-=c.length)<r?createRecurry(e,t,createHybrid,o.placeholder,void 0,a,c,void 0,void 0,r-i):apply(this&&this!==root&&this instanceof o?n:e,this,a)}}var WRAP_BIND_FLAG$4=1;function createPartial(e,t,r,n){var o=t&WRAP_BIND_FLAG$4,i=createCtor(e);return function t(){for(var a=-1,s=arguments.length,l=-1,c=n.length,u=Array(c+s),h=this&&this!==root&&this instanceof t?i:e;++l<c;)u[l]=n[l];for(;s--;)u[l++]=arguments[++a];return apply(h,o?r:this,u)}}var PLACEHOLDER$1="__lodash_placeholder__",WRAP_BIND_FLAG$5=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$3=8,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,nativeMin$1=Math.min;function mergeData(e,t){var r=e[1],n=t[1],o=r|n,i=o<(WRAP_BIND_FLAG$5|WRAP_BIND_KEY_FLAG$3|WRAP_ARY_FLAG$2),a=n==WRAP_ARY_FLAG$2&&r==WRAP_CURRY_FLAG$3||n==WRAP_ARY_FLAG$2&&r==WRAP_REARG_FLAG$1&&e[7].length<=t[8]||n==(WRAP_ARY_FLAG$2|WRAP_REARG_FLAG$1)&&t[7].length<=t[8]&&r==WRAP_CURRY_FLAG$3;if(!i&&!a)return e;n&WRAP_BIND_FLAG$5&&(e[2]=t[2],o|=r&WRAP_BIND_FLAG$5?0:WRAP_CURRY_BOUND_FLAG$1);var s=t[3];if(s){var l=e[3];e[3]=l?composeArgs(l,s,t[4]):s,e[4]=l?replaceHolders(e[3],PLACEHOLDER$1):t[4]}return(s=t[5])&&(l=e[5],e[5]=l?composeArgsRight(l,s,t[6]):s,e[6]=l?replaceHolders(e[5],PLACEHOLDER$1):t[6]),(s=t[7])&&(e[7]=s),n&WRAP_ARY_FLAG$2&&(e[8]=null==e[8]?t[8]:nativeMin$1(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}var FUNC_ERROR_TEXT$1="Expected a function",WRAP_BIND_FLAG$6=1,WRAP_BIND_KEY_FLAG$4=2,WRAP_CURRY_FLAG$4=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,nativeMax$2=Math.max;function createWrap(e,t,r,n,o,i,a,s){var l=t&WRAP_BIND_KEY_FLAG$4;if(!l&&"function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$1);var c=n?n.length:0;if(c||(t&=~(WRAP_PARTIAL_FLAG$2|WRAP_PARTIAL_RIGHT_FLAG$2),n=o=void 0),a=void 0===a?a:nativeMax$2(toInteger(a),0),s=void 0===s?s:toInteger(s),c-=o?o.length:0,t&WRAP_PARTIAL_RIGHT_FLAG$2){var u=n,h=o;n=o=void 0}var f=l?void 0:getData(e),p=[e,t,r,n,o,u,h,i,a,s];if(f&&mergeData(p,f),e=p[0],t=p[1],r=p[2],n=p[3],o=p[4],!(s=p[9]=void 0===p[9]?l?0:e.length:nativeMax$2(p[9]-c,0))&&t&(WRAP_CURRY_FLAG$4|WRAP_CURRY_RIGHT_FLAG$2)&&(t&=~(WRAP_CURRY_FLAG$4|WRAP_CURRY_RIGHT_FLAG$2)),t&&t!=WRAP_BIND_FLAG$6)d=t==WRAP_CURRY_FLAG$4||t==WRAP_CURRY_RIGHT_FLAG$2?createCurry(e,t,s):t!=WRAP_PARTIAL_FLAG$2&&t!=(WRAP_BIND_FLAG$6|WRAP_PARTIAL_FLAG$2)||o.length?createHybrid.apply(void 0,p):createPartial(e,t,r,n);else var d=createBind(e,t,r);return setWrapToString((f?baseSetData:setData)(d,p),e,t)}var WRAP_ARY_FLAG$3=128;function ary(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,createWrap(e,WRAP_ARY_FLAG$3,void 0,void 0,void 0,void 0,t)}function baseAssignValue(e,t,r){"__proto__"==t&&defineProperty?defineProperty(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function eq(e,t){return e===t||e!=e&&t!=t}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function assignValue(e,t,r){var n=e[t];hasOwnProperty$4.call(e,t)&&eq(n,r)&&(void 0!==r||t in e)||baseAssignValue(e,t,r)}function copyObject(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=n?n(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),o?baseAssignValue(r,s,l):assignValue(r,s,l)}return r}var nativeMax$3=Math.max;function overRest(e,t,r){return t=nativeMax$3(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=nativeMax$3(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),apply(e,this,s)}}function baseRest(e,t){return setToString(overRest(e,t,identity),e+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER$1}function isArrayLike(e){return null!=e&&isLength(e.length)&&!isFunction(e)}function isIterateeCall(e,t,r){if(!isObject(r))return!1;var n=typeof t;return!!("number"==n?isArrayLike(r)&&isIndex(t,r.length):"string"==n&&t in r)&&eq(r[t],e)}function createAssigner(e){return baseRest(function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&isIterateeCall(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var s=r[n];s&&e(t,s,n,i)}return t})}var objectProto$6=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$6)}function baseTimes(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag}var objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty,propertyIsEnumerable=objectProto$7.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$5.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")};function stubFalse(){return!1}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer=moduleExports?root.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(t){return e(t)}}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{return freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray(e),n=!r&&isArguments(e),o=!r&&!n&&isBuffer(e),i=!r&&!n&&!o&&isTypedArray(e),a=r||n||o||i,s=a?baseTimes(e.length,String):[],l=s.length;for(var c in e)!t&&!hasOwnProperty$6.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||isIndex(c,l))||s.push(c);return s}function overArg(e,t){return function(r){return e(t(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$9=Object.prototype,hasOwnProperty$7=objectProto$9.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$7.call(e,r)&&"constructor"!=r&&t.push(r);return t}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}var objectProto$a=Object.prototype,hasOwnProperty$8=objectProto$a.hasOwnProperty,assign=createAssigner(function(e,t){if(isPrototype(t)||isArrayLike(t))copyObject(t,keys(t),e);else for(var r in t)hasOwnProperty$8.call(t,r)&&assignValue(e,r,t[r])});function nativeKeysIn(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty;function baseKeysIn(e){if(!isObject(e))return nativeKeysIn(e);var t=isPrototype(e),r=[];for(var n in e)("constructor"!=n||!t&&hasOwnProperty$9.call(e,n))&&r.push(n);return r}function keysIn$1(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var assignIn=createAssigner(function(e,t){copyObject(t,keysIn$1(t),e)}),assignInWith=createAssigner(function(e,t,r,n){copyObject(t,keysIn$1(t),e,n)}),assignWith=createAssigner(function(e,t,r,n){copyObject(t,keys(t),e,n)}),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol(e))||reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function hashGet(e){var t=this.__data__;if(nativeCreate){var r=t[e];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty$a.call(t,e)?t[e]:void 0}var objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function hashHas(e){var t=this.__data__;return nativeCreate?void 0!==t[e]:hasOwnProperty$b.call(t,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq(e[r][0],t))return r;return-1}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet;var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,r=assocIndexOf(t,e);return!(r<0||(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,0))}function listCacheGet(e){var t=this.__data__,r=assocIndexOf(t,e);return r<0?void 0:t[r][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,t){var r=this.__data__,n=assocIndexOf(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function getMapData(e,t){var r=e.__data__;return isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}function mapCacheDelete(e){var t=getMapData(this,e).delete(e);return this.size-=t?1:0,t}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,t){var r=getMapData(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$2);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize(e,function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e}),r=t.cache;return t}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rePropName,function(e,r,n,o){t.push(n?o.replace(reEscapeChar,"$1"):r||e)}),t});function toString(e){return null==e?"":baseToString(e)}function castPath(e,t){return isArray(e)?e:isKey(e,t)?[e]:stringToPath(toString(e))}var INFINITY$2=1/0;function toKey(e){if("string"==typeof e||isSymbol(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$2?"-0":t}function baseGet(e,t){for(var r=0,n=(t=castPath(t,e)).length;null!=e&&r<n;)e=e[toKey(t[r++])];return r&&r==n?e:void 0}function get(e,t,r){var n=null==e?void 0:baseGet(e,t);return void 0===n?r:n}function baseAt(e,t){for(var r=-1,n=t.length,o=Array(n),i=null==e;++r<n;)o[r]=i?void 0:get(e,t[r]);return o}function arrayPush(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var spreadableSymbol=Symbol$1?Symbol$1.isConcatSpreadable:void 0;function isFlattenable(e){return isArray(e)||isArguments(e)||!!(spreadableSymbol&&e&&e[spreadableSymbol])}function baseFlatten(e,t,r,n,o){var i=-1,a=e.length;for(r||(r=isFlattenable),o||(o=[]);++i<a;){var s=e[i];t>0&&r(s)?t>1?baseFlatten(s,t-1,r,n,o):arrayPush(o,s):n||(o[o.length]=s)}return o}function flatten(e){return null!=e&&e.length?baseFlatten(e,1):[]}function flatRest(e){return setToString(overRest(e,void 0,flatten),e+"")}var at=flatRest(baseAt),getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$1="[object Object]",funcProto$2=Function.prototype,objectProto$e=Object.prototype,funcToString$2=funcProto$2.toString,hasOwnProperty$c=objectProto$e.hasOwnProperty,objectCtorString=funcToString$2.call(Object);function isPlainObject(e){if(!isObjectLike(e)||baseGetTag(e)!=objectTag$1)return!1;var t=getPrototype(e);if(null===t)return!0;var r=hasOwnProperty$c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&funcToString$2.call(r)==objectCtorString}var domExcTag="[object DOMException]",errorTag$1="[object Error]";function isError(e){if(!isObjectLike(e))return!1;var t=baseGetTag(e);return t==errorTag$1||t==domExcTag||"string"==typeof e.message&&"string"==typeof e.name&&!isPlainObject(e)}var attempt=baseRest(function(e,t){try{return apply(e,void 0,t)}catch(e){return isError(e)?e:new Error(e)}}),FUNC_ERROR_TEXT$3="Expected a function";function before(e,t){var r;if("function"!=typeof t)throw new TypeError(FUNC_ERROR_TEXT$3);return e=toInteger(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var WRAP_BIND_FLAG$7=1,WRAP_PARTIAL_FLAG$3=32,bind=baseRest(function(e,t,r){var n=WRAP_BIND_FLAG$7;if(r.length){var o=replaceHolders(r,getHolder(bind));n|=WRAP_PARTIAL_FLAG$3}return createWrap(e,n,t,r,o)});bind.placeholder={};var bindAll=flatRest(function(e,t){return arrayEach(t,function(t){t=toKey(t),baseAssignValue(e,t,bind(e[t],e))}),e}),WRAP_BIND_FLAG$8=1,WRAP_BIND_KEY_FLAG$5=2,WRAP_PARTIAL_FLAG$4=32,bindKey=baseRest(function(e,t,r){var n=WRAP_BIND_FLAG$8|WRAP_BIND_KEY_FLAG$5;if(r.length){var o=replaceHolders(r,getHolder(bindKey));n|=WRAP_PARTIAL_FLAG$4}return createWrap(t,n,e,r,o)});function baseSlice(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}function castSlice(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:baseSlice(e,t,r)}bindKey.placeholder={};var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(e){return reHasUnicode.test(e)}function asciiToArray(e){return e.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function createCaseFirst(e){return function(t){var r=hasUnicode(t=toString(t))?stringToArray(t):void 0,n=r?r[0]:t.charAt(0),o=r?castSlice(r,1).join(""):t.slice(1);return n[e]()+o}}var upperFirst=createCaseFirst("toUpperCase");function capitalize(e){return upperFirst(toString(e).toLowerCase())}function arrayReduce(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function basePropertyOf(e){return function(t){return null==e?void 0:e[t]}}var deburredLetters={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},deburrLetter=basePropertyOf(deburredLetters),reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsCombo$1="["+rsComboRange$2+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(e){return(e=toString(e))&&e.replace(reLatin,deburrLetter).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(e){return e.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(e){return reHasUnicodeWord.test(e)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange$2="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos="['\u2019]",rsBreak="["+rsBreakRange+"]",rsCombo$2="["+rsComboRange$3+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange$2+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$2+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ$2="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos+"(?:D|LL|M|RE|S|T|VE))?",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$2+"]?",rsOptJoin$1="(?:"+rsZWJ$2+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsEmoji="(?:"+[rsDingbat,rsRegional$1,rsSurrPair$1].join("|")+")"+rsSeq$1,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(e){return e.match(reUnicodeWord)||[]}function words(e,t,r){return e=toString(e),void 0===(t=r?void 0:t)?hasUnicodeWord(e)?unicodeWords(e):asciiWords(e):e.match(t)||[]}var rsApos$1="['\u2019]",reApos=RegExp(rsApos$1,"g");function createCompounder(e){return function(t){return arrayReduce(words(deburr(t).replace(reApos,"")),e,"")}}var camelCase=createCompounder(function(e,t,r){return t=t.toLowerCase(),e+(r?capitalize(t):t)});function castArray(){if(!arguments.length)return[];var e=arguments[0];return isArray(e)?e:[e]}var nativeMin$2=Math.min;function createRound(e){var t=Math[e];return function(e,r){if(e=toNumber(e),r=null==r?0:nativeMin$2(toInteger(r),292)){var n=(toString(e)+"e").split("e");return+((n=(toString(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var ceil=createRound("ceil");function chain(e){var t=lodash(e);return t.__chain__=!0,t}var nativeCeil=Math.ceil,nativeMax$4=Math.max;function chunk(e,t,r){t=(r?isIterateeCall(e,t,r):void 0===t)?1:nativeMax$4(toInteger(t),0);var n=null==e?0:e.length;if(!n||t<1)return[];for(var o=0,i=0,a=Array(nativeCeil(n/t));o<n;)a[i++]=baseSlice(e,o,o+=t);return a}function baseClamp(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}function clamp(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=toNumber(r))==r?r:0),void 0!==t&&(t=(t=toNumber(t))==t?t:0),baseClamp(toNumber(e),t,r)}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE=200;function stackSet(e,t){var r=this.__data__;if(r instanceof ListCache){var n=r.__data__;if(!Map$1||n.length<LARGE_ARRAY_SIZE-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MapCache(n)}return r.set(e,t),this.size=r.size,this}function Stack(e){var t=this.__data__=new ListCache(e);this.size=t.size}function baseAssign(e,t){return e&&copyObject(t,keys(t),e)}function baseAssignIn(e,t){return e&&copyObject(t,keysIn$1(t),e)}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var freeExports$2="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(e,t){if(t)return e.slice();var r=e.length,n=allocUnsafe?allocUnsafe(r):new e.constructor(r);return e.copy(n),n}function arrayFilter(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}function stubArray(){return[]}var objectProto$f=Object.prototype,propertyIsEnumerable$1=objectProto$f.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(e){return null==e?[]:(e=Object(e),arrayFilter(nativeGetSymbols(e),function(t){return propertyIsEnumerable$1.call(e,t)}))}:stubArray;function copySymbols(e,t){return copyObject(e,getSymbols(e),t)}var nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols$1?function(e){for(var t=[];e;)arrayPush(t,getSymbols(e)),e=getPrototype(e);return t}:stubArray;function copySymbolsIn(e,t){return copyObject(e,getSymbolsIn(e),t)}function baseGetAllKeys(e,t,r){var n=t(e);return isArray(e)?n:arrayPush(n,r(e))}function getAllKeys(e){return baseGetAllKeys(e,keys,getSymbols)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn$1,getSymbolsIn)}var DataView$1=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$1="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$1="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag=baseGetTag;(DataView$1&&getTag(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$1||Map$1&&getTag(new Map$1)!=mapTag$1||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$1||WeakMap$1&&getTag(new WeakMap$1)!=weakMapTag$1)&&(getTag=function(e){var t=baseGetTag(e),r=t==objectTag$2?e.constructor:void 0,n=r?toSource(r):"";if(n)switch(n){case dataViewCtorString:return dataViewTag$1;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag$1}return t});var getTag$1=getTag,objectProto$g=Object.prototype,hasOwnProperty$d=objectProto$g.hasOwnProperty;function initCloneArray(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&hasOwnProperty$d.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(e){var t=new e.constructor(e.byteLength);return new Uint8Array$1(t).set(new Uint8Array$1(e)),t}function cloneDataView(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var t=new e.constructor(e.source,reFlags.exec(e));return t.lastIndex=e.lastIndex,t}var symbolProto$1=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(e){return symbolValueOf?Object(symbolValueOf.call(e)):{}}function cloneTypedArray(e,t){var r=t?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,t,r){var n=e.constructor;switch(t){case arrayBufferTag$1:return cloneArrayBuffer(e);case boolTag$1:case dateTag$1:return new n(+e);case dataViewTag$2:return cloneDataView(e,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,r);case mapTag$2:return new n;case numberTag$1:case stringTag$1:return new n(e);case regexpTag$1:return cloneRegExp(e);case setTag$2:return new n;case symbolTag$1:return cloneSymbol(e)}}function initCloneObject(e){return"function"!=typeof e.constructor||isPrototype(e)?{}:baseCreate(getPrototype(e))}var mapTag$3="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag$1(e)==mapTag$3}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$3="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag$1(e)==setTag$3}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$2="[object Error]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$3="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",cloneableTags={};function baseClone(e,t,r,n,o,i){var a,s=t&CLONE_DEEP_FLAG,l=t&CLONE_FLAT_FLAG,c=t&CLONE_SYMBOLS_FLAG;if(r&&(a=o?r(e,n,o,i):r(e)),void 0!==a)return a;if(!isObject(e))return e;var u=isArray(e);if(u){if(a=initCloneArray(e),!s)return copyArray(e,a)}else{var h=getTag$1(e),f=h==funcTag$2||h==genTag$1;if(isBuffer(e))return cloneBuffer(e,s);if(h==objectTag$3||h==argsTag$2||f&&!o){if(a=l||f?{}:initCloneObject(e),!s)return l?copySymbolsIn(e,baseAssignIn(a,e)):copySymbols(e,baseAssign(a,e))}else{if(!cloneableTags[h])return o?e:{};a=initCloneByTag(e,h,s)}}i||(i=new Stack);var p=i.get(e);if(p)return p;if(i.set(e,a),isSet(e))return e.forEach(function(n){a.add(baseClone(n,t,r,n,e,i))}),a;if(isMap(e))return e.forEach(function(n,o){a.set(o,baseClone(n,t,r,o,e,i))}),a;var d=c?l?getAllKeysIn:getAllKeys:l?keysIn:keys,m=u?void 0:d(e);return arrayEach(m||e,function(n,o){m&&(n=e[o=n]),assignValue(a,o,baseClone(n,t,r,o,e,i))}),a}cloneableTags[argsTag$2]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$2]=cloneableTags[dataViewTag$3]=cloneableTags[boolTag$2]=cloneableTags[dateTag$2]=cloneableTags[float32Tag$2]=cloneableTags[float64Tag$2]=cloneableTags[int8Tag$2]=cloneableTags[int16Tag$2]=cloneableTags[int32Tag$2]=cloneableTags[mapTag$4]=cloneableTags[numberTag$2]=cloneableTags[objectTag$3]=cloneableTags[regexpTag$2]=cloneableTags[setTag$4]=cloneableTags[stringTag$2]=cloneableTags[symbolTag$2]=cloneableTags[uint8Tag$2]=cloneableTags[uint8ClampedTag$2]=cloneableTags[uint16Tag$2]=cloneableTags[uint32Tag$2]=!0,cloneableTags[errorTag$2]=cloneableTags[funcTag$2]=cloneableTags[weakMapTag$2]=!1;var CLONE_SYMBOLS_FLAG$1=4;function clone(e){return baseClone(e,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$2=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$2)}var CLONE_DEEP_FLAG$2=1,CLONE_SYMBOLS_FLAG$3=4;function cloneDeepWith(e,t){return baseClone(e,CLONE_DEEP_FLAG$2|CLONE_SYMBOLS_FLAG$3,t="function"==typeof t?t:void 0)}var CLONE_SYMBOLS_FLAG$4=4;function cloneWith(e,t){return baseClone(e,CLONE_SYMBOLS_FLAG$4,t="function"==typeof t?t:void 0)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function compact(e){for(var t=-1,r=null==e?0:e.length,n=0,o=[];++t<r;){var i=e[t];i&&(o[n++]=i)}return o}function concat(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return arrayPush(isArray(r)?copyArray(r):[r],baseFlatten(t,1))}var HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED$2),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new MapCache;++t<r;)this.add(e[t])}function arraySome(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function cacheHas(e,t){return e.has(t)}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas;var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,r,n,o,i){var a=r&COMPARE_PARTIAL_FLAG,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,h=!0,f=r&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var p=e[u],d=t[u];if(n)var m=a?n(d,p,u,t,e,i):n(p,d,u,e,t,i);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!arraySome(t,function(e,t){if(!cacheHas(f,t)&&(p===e||o(p,e,r,n,i)))return f.push(t)})){h=!1;break}}else if(p!==d&&!o(p,d,r,n,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function mapToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$3="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",symbolTag$3="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag(e,t,r,n,o,i,a){switch(r){case dataViewTag$4:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$3:return!(e.byteLength!=t.byteLength||!i(new Uint8Array$1(e),new Uint8Array$1(t)));case boolTag$3:case dateTag$3:case numberTag$3:return eq(+e,+t);case errorTag$3:return e.name==t.name&&e.message==t.message;case regexpTag$3:case stringTag$3:return e==t+"";case mapTag$5:var s=mapToArray;case setTag$5:var l=n&COMPARE_PARTIAL_FLAG$1;if(s||(s=setToArray),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=COMPARE_UNORDERED_FLAG$1,a.set(e,t);var u=equalArrays(s(e),s(t),n,o,i,a);return a.delete(e),u;case symbolTag$3:if(symbolValueOf$1)return symbolValueOf$1.call(e)==symbolValueOf$1.call(t)}return!1}var COMPARE_PARTIAL_FLAG$2=1,objectProto$h=Object.prototype,hasOwnProperty$e=objectProto$h.hasOwnProperty;function equalObjects(e,t,r,n,o,i){var a=r&COMPARE_PARTIAL_FLAG$2,s=getAllKeys(e),l=s.length;if(l!=getAllKeys(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:hasOwnProperty$e.call(t,u)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var d=e[u=s[c]],m=t[u];if(n)var g=a?n(m,d,u,t,e,i):n(d,m,u,e,t,i);if(!(void 0===g?d===m||o(d,m,r,n,i):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return i.delete(e),i.delete(t),f}var COMPARE_PARTIAL_FLAG$3=1,argsTag$3="[object Arguments]",arrayTag$2="[object Array]",objectTag$4="[object Object]",objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty;function baseIsEqualDeep(e,t,r,n,o,i){var a=isArray(e),s=isArray(t),l=a?arrayTag$2:getTag$1(e),c=s?arrayTag$2:getTag$1(t),u=(l=l==argsTag$3?objectTag$4:l)==objectTag$4,h=(c=c==argsTag$3?objectTag$4:c)==objectTag$4,f=l==c;if(f&&isBuffer(e)){if(!isBuffer(t))return!1;a=!0,u=!1}if(f&&!u)return i||(i=new Stack),a||isTypedArray(e)?equalArrays(e,t,r,n,o,i):equalByTag(e,t,l,r,n,o,i);if(!(r&COMPARE_PARTIAL_FLAG$3)){var p=u&&hasOwnProperty$f.call(e,"__wrapped__"),d=h&&hasOwnProperty$f.call(t,"__wrapped__");if(p||d){var m=p?e.value():e,g=d?t.value():t;return i||(i=new Stack),o(m,g,r,n,i)}}return!!f&&(i||(i=new Stack),equalObjects(e,t,r,n,o,i))}function baseIsEqual(e,t,r,n,o){return e===t||(null==e||null==t||!isObjectLike(e)&&!isObjectLike(t)?e!=e&&t!=t:baseIsEqualDeep(e,t,r,n,baseIsEqual,o))}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=r[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Stack;if(n)var f=n(c,u,l,e,t,h);if(!(void 0===f?baseIsEqual(u,c,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,n,h):f))return!1}}return!0}function isStrictComparable(e){return e==e&&!isObject(e)}function getMatchData(e){for(var t=keys(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,isStrictComparable(o)]}return t}function matchesStrictComparable(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}function baseMatches(e){var t=getMatchData(e);return 1==t.length&&t[0][2]?matchesStrictComparable(t[0][0],t[0][1]):function(r){return r===e||baseIsMatch(r,e,t)}}function baseHasIn(e,t){return null!=e&&t in Object(e)}function hasPath(e,t,r){for(var n=-1,o=(t=castPath(t,e)).length,i=!1;++n<o;){var a=toKey(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&isLength(o)&&isIndex(a,o)&&(isArray(e)||isArguments(e))}function hasIn(e,t){return null!=e&&hasPath(e,t,baseHasIn)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(e,t){return isKey(e)&&isStrictComparable(t)?matchesStrictComparable(toKey(e),t):function(r){var n=get(r,e);return void 0===n&&n===t?hasIn(r,e):baseIsEqual(t,n,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}function baseProperty(e){return function(t){return null==t?void 0:t[e]}}function basePropertyDeep(e){return function(t){return baseGet(t,e)}}function property(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function baseIteratee(e){return"function"==typeof e?e:null==e?identity:"object"==typeof e?isArray(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property(e)}var FUNC_ERROR_TEXT$4="Expected a function";function cond(e){var t=null==e?0:e.length,r=baseIteratee;return e=t?arrayMap(e,function(e){if("function"!=typeof e[1])throw new TypeError(FUNC_ERROR_TEXT$4);return[r(e[0]),e[1]]}):[],baseRest(function(r){for(var n=-1;++n<t;){var o=e[n];if(apply(o[0],this,r))return apply(o[1],this,r)}})}function baseConformsTo(e,t,r){var n=r.length;if(null==e)return!n;for(e=Object(e);n--;){var o=r[n],i=t[o],a=e[o];if(void 0===a&&!(o in e)||!i(a))return!1}return!0}function baseConforms(e){var t=keys(e);return function(r){return baseConformsTo(r,e,t)}}var CLONE_DEEP_FLAG$3=1;function conforms(e){return baseConforms(baseClone(e,CLONE_DEEP_FLAG$3))}function conformsTo(e,t){return null==t||baseConformsTo(e,t,keys(t))}function arrayAggregator(e,t,r,n){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(n,a,r(a),e)}return n}function createBaseFor(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===r(i[l],l,i))break}return t}}var baseFor=createBaseFor();function baseForOwn(e,t){return e&&baseFor(e,t,keys)}function createBaseEach(e,t){return function(r,n){if(null==r)return r;if(!isArrayLike(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}var baseEach=createBaseEach(baseForOwn);function baseAggregator(e,t,r,n){return baseEach(e,function(e,o,i){t(n,e,r(e),i)}),n}function createAggregator(e,t){return function(r,n){var o=isArray(r)?arrayAggregator:baseAggregator,i=t?t():{};return o(r,e,baseIteratee(n,2),i)}}var objectProto$j=Object.prototype,hasOwnProperty$g=objectProto$j.hasOwnProperty,countBy=createAggregator(function(e,t,r){hasOwnProperty$g.call(e,r)?++e[r]:baseAssignValue(e,r,1)});function create(e,t){var r=baseCreate(e);return null==t?r:baseAssign(r,t)}var WRAP_CURRY_FLAG$5=8;function curry(e,t,r){var n=createWrap(e,WRAP_CURRY_FLAG$5,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=curry.placeholder,n}curry.placeholder={};var WRAP_CURRY_RIGHT_FLAG$3=16;function curryRight(e,t,r){var n=createWrap(e,WRAP_CURRY_RIGHT_FLAG$3,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return n.placeholder=curryRight.placeholder,n}curryRight.placeholder={};var now=function(){return root.Date.now()},FUNC_ERROR_TEXT$5="Expected a function",nativeMax$5=Math.max,nativeMin$3=Math.min;function debounce(e,t,r){var n,o,i,a,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$5);function p(t){var r=n,i=o;return n=o=void 0,c=t,a=e.apply(i,r)}function d(e){var r=e-l;return void 0===l||r>=t||r<0||h&&e-c>=i}function m(){var e=now();if(d(e))return g(e);s=setTimeout(m,function(e){var r=t-(e-l);return h?nativeMin$3(r,i-(e-c)):r}(e))}function g(e){return s=void 0,f&&n?p(e):(n=o=void 0,a)}function v(){var e=now(),r=d(e);if(n=arguments,o=this,l=e,r){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):a}(l);if(h)return s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=toNumber(t)||0,isObject(r)&&(u=!!r.leading,i=(h="maxWait"in r)?nativeMax$5(toNumber(r.maxWait)||0,t):i,f="trailing"in r?!!r.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=o=s=void 0},v.flush=function(){return void 0===s?a:g(now())},v}function defaultTo(e,t){return null==e||e!=e?t:e}var objectProto$k=Object.prototype,hasOwnProperty$h=objectProto$k.hasOwnProperty,defaults=baseRest(function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&isIterateeCall(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],a=keysIn$1(i),s=-1,l=a.length;++s<l;){var c=a[s],u=e[c];(void 0===u||eq(u,objectProto$k[c])&&!hasOwnProperty$h.call(e,c))&&(e[c]=i[c])}return e});function assignMergeValue(e,t,r){(void 0===r||eq(e[t],r))&&(void 0!==r||t in e)||baseAssignValue(e,t,r)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function safeGet(e,t){if("__proto__"!=t)return e[t]}function toPlainObject(e){return copyObject(e,keysIn$1(e))}function baseMergeDeep(e,t,r,n,o,i,a){var s=safeGet(e,r),l=safeGet(t,r),c=a.get(l);if(c)assignMergeValue(e,r,c);else{var u=i?i(s,l,r+"",e,t,a):void 0,h=void 0===u;if(h){var f=isArray(l),p=!f&&isBuffer(l),d=!f&&!p&&isTypedArray(l);u=l,f||p||d?isArray(s)?u=s:isArrayLikeObject(s)?u=copyArray(s):p?(h=!1,u=cloneBuffer(l,!0)):d?(h=!1,u=cloneTypedArray(l,!0)):u=[]:isPlainObject(l)||isArguments(l)?(u=s,isArguments(s)?u=toPlainObject(s):isObject(s)&&!isFunction(s)||(u=initCloneObject(l))):h=!1}h&&(a.set(l,u),o(u,l,n,i,a),a.delete(l)),assignMergeValue(e,r,u)}}function baseMerge(e,t,r,n,o){e!==t&&baseFor(t,function(i,a){if(isObject(i))o||(o=new Stack),baseMergeDeep(e,t,a,r,baseMerge,n,o);else{var s=n?n(safeGet(e,a),i,a+"",e,t,o):void 0;void 0===s&&(s=i),assignMergeValue(e,a,s)}},keysIn$1)}function customDefaultsMerge(e,t,r,n,o,i){return isObject(e)&&isObject(t)&&(i.set(t,e),baseMerge(e,t,void 0,customDefaultsMerge,i),i.delete(t)),e}var mergeWith=createAssigner(function(e,t,r,n){baseMerge(e,t,r,n)}),defaultsDeep=baseRest(function(e){return e.push(void 0,customDefaultsMerge),apply(mergeWith,void 0,e)}),FUNC_ERROR_TEXT$6="Expected a function";function baseDelay(e,t,r){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$6);return setTimeout(function(){e.apply(void 0,r)},t)}var defer=baseRest(function(e,t){return baseDelay(e,1,t)}),delay=baseRest(function(e,t,r){return baseDelay(e,toNumber(t)||0,r)});function arrayIncludesWith(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}var LARGE_ARRAY_SIZE$1=200;function baseDifference(e,t,r,n){var o=-1,i=arrayIncludes,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;r&&(t=arrayMap(t,baseUnary(r))),n?(i=arrayIncludesWith,a=!1):t.length>=LARGE_ARRAY_SIZE$1&&(i=cacheHas,a=!1,t=new SetCache(t));e:for(;++o<s;){var u=e[o],h=null==r?u:r(u);if(u=n||0!==u?u:0,a&&h==h){for(var f=c;f--;)if(t[f]===h)continue e;l.push(u)}else i(t,h,n)||l.push(u)}return l}var difference=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0)):[]});function last(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var differenceBy=baseRest(function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=void 0),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),baseIteratee(r,2)):[]}),differenceWith=baseRest(function(e,t){var r=last(t);return isArrayLikeObject(r)&&(r=void 0),isArrayLikeObject(e)?baseDifference(e,baseFlatten(t,1,isArrayLikeObject,!0),void 0,r):[]}),divide=createMathOperation(function(e,t){return e/t},1);function drop(e,t,r){var n=null==e?0:e.length;return n?baseSlice(e,(t=r||void 0===t?1:toInteger(t))<0?0:t,n):[]}function dropRight(e,t,r){var n=null==e?0:e.length;return n?baseSlice(e,0,(t=n-(t=r||void 0===t?1:toInteger(t)))<0?0:t):[]}function baseWhile(e,t,r,n){for(var o=e.length,i=n?o:-1;(n?i--:++i<o)&&t(e[i],i,e););return r?baseSlice(e,n?0:i,n?i+1:o):baseSlice(e,n?i+1:0,n?o:i)}function dropRightWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!0,!0):[]}function dropWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!0):[]}function castFunction(e){return"function"==typeof e?e:identity}function forEach(e,t){return(isArray(e)?arrayEach:baseEach)(e,castFunction(t))}function arrayEachRight(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}var baseForRight=createBaseFor(!0);function baseForOwnRight(e,t){return e&&baseForRight(e,t,keys)}var baseEachRight=createBaseEach(baseForOwnRight,!0);function forEachRight(e,t){return(isArray(e)?arrayEachRight:baseEachRight)(e,castFunction(t))}function endsWith(e,t,r){e=toString(e),t=baseToString(t);var n=e.length,o=r=void 0===r?n:baseClamp(toInteger(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t}function baseToPairs(e,t){return arrayMap(t,function(t){return[t,e[t]]})}function setToPairs(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=[e,e]}),r}var mapTag$6="[object Map]",setTag$6="[object Set]";function createToPairs(e){return function(t){var r=getTag$1(t);return r==mapTag$6?mapToArray(t):r==setTag$6?setToPairs(t):baseToPairs(t,e(t))}}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn$1),htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},escapeHtmlChar=basePropertyOf(htmlEscapes),reUnescapedHtml=/[&<>"']/g,reHasUnescapedHtml=RegExp(reUnescapedHtml.source);function escape(e){return(e=toString(e))&&reHasUnescapedHtml.test(e)?e.replace(reUnescapedHtml,escapeHtmlChar):e}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar$1.source);function escapeRegExp(e){return(e=toString(e))&&reHasRegExpChar.test(e)?e.replace(reRegExpChar$1,"\\$&"):e}function arrayEvery(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function baseEvery(e,t){var r=!0;return baseEach(e,function(e,n,o){return r=!!t(e,n,o)}),r}function every(e,t,r){var n=isArray(e)?arrayEvery:baseEvery;return r&&isIterateeCall(e,t,r)&&(t=void 0),n(e,baseIteratee(t,3))}var MAX_ARRAY_LENGTH$1=4294967295;function toLength(e){return e?baseClamp(toInteger(e),0,MAX_ARRAY_LENGTH$1):0}function baseFill(e,t,r,n){var o=e.length;for((r=toInteger(r))<0&&(r=-r>o?0:o+r),(n=void 0===n||n>o?o:toInteger(n))<0&&(n+=o),n=r>n?0:toLength(n);r<n;)e[r++]=t;return e}function fill(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(r=0,n=o),baseFill(e,t,r,n)):[]}function baseFilter(e,t){var r=[];return baseEach(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}function filter(e,t){return(isArray(e)?arrayFilter:baseFilter)(e,baseIteratee(t,3))}function createFind(e){return function(t,r,n){var o=Object(t);if(!isArrayLike(t)){var i=baseIteratee(r,3);t=keys(t),r=function(e){return i(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[i?t[a]:a]:void 0}}var nativeMax$6=Math.max;function findIndex(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:toInteger(r);return o<0&&(o=nativeMax$6(n+o,0)),baseFindIndex(e,baseIteratee(t,3),o)}var find=createFind(findIndex);function baseFindKey(e,t,r){var n;return r(e,function(e,r,o){if(t(e,r,o))return n=r,!1}),n}function findKey(e,t){return baseFindKey(e,baseIteratee(t,3),baseForOwn)}var nativeMax$7=Math.max,nativeMin$4=Math.min;function findLastIndex(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return void 0!==r&&(o=toInteger(r),o=r<0?nativeMax$7(n+o,0):nativeMin$4(o,n-1)),baseFindIndex(e,baseIteratee(t,3),o,!0)}var findLast=createFind(findLastIndex);function findLastKey(e,t){return baseFindKey(e,baseIteratee(t,3),baseForOwnRight)}function head(e){return e&&e.length?e[0]:void 0}function baseMap(e,t){var r=-1,n=isArrayLike(e)?Array(e.length):[];return baseEach(e,function(e,o,i){n[++r]=t(e,o,i)}),n}function map(e,t){return(isArray(e)?arrayMap:baseMap)(e,baseIteratee(t,3))}function flatMap(e,t){return baseFlatten(map(e,t),1)}var INFINITY$3=1/0;function flatMapDeep(e,t){return baseFlatten(map(e,t),INFINITY$3)}function flatMapDepth(e,t,r){return r=void 0===r?1:toInteger(r),baseFlatten(map(e,t),r)}var INFINITY$4=1/0;function flattenDeep(e){return null!=e&&e.length?baseFlatten(e,INFINITY$4):[]}function flattenDepth(e,t){return null!=e&&e.length?baseFlatten(e,t=void 0===t?1:toInteger(t)):[]}var WRAP_FLIP_FLAG$2=512;function flip(e){return createWrap(e,WRAP_FLIP_FLAG$2)}var floor=createRound("floor"),FUNC_ERROR_TEXT$7="Expected a function",WRAP_CURRY_FLAG$6=8,WRAP_PARTIAL_FLAG$5=32,WRAP_ARY_FLAG$4=128,WRAP_REARG_FLAG$2=256;function createFlow(e){return flatRest(function(t){var r=t.length,n=r,o=LodashWrapper.prototype.thru;for(e&&t.reverse();n--;){var i=t[n];if("function"!=typeof i)throw new TypeError(FUNC_ERROR_TEXT$7);if(o&&!a&&"wrapper"==getFuncName(i))var a=new LodashWrapper([],!0)}for(n=a?n:r;++n<r;){var s=getFuncName(i=t[n]),l="wrapper"==s?getData(i):void 0;a=l&&isLaziable(l[0])&&l[1]==(WRAP_ARY_FLAG$4|WRAP_CURRY_FLAG$6|WRAP_PARTIAL_FLAG$5|WRAP_REARG_FLAG$2)&&!l[4].length&&1==l[9]?a[getFuncName(l[0])].apply(a,l[3]):1==i.length&&isLaziable(i)?a[s]():a.thru(i)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&isArray(n))return a.plant(n).value();for(var o=0,i=r?t[o].apply(this,e):n;++o<r;)i=t[o].call(this,i);return i}})}var flow=createFlow(),flowRight=createFlow(!0);function forIn(e,t){return null==e?e:baseFor(e,castFunction(t),keysIn$1)}function forInRight(e,t){return null==e?e:baseForRight(e,castFunction(t),keysIn$1)}function forOwn(e,t){return e&&baseForOwn(e,castFunction(t))}function forOwnRight(e,t){return e&&baseForOwnRight(e,castFunction(t))}function fromPairs(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var o=e[t];n[o[0]]=o[1]}return n}function baseFunctions(e,t){return arrayFilter(t,function(t){return isFunction(e[t])})}function functions(e){return null==e?[]:baseFunctions(e,keys(e))}function functionsIn(e){return null==e?[]:baseFunctions(e,keysIn$1(e))}var objectProto$l=Object.prototype,hasOwnProperty$i=objectProto$l.hasOwnProperty,groupBy=createAggregator(function(e,t,r){hasOwnProperty$i.call(e,r)?e[r].push(t):baseAssignValue(e,r,[t])});function baseGt(e,t){return e>t}function createRelationalOperation(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=toNumber(t),r=toNumber(r)),e(t,r)}}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(e,t){return e>=t}),objectProto$m=Object.prototype,hasOwnProperty$j=objectProto$m.hasOwnProperty;function baseHas(e,t){return null!=e&&hasOwnProperty$j.call(e,t)}function has(e,t){return null!=e&&hasPath(e,t,baseHas)}var nativeMax$8=Math.max,nativeMin$5=Math.min;function baseInRange(e,t,r){return e>=nativeMin$5(t,r)&&e<nativeMax$8(t,r)}function inRange(e,t,r){return t=toFinite(t),void 0===r?(r=t,t=0):r=toFinite(r),baseInRange(e=toNumber(e),t,r)}var stringTag$4="[object String]";function isString(e){return"string"==typeof e||!isArray(e)&&isObjectLike(e)&&baseGetTag(e)==stringTag$4}function baseValues(e,t){return arrayMap(t,function(t){return e[t]})}function values(e){return null==e?[]:baseValues(e,keys(e))}var nativeMax$9=Math.max;function includes(e,t,r,n){e=isArrayLike(e)?e:values(e),r=r&&!n?toInteger(r):0;var o=e.length;return r<0&&(r=nativeMax$9(o+r,0)),isString(e)?r<=o&&e.indexOf(t,r)>-1:!!o&&baseIndexOf(e,t,r)>-1}var nativeMax$a=Math.max;function indexOf(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=null==r?0:toInteger(r);return o<0&&(o=nativeMax$a(n+o,0)),baseIndexOf(e,t,o)}function initial(e){return null!=e&&e.length?baseSlice(e,0,-1):[]}var nativeMin$6=Math.min;function baseIntersection(e,t,r){for(var n=r?arrayIncludesWith:arrayIncludes,o=e[0].length,i=e.length,a=i,s=Array(i),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=arrayMap(u,baseUnary(t))),l=nativeMin$6(u.length,l),s[a]=!r&&(t||o>=120&&u.length>=120)?new SetCache(a&&u):void 0}u=e[0];var h=-1,f=s[0];e:for(;++h<o&&c.length<l;){var p=u[h],d=t?t(p):p;if(p=r||0!==p?p:0,!(f?cacheHas(f,d):n(c,d,r))){for(a=i;--a;){var m=s[a];if(!(m?cacheHas(m,d):n(e[a],d,r)))continue e}f&&f.push(d),c.push(p)}}return c}function castArrayLikeObject(e){return isArrayLikeObject(e)?e:[]}var intersection=baseRest(function(e){var t=arrayMap(e,castArrayLikeObject);return t.length&&t[0]===e[0]?baseIntersection(t):[]}),intersectionBy=baseRest(function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return t===last(r)?t=void 0:r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,baseIteratee(t,2)):[]}),intersectionWith=baseRest(function(e){var t=last(e),r=arrayMap(e,castArrayLikeObject);return(t="function"==typeof t?t:void 0)&&r.pop(),r.length&&r[0]===e[0]?baseIntersection(r,void 0,t):[]});function baseInverter(e,t,r,n){return baseForOwn(e,function(e,o,i){t(n,r(e),o,i)}),n}function createInverter(e,t){return function(r,n){return baseInverter(r,e,t(n),{})}}var objectProto$n=Object.prototype,nativeObjectToString$2=objectProto$n.toString,invert=createInverter(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$2.call(t)),e[t]=r},constant(identity)),objectProto$o=Object.prototype,hasOwnProperty$k=objectProto$o.hasOwnProperty,nativeObjectToString$3=objectProto$o.toString,invertBy=createInverter(function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=nativeObjectToString$3.call(t)),hasOwnProperty$k.call(e,t)?e[t].push(r):e[t]=[r]},baseIteratee);function parent(e,t){return t.length<2?e:baseGet(e,baseSlice(t,0,-1))}function baseInvoke(e,t,r){var n=null==(e=parent(e,t=castPath(t,e)))?e:e[toKey(last(t))];return null==n?void 0:apply(n,e,r)}var invoke=baseRest(baseInvoke),invokeMap=baseRest(function(e,t,r){var n=-1,o="function"==typeof t,i=isArrayLike(e)?Array(e.length):[];return baseEach(e,function(e){i[++n]=o?apply(t,e,r):baseInvoke(e,t,r)}),i}),arrayBufferTag$4="[object ArrayBuffer]";function baseIsArrayBuffer(e){return isObjectLike(e)&&baseGetTag(e)==arrayBufferTag$4}var nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):baseIsArrayBuffer,boolTag$4="[object Boolean]";function isBoolean(e){return!0===e||!1===e||isObjectLike(e)&&baseGetTag(e)==boolTag$4}var dateTag$4="[object Date]";function baseIsDate(e){return isObjectLike(e)&&baseGetTag(e)==dateTag$4}var nodeIsDate=nodeUtil&&nodeUtil.isDate,isDate=nodeIsDate?baseUnary(nodeIsDate):baseIsDate;function isElement(e){return isObjectLike(e)&&1===e.nodeType&&!isPlainObject(e)}var mapTag$7="[object Map]",setTag$7="[object Set]",objectProto$p=Object.prototype,hasOwnProperty$l=objectProto$p.hasOwnProperty;function isEmpty(e){if(null==e)return!0;if(isArrayLike(e)&&(isArray(e)||"string"==typeof e||"function"==typeof e.splice||isBuffer(e)||isTypedArray(e)||isArguments(e)))return!e.length;var t=getTag$1(e);if(t==mapTag$7||t==setTag$7)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var r in e)if(hasOwnProperty$l.call(e,r))return!1;return!0}function isEqual(e,t){return baseIsEqual(e,t)}function isEqualWith(e,t,r){var n=(r="function"==typeof r?r:void 0)?r(e,t):void 0;return void 0===n?baseIsEqual(e,t,void 0,r):!!n}var nativeIsFinite=root.isFinite;function isFinite$1(e){return"number"==typeof e&&nativeIsFinite(e)}function isInteger(e){return"number"==typeof e&&e==toInteger(e)}function isMatch(e,t){return e===t||baseIsMatch(e,t,getMatchData(t))}function isMatchWith(e,t,r){return r="function"==typeof r?r:void 0,baseIsMatch(e,t,getMatchData(t),r)}var numberTag$4="[object Number]";function isNumber(e){return"number"==typeof e||isObjectLike(e)&&baseGetTag(e)==numberTag$4}function isNaN$1(e){return isNumber(e)&&e!=+e}var isMaskable=coreJsData?isFunction:stubFalse,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function isNative(e){if(isMaskable(e))throw new Error(CORE_ERROR_TEXT);return baseIsNative(e)}function isNil(e){return null==e}function isNull(e){return null===e}var regexpTag$4="[object RegExp]";function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==regexpTag$4}var nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp,MAX_SAFE_INTEGER$2=9007199254740991;function isSafeInteger(e){return isInteger(e)&&e>=-MAX_SAFE_INTEGER$2&&e<=MAX_SAFE_INTEGER$2}function isUndefined(e){return void 0===e}var weakMapTag$3="[object WeakMap]";function isWeakMap(e){return isObjectLike(e)&&getTag$1(e)==weakMapTag$3}var weakSetTag="[object WeakSet]";function isWeakSet(e){return isObjectLike(e)&&baseGetTag(e)==weakSetTag}var CLONE_DEEP_FLAG$4=1;function iteratee(e){return baseIteratee("function"==typeof e?e:baseClone(e,CLONE_DEEP_FLAG$4))}var arrayProto$1=Array.prototype,nativeJoin=arrayProto$1.join;function join(e,t){return null==e?"":nativeJoin.call(e,t)}var kebabCase=createCompounder(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),keyBy=createAggregator(function(e,t,r){baseAssignValue(e,r,t)});function strictLastIndexOf(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}var nativeMax$b=Math.max,nativeMin$7=Math.min;function lastIndexOf(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return void 0!==r&&(o=(o=toInteger(r))<0?nativeMax$b(n+o,0):nativeMin$7(o,n-1)),t==t?strictLastIndexOf(e,t,o):baseFindIndex(e,baseIsNaN,o,!0)}var lowerCase=createCompounder(function(e,t,r){return e+(r?" ":"")+t.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase");function baseLt(e,t){return e<t}var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(e,t){return e<=t});function mapKeys(e,t){var r={};return t=baseIteratee(t,3),baseForOwn(e,function(e,n,o){baseAssignValue(r,t(e,n,o),e)}),r}function mapValues(e,t){var r={};return t=baseIteratee(t,3),baseForOwn(e,function(e,n,o){baseAssignValue(r,n,t(e,n,o))}),r}var CLONE_DEEP_FLAG$5=1;function matches(e){return baseMatches(baseClone(e,CLONE_DEEP_FLAG$5))}var CLONE_DEEP_FLAG$6=1;function matchesProperty(e,t){return baseMatchesProperty(e,baseClone(t,CLONE_DEEP_FLAG$6))}function baseExtremum(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],a=t(i);if(null!=a&&(void 0===s?a==a&&!isSymbol(a):r(a,s)))var s=a,l=i}return l}function max(e){return e&&e.length?baseExtremum(e,identity,baseGt):void 0}function maxBy(e,t){return e&&e.length?baseExtremum(e,baseIteratee(t,2),baseGt):void 0}function baseSum(e,t){for(var r,n=-1,o=e.length;++n<o;){var i=t(e[n]);void 0!==i&&(r=void 0===r?i:r+i)}return r}var NAN$2=NaN;function baseMean(e,t){var r=null==e?0:e.length;return r?baseSum(e,t)/r:NAN$2}function mean(e){return baseMean(e,identity)}function meanBy(e,t){return baseMean(e,baseIteratee(t,2))}var merge=createAssigner(function(e,t,r){baseMerge(e,t,r)}),method=baseRest(function(e,t){return function(r){return baseInvoke(r,e,t)}}),methodOf=baseRest(function(e,t){return function(r){return baseInvoke(e,r,t)}});function min(e){return e&&e.length?baseExtremum(e,identity,baseLt):void 0}function minBy(e,t){return e&&e.length?baseExtremum(e,baseIteratee(t,2),baseLt):void 0}function mixin(e,t,r){var n=keys(t),o=baseFunctions(t,n),i=!(isObject(r)&&"chain"in r&&!r.chain),a=isFunction(e);return arrayEach(o,function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=copyArray(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,arrayPush([this.value()],arguments))})}),e}var multiply=createMathOperation(function(e,t){return e*t},1),FUNC_ERROR_TEXT$8="Expected a function";function negate(e){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$8);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function iteratorToArray(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}var mapTag$8="[object Map]",setTag$8="[object Set]",symIterator=Symbol$1?Symbol$1.iterator:void 0;function toArray(e){if(!e)return[];if(isArrayLike(e))return isString(e)?stringToArray(e):copyArray(e);if(symIterator&&e[symIterator])return iteratorToArray(e[symIterator]());var t=getTag$1(e);return(t==mapTag$8?mapToArray:t==setTag$8?setToArray:values)(e)}function wrapperNext(){void 0===this.__values__&&(this.__values__=toArray(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}}function baseNth(e,t){var r=e.length;if(r)return isIndex(t+=t<0?r:0,r)?e[t]:void 0}function nth(e,t){return e&&e.length?baseNth(e,toInteger(t)):void 0}function nthArg(e){return e=toInteger(e),baseRest(function(t){return baseNth(t,e)})}function baseUnset(e,t){return null==(e=parent(e,t=castPath(t,e)))||delete e[toKey(last(t))]}function customOmitClone(e){return isPlainObject(e)?void 0:e}var CLONE_DEEP_FLAG$7=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$5=4,omit=flatRest(function(e,t){var r={};if(null==e)return r;var n=!1;t=arrayMap(t,function(t){return t=castPath(t,e),n||(n=t.length>1),t}),copyObject(e,getAllKeysIn(e),r),n&&(r=baseClone(r,CLONE_DEEP_FLAG$7|CLONE_FLAT_FLAG$1|CLONE_SYMBOLS_FLAG$5,customOmitClone));for(var o=t.length;o--;)baseUnset(r,t[o]);return r});function baseSet(e,t,r,n){if(!isObject(e))return e;for(var o=-1,i=(t=castPath(t,e)).length,a=i-1,s=e;null!=s&&++o<i;){var l=toKey(t[o]),c=r;if(o!=a){var u=s[l];void 0===(c=n?n(u,l,s):void 0)&&(c=isObject(u)?u:isIndex(t[o+1])?[]:{})}assignValue(s,l,c),s=s[l]}return e}function basePickBy(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],s=baseGet(e,a);r(s,a)&&baseSet(i,castPath(a,e),s)}return i}function pickBy(e,t){if(null==e)return{};var r=arrayMap(getAllKeysIn(e),function(e){return[e]});return t=baseIteratee(t),basePickBy(e,r,function(e,r){return t(e,r[0])})}function omitBy(e,t){return pickBy(e,negate(baseIteratee(t)))}function once(e){return before(2,e)}function baseSortBy(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function compareAscending(e,t){if(e!==t){var r=void 0!==e,n=null===e,o=e==e,i=isSymbol(e),a=void 0!==t,s=null===t,l=t==t,c=isSymbol(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||n&&a&&l||!r&&l||!o)return 1;if(!n&&!i&&!c&&e<t||c&&r&&o&&!n&&!i||s&&r&&o||!a&&o||!l)return-1}return 0}function compareMultiple(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,a=o.length,s=r.length;++n<a;){var l=compareAscending(o[n],i[n]);if(l)return n>=s?l:l*("desc"==r[n]?-1:1)}return e.index-t.index}function baseOrderBy(e,t,r){var n=-1;return t=arrayMap(t.length?t:[identity],baseUnary(baseIteratee)),baseSortBy(baseMap(e,function(e,r,o){return{criteria:arrayMap(t,function(t){return t(e)}),index:++n,value:e}}),function(e,t){return compareMultiple(e,t,r)})}function orderBy(e,t,r,n){return null==e?[]:(isArray(t)||(t=null==t?[]:[t]),isArray(r=n?void 0:r)||(r=null==r?[]:[r]),baseOrderBy(e,t,r))}function createOver(e){return flatRest(function(t){return t=arrayMap(t,baseUnary(baseIteratee)),baseRest(function(r){var n=this;return e(t,function(e){return apply(e,n,r)})})})}var over=createOver(arrayMap),castRest=baseRest,nativeMin$8=Math.min,overArgs=castRest(function(e,t){var r=(t=1==t.length&&isArray(t[0])?arrayMap(t[0],baseUnary(baseIteratee)):arrayMap(baseFlatten(t,1),baseUnary(baseIteratee))).length;return baseRest(function(n){for(var o=-1,i=nativeMin$8(n.length,r);++o<i;)n[o]=t[o].call(this,n[o]);return apply(e,this,n)})}),overEvery=createOver(arrayEvery),overSome=createOver(arraySome),MAX_SAFE_INTEGER$3=9007199254740991,nativeFloor=Math.floor;function baseRepeat(e,t){var r="";if(!e||t<1||t>MAX_SAFE_INTEGER$3)return r;do{t%2&&(r+=e),(t=nativeFloor(t/2))&&(e+=e)}while(t);return r}var asciiSize=baseProperty("length"),rsAstralRange$3="\\ud800-\\udfff",rsComboMarksRange$4="\\u0300-\\u036f",reComboHalfMarksRange$4="\\ufe20-\\ufe2f",rsComboSymbolsRange$4="\\u20d0-\\u20ff",rsComboRange$4=rsComboMarksRange$4+reComboHalfMarksRange$4+rsComboSymbolsRange$4,rsVarRange$3="\\ufe0e\\ufe0f",rsAstral$1="["+rsAstralRange$3+"]",rsCombo$3="["+rsComboRange$4+"]",rsFitz$2="\\ud83c[\\udffb-\\udfff]",rsModifier$2="(?:"+rsCombo$3+"|"+rsFitz$2+")",rsNonAstral$2="[^"+rsAstralRange$3+"]",rsRegional$2="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$2="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$3="\\u200d",reOptMod$2=rsModifier$2+"?",rsOptVar$2="["+rsVarRange$3+"]?",rsOptJoin$2="(?:"+rsZWJ$3+"(?:"+[rsNonAstral$2,rsRegional$2,rsSurrPair$2].join("|")+")"+rsOptVar$2+reOptMod$2+")*",rsSeq$2=rsOptVar$2+reOptMod$2+rsOptJoin$2,rsSymbol$1="(?:"+[rsNonAstral$2+rsCombo$3+"?",rsCombo$3,rsRegional$2,rsSurrPair$2,rsAstral$1].join("|")+")",reUnicode$1=RegExp(rsFitz$2+"(?="+rsFitz$2+")|"+rsSymbol$1+rsSeq$2,"g");function unicodeSize(e){for(var t=reUnicode$1.lastIndex=0;reUnicode$1.test(e);)++t;return t}function stringSize(e){return hasUnicode(e)?unicodeSize(e):asciiSize(e)}var nativeCeil$1=Math.ceil;function createPadding(e,t){var r=(t=void 0===t?" ":baseToString(t)).length;if(r<2)return r?baseRepeat(t,e):t;var n=baseRepeat(t,nativeCeil$1(e/stringSize(t)));return hasUnicode(t)?castSlice(stringToArray(n),0,e).join(""):n.slice(0,e)}var nativeCeil$2=Math.ceil,nativeFloor$1=Math.floor;function pad(e,t,r){e=toString(e);var n=(t=toInteger(t))?stringSize(e):0;if(!t||n>=t)return e;var o=(t-n)/2;return createPadding(nativeFloor$1(o),r)+e+createPadding(nativeCeil$2(o),r)}function padEnd(e,t,r){e=toString(e);var n=(t=toInteger(t))?stringSize(e):0;return t&&n<t?e+createPadding(t-n,r):e}function padStart(e,t,r){e=toString(e);var n=(t=toInteger(t))?stringSize(e):0;return t&&n<t?createPadding(t-n,r)+e:e}var reTrimStart=/^\s+/,nativeParseInt=root.parseInt;function parseInt$1(e,t,r){return r||null==t?t=0:t&&(t=+t),nativeParseInt(toString(e).replace(reTrimStart,""),t||0)}var WRAP_PARTIAL_FLAG$6=32,partial=baseRest(function(e,t){var r=replaceHolders(t,getHolder(partial));return createWrap(e,WRAP_PARTIAL_FLAG$6,void 0,t,r)});partial.placeholder={};var WRAP_PARTIAL_RIGHT_FLAG$3=64,partialRight=baseRest(function(e,t){var r=replaceHolders(t,getHolder(partialRight));return createWrap(e,WRAP_PARTIAL_RIGHT_FLAG$3,void 0,t,r)});partialRight.placeholder={};var partition=createAggregator(function(e,t,r){e[r?0:1].push(t)},function(){return[[],[]]});function basePick(e,t){return basePickBy(e,t,function(t,r){return hasIn(e,r)})}var pick=flatRest(function(e,t){return null==e?{}:basePick(e,t)});function wrapperPlant(e){for(var t,r=this;r instanceof baseLodash;){var n=wrapperClone(r);n.__index__=0,n.__values__=void 0,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t}function propertyOf(e){return function(t){return null==e?void 0:baseGet(e,t)}}function baseIndexOfWith(e,t,r,n){for(var o=r-1,i=e.length;++o<i;)if(n(e[o],t))return o;return-1}var arrayProto$2=Array.prototype,splice$1=arrayProto$2.splice;function basePullAll(e,t,r,n){var o=n?baseIndexOfWith:baseIndexOf,i=-1,a=t.length,s=e;for(e===t&&(t=copyArray(t)),r&&(s=arrayMap(e,baseUnary(r)));++i<a;)for(var l=0,c=t[i],u=r?r(c):c;(l=o(s,u,l,n))>-1;)s!==e&&splice$1.call(s,l,1),splice$1.call(e,l,1);return e}function pullAll(e,t){return e&&e.length&&t&&t.length?basePullAll(e,t):e}var pull=baseRest(pullAll);function pullAllBy(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,baseIteratee(r,2)):e}function pullAllWith(e,t,r){return e&&e.length&&t&&t.length?basePullAll(e,t,void 0,r):e}var arrayProto$3=Array.prototype,splice$2=arrayProto$3.splice;function basePullAt(e,t){for(var r=e?t.length:0,n=r-1;r--;){var o=t[r];if(r==n||o!==i){var i=o;isIndex(o)?splice$2.call(e,o,1):baseUnset(e,o)}}return e}var pullAt=flatRest(function(e,t){var r=null==e?0:e.length,n=baseAt(e,t);return basePullAt(e,arrayMap(t,function(e){return isIndex(e,r)?+e:e}).sort(compareAscending)),n}),nativeFloor$2=Math.floor,nativeRandom=Math.random;function baseRandom(e,t){return e+nativeFloor$2(nativeRandom()*(t-e+1))}var freeParseFloat=parseFloat,nativeMin$9=Math.min,nativeRandom$1=Math.random;function random(e,t,r){if(r&&"boolean"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=void 0),void 0===r&&("boolean"==typeof t?(r=t,t=void 0):"boolean"==typeof e&&(r=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=toFinite(e),void 0===t?(t=e,e=0):t=toFinite(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=nativeRandom$1();return nativeMin$9(e+o*(t-e+freeParseFloat("1e-"+((o+"").length-1))),t)}return baseRandom(e,t)}var nativeCeil$3=Math.ceil,nativeMax$c=Math.max;function baseRange(e,t,r,n){for(var o=-1,i=nativeMax$c(nativeCeil$3((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a}function createRange(e){return function(t,r,n){return n&&"number"!=typeof n&&isIterateeCall(t,r,n)&&(r=n=void 0),t=toFinite(t),void 0===r?(r=t,t=0):r=toFinite(r),baseRange(t,r,n=void 0===n?t<r?1:-1:toFinite(n),e)}}var range=createRange(),rangeRight=createRange(!0),WRAP_REARG_FLAG$3=256,rearg=flatRest(function(e,t){return createWrap(e,WRAP_REARG_FLAG$3,void 0,void 0,void 0,t)});function baseReduce(e,t,r,n,o){return o(e,function(e,o,i){r=n?(n=!1,e):t(r,e,o,i)}),r}function reduce(e,t,r){var n=isArray(e)?arrayReduce:baseReduce,o=arguments.length<3;return n(e,baseIteratee(t,4),r,o,baseEach)}function arrayReduceRight(e,t,r,n){var o=null==e?0:e.length;for(n&&o&&(r=e[--o]);o--;)r=t(r,e[o],o,e);return r}function reduceRight(e,t,r){var n=isArray(e)?arrayReduceRight:baseReduce,o=arguments.length<3;return n(e,baseIteratee(t,4),r,o,baseEachRight)}function reject(e,t){return(isArray(e)?arrayFilter:baseFilter)(e,negate(baseIteratee(t,3)))}function remove(e,t){var r=[];if(!e||!e.length)return r;var n=-1,o=[],i=e.length;for(t=baseIteratee(t,3);++n<i;){var a=e[n];t(a,n,e)&&(r.push(a),o.push(n))}return basePullAt(e,o),r}function repeat(e,t,r){return t=(r?isIterateeCall(e,t,r):void 0===t)?1:toInteger(t),baseRepeat(toString(e),t)}function replace(){var e=arguments,t=toString(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var FUNC_ERROR_TEXT$9="Expected a function";function rest(e,t){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$9);return baseRest(e,t=void 0===t?t:toInteger(t))}function result(e,t,r){var n=-1,o=(t=castPath(t,e)).length;for(o||(o=1,e=void 0);++n<o;){var i=null==e?void 0:e[toKey(t[n])];void 0===i&&(n=o,i=r),e=isFunction(i)?i.call(e):i}return e}var arrayProto$4=Array.prototype,nativeReverse=arrayProto$4.reverse;function reverse(e){return null==e?e:nativeReverse.call(e)}var round=createRound("round");function arraySample(e){var t=e.length;return t?e[baseRandom(0,t-1)]:void 0}function baseSample(e){return arraySample(values(e))}function sample(e){return(isArray(e)?arraySample:baseSample)(e)}function shuffleSelf(e,t){var r=-1,n=e.length,o=n-1;for(t=void 0===t?n:t;++r<t;){var i=baseRandom(r,o),a=e[i];e[i]=e[r],e[r]=a}return e.length=t,e}function arraySampleSize(e,t){return shuffleSelf(copyArray(e),baseClamp(t,0,e.length))}function baseSampleSize(e,t){var r=values(e);return shuffleSelf(r,baseClamp(t,0,r.length))}function sampleSize(e,t,r){return t=(r?isIterateeCall(e,t,r):void 0===t)?1:toInteger(t),(isArray(e)?arraySampleSize:baseSampleSize)(e,t)}function set(e,t,r){return null==e?e:baseSet(e,t,r)}function setWith(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:baseSet(e,t,r,n)}function arrayShuffle(e){return shuffleSelf(copyArray(e))}function baseShuffle(e){return shuffleSelf(values(e))}function shuffle(e){return(isArray(e)?arrayShuffle:baseShuffle)(e)}var mapTag$9="[object Map]",setTag$9="[object Set]";function size(e){if(null==e)return 0;if(isArrayLike(e))return isString(e)?stringSize(e):e.length;var t=getTag$1(e);return t==mapTag$9||t==setTag$9?e.size:baseKeys(e).length}function slice(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&isIterateeCall(e,t,r)?(t=0,r=n):(t=null==t?0:toInteger(t),r=void 0===r?n:toInteger(r)),baseSlice(e,t,r)):[]}var snakeCase=createCompounder(function(e,t,r){return e+(r?"_":"")+t.toLowerCase()});function baseSome(e,t){var r;return baseEach(e,function(e,n,o){return!(r=t(e,n,o))}),!!r}function some(e,t,r){var n=isArray(e)?arraySome:baseSome;return r&&isIterateeCall(e,t,r)&&(t=void 0),n(e,baseIteratee(t,3))}var sortBy=baseRest(function(e,t){if(null==e)return[];var r=t.length;return r>1&&isIterateeCall(e,t[0],t[1])?t=[]:r>2&&isIterateeCall(t[0],t[1],t[2])&&(t=[t[0]]),baseOrderBy(e,baseFlatten(t,1),[])}),MAX_ARRAY_LENGTH$2=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH$2-1,nativeFloor$3=Math.floor,nativeMin$a=Math.min;function baseSortedIndexBy(e,t,r,n){t=r(t);for(var o=0,i=null==e?0:e.length,a=t!=t,s=null===t,l=isSymbol(t),c=void 0===t;o<i;){var u=nativeFloor$3((o+i)/2),h=r(e[u]),f=void 0!==h,p=null===h,d=h==h,m=isSymbol(h);if(a)var g=n||d;else g=c?d&&(n||f):s?d&&f&&(n||!p):l?d&&f&&!p&&(n||!m):!p&&!m&&(n?h<=t:h<t);g?o=u+1:i=u}return nativeMin$a(i,MAX_ARRAY_INDEX)}var MAX_ARRAY_LENGTH$3=4294967295,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH$3>>>1;function baseSortedIndex(e,t,r){var n=0,o=null==e?n:e.length;if("number"==typeof t&&t==t&&o<=HALF_MAX_ARRAY_LENGTH){for(;n<o;){var i=n+o>>>1,a=e[i];null!==a&&!isSymbol(a)&&(r?a<=t:a<t)?n=i+1:o=i}return o}return baseSortedIndexBy(e,t,identity,r)}function sortedIndex(e,t){return baseSortedIndex(e,t)}function sortedIndexBy(e,t,r){return baseSortedIndexBy(e,t,baseIteratee(r,2))}function sortedIndexOf(e,t){var r=null==e?0:e.length;if(r){var n=baseSortedIndex(e,t);if(n<r&&eq(e[n],t))return n}return-1}function sortedLastIndex(e,t){return baseSortedIndex(e,t,!0)}function sortedLastIndexBy(e,t,r){return baseSortedIndexBy(e,t,baseIteratee(r,2),!0)}function sortedLastIndexOf(e,t){if(null!=e&&e.length){var r=baseSortedIndex(e,t,!0)-1;if(eq(e[r],t))return r}return-1}function baseSortedUniq(e,t){for(var r=-1,n=e.length,o=0,i=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!eq(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function sortedUniq(e){return e&&e.length?baseSortedUniq(e):[]}function sortedUniqBy(e,t){return e&&e.length?baseSortedUniq(e,baseIteratee(t,2)):[]}var MAX_ARRAY_LENGTH$4=4294967295;function split(e,t,r){return r&&"number"!=typeof r&&isIterateeCall(e,t,r)&&(t=r=void 0),(r=void 0===r?MAX_ARRAY_LENGTH$4:r>>>0)?(e=toString(e))&&("string"==typeof t||null!=t&&!isRegExp(t))&&!(t=baseToString(t))&&hasUnicode(e)?castSlice(stringToArray(e),0,r):e.split(t,r):[]}var FUNC_ERROR_TEXT$a="Expected a function",nativeMax$d=Math.max;function spread(e,t){if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$a);return t=null==t?0:nativeMax$d(toInteger(t),0),baseRest(function(r){var n=r[t],o=castSlice(r,0,t);return n&&arrayPush(o,n),apply(e,this,o)})}var startCase=createCompounder(function(e,t,r){return e+(r?" ":"")+upperFirst(t)});function startsWith(e,t,r){return e=toString(e),r=null==r?0:baseClamp(toInteger(r),0,e.length),t=baseToString(t),e.slice(r,r+t.length)==t}function stubObject(){return{}}function stubString(){return""}function stubTrue(){return!0}var subtract=createMathOperation(function(e,t){return e-t},0);function sum(e){return e&&e.length?baseSum(e,identity):0}function sumBy(e,t){return e&&e.length?baseSum(e,baseIteratee(t,2)):0}function tail(e){var t=null==e?0:e.length;return t?baseSlice(e,1,t):[]}function take(e,t,r){return e&&e.length?baseSlice(e,0,(t=r||void 0===t?1:toInteger(t))<0?0:t):[]}function takeRight(e,t,r){var n=null==e?0:e.length;return n?baseSlice(e,(t=n-(t=r||void 0===t?1:toInteger(t)))<0?0:t,n):[]}function takeRightWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3),!1,!0):[]}function takeWhile(e,t){return e&&e.length?baseWhile(e,baseIteratee(t,3)):[]}function tap(e,t){return t(e),e}var objectProto$q=Object.prototype,hasOwnProperty$m=objectProto$q.hasOwnProperty;function customDefaultsAssignIn(e,t,r,n){return void 0===e||eq(e,objectProto$q[r])&&!hasOwnProperty$m.call(n,r)?t:e}var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function escapeStringChar(e){return"\\"+stringEscapes[e]}var reInterpolate=/<%=([\s\S]+?)%>/g,reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:{escape:escape}}},reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g;function template(e,t,r){var n=templateSettings.imports._.templateSettings||templateSettings;r&&isIterateeCall(e,t,r)&&(t=void 0),e=toString(e),t=assignInWith({},t,n,customDefaultsAssignIn);var o,i,a=assignInWith({},t.imports,n.imports,customDefaultsAssignIn),s=keys(a),l=baseValues(a,s),c=0,u=t.interpolate||reNoMatch,h="__p += '",f=RegExp((t.escape||reNoMatch).source+"|"+u.source+"|"+(u===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(t.evaluate||reNoMatch).source+"|$","g"),p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(f,function(t,r,n,a,s,l){return n||(n=a),h+=e.slice(c,l).replace(reUnescapedString,escapeStringChar),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),s&&(i=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),h+="';\n";var d=t.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(i?h.replace(reEmptyStringLeading,""):h).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=attempt(function(){return Function(s,p+"return "+h).apply(void 0,l)});if(m.source=h,isError(m))throw m;return m}var FUNC_ERROR_TEXT$b="Expected a function";function throttle$1(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError(FUNC_ERROR_TEXT$b);return isObject(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),debounce(e,t,{leading:n,maxWait:t,trailing:o})}function thru(e,t){return t(e)}var MAX_SAFE_INTEGER$4=9007199254740991,MAX_ARRAY_LENGTH$5=4294967295,nativeMin$b=Math.min;function times(e,t){if((e=toInteger(e))<1||e>MAX_SAFE_INTEGER$4)return[];var r=MAX_ARRAY_LENGTH$5,n=nativeMin$b(e,MAX_ARRAY_LENGTH$5);t=castFunction(t),e-=MAX_ARRAY_LENGTH$5;for(var o=baseTimes(n,t);++r<e;)t(r);return o}function wrapperToIterator(){return this}function baseWrapperValue(e,t){var r=e;return r instanceof LazyWrapper&&(r=r.value()),arrayReduce(t,function(e,t){return t.func.apply(t.thisArg,arrayPush([e],t.args))},r)}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function toLower(e){return toString(e).toLowerCase()}function toPath(e){return isArray(e)?arrayMap(e,toKey):isSymbol(e)?[e]:copyArray(stringToPath(toString(e)))}var MAX_SAFE_INTEGER$5=9007199254740991;function toSafeInteger(e){return e?baseClamp(toInteger(e),-MAX_SAFE_INTEGER$5,MAX_SAFE_INTEGER$5):0===e?e:0}function toUpper(e){return toString(e).toUpperCase()}function transform(e,t,r){var n=isArray(e),o=n||isBuffer(e)||isTypedArray(e);if(t=baseIteratee(t,4),null==r){var i=e&&e.constructor;r=o?n?new i:[]:isObject(e)&&isFunction(i)?baseCreate(getPrototype(e)):{}}return(o?arrayEach:baseForOwn)(e,function(e,n,o){return t(r,e,n,o)}),r}function charsEndIndex(e,t){for(var r=e.length;r--&&baseIndexOf(t,e[r],0)>-1;);return r}function charsStartIndex(e,t){for(var r=-1,n=e.length;++r<n&&baseIndexOf(t,e[r],0)>-1;);return r}var reTrim$1=/^\s+|\s+$/g;function trim(e,t,r){if((e=toString(e))&&(r||void 0===t))return e.replace(reTrim$1,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e),o=stringToArray(t);return castSlice(n,charsStartIndex(n,o),charsEndIndex(n,o)+1).join("")}var reTrimEnd=/\s+$/;function trimEnd(e,t,r){if((e=toString(e))&&(r||void 0===t))return e.replace(reTrimEnd,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e);return castSlice(n,0,charsEndIndex(n,stringToArray(t))+1).join("")}var reTrimStart$1=/^\s+/;function trimStart(e,t,r){if((e=toString(e))&&(r||void 0===t))return e.replace(reTrimStart$1,"");if(!e||!(t=baseToString(t)))return e;var n=stringToArray(e);return castSlice(n,charsStartIndex(n,stringToArray(t))).join("")}var DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",reFlags$1=/\w*$/;function truncate(e,t){var r=DEFAULT_TRUNC_LENGTH,n=DEFAULT_TRUNC_OMISSION;if(isObject(t)){var o="separator"in t?t.separator:o;r="length"in t?toInteger(t.length):r,n="omission"in t?baseToString(t.omission):n}var i=(e=toString(e)).length;if(hasUnicode(e)){var a=stringToArray(e);i=a.length}if(r>=i)return e;var s=r-stringSize(n);if(s<1)return n;var l=a?castSlice(a,0,s).join(""):e.slice(0,s);if(void 0===o)return l+n;if(a&&(s+=l.length-s),isRegExp(o)){if(e.slice(s).search(o)){var c,u=l;for(o.global||(o=RegExp(o.source,toString(reFlags$1.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var h=c.index;l=l.slice(0,void 0===h?s:h)}}else if(e.indexOf(baseToString(o),s)!=s){var f=l.lastIndexOf(o);f>-1&&(l=l.slice(0,f))}return l+n}function unary(e){return ary(e,1)}var htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},unescapeHtmlChar=basePropertyOf(htmlUnescapes),reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reHasEscapedHtml=RegExp(reEscapedHtml.source);function unescape$1(e){return(e=toString(e))&&reHasEscapedHtml.test(e)?e.replace(reEscapedHtml,unescapeHtmlChar):e}var INFINITY$5=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY$5?function(e){return new Set$1(e)}:noop,LARGE_ARRAY_SIZE$2=200;function baseUniq(e,t,r){var n=-1,o=arrayIncludes,i=e.length,a=!0,s=[],l=s;if(r)a=!1,o=arrayIncludesWith;else if(i>=LARGE_ARRAY_SIZE$2){var c=t?null:createSet(e);if(c)return setToArray(c);a=!1,o=cacheHas,l=new SetCache}else l=t?[]:s;e:for(;++n<i;){var u=e[n],h=t?t(u):u;if(u=r||0!==u?u:0,a&&h==h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),s.push(u)}else o(l,h,r)||(l!==s&&l.push(h),s.push(u))}return s}var union=baseRest(function(e){return baseUniq(baseFlatten(e,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=void 0),baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),baseIteratee(t,2))}),unionWith=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:void 0,baseUniq(baseFlatten(e,1,isArrayLikeObject,!0),void 0,t)});function uniq(e){return e&&e.length?baseUniq(e):[]}function uniqBy(e,t){return e&&e.length?baseUniq(e,baseIteratee(t,2)):[]}function uniqWith(e,t){return t="function"==typeof t?t:void 0,e&&e.length?baseUniq(e,void 0,t):[]}var idCounter=0;function uniqueId(e){var t=++idCounter;return toString(e)+t}function unset(e,t){return null==e||baseUnset(e,t)}var nativeMax$e=Math.max;function unzip(e){if(!e||!e.length)return[];var t=0;return e=arrayFilter(e,function(e){if(isArrayLikeObject(e))return t=nativeMax$e(e.length,t),!0}),baseTimes(t,function(t){return arrayMap(e,baseProperty(t))})}function unzipWith(e,t){if(!e||!e.length)return[];var r=unzip(e);return null==t?r:arrayMap(r,function(e){return apply(t,void 0,e)})}function baseUpdate(e,t,r,n){return baseSet(e,t,r(baseGet(e,t)),n)}function update(e,t,r){return null==e?e:baseUpdate(e,t,castFunction(r))}function updateWith(e,t,r,n){return n="function"==typeof n?n:void 0,null==e?e:baseUpdate(e,t,castFunction(r),n)}var upperCase=createCompounder(function(e,t,r){return e+(r?" ":"")+t.toUpperCase()});function valuesIn(e){return null==e?[]:baseValues(e,keysIn$1(e))}var without=baseRest(function(e,t){return isArrayLikeObject(e)?baseDifference(e,t):[]});function wrap(e,t){return partial(castFunction(t),e)}var wrapperAt=flatRest(function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return baseAt(t,e)};return!(t>1||this.__actions__.length)&&n instanceof LazyWrapper&&isIndex(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:thru,args:[o],thisArg:void 0}),new LodashWrapper(n,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(o)});function wrapperChain(){return chain(this)}function wrapperReverse(){var e=this.__wrapped__;if(e instanceof LazyWrapper){var t=e;return this.__actions__.length&&(t=new LazyWrapper(this)),(t=t.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:void 0}),new LodashWrapper(t,this.__chain__)}return this.thru(reverse)}function baseXor(e,t,r){var n=e.length;if(n<2)return n?baseUniq(e[0]):[];for(var o=-1,i=Array(n);++o<n;)for(var a=e[o],s=-1;++s<n;)s!=o&&(i[o]=baseDifference(i[o]||a,e[s],t,r));return baseUniq(baseFlatten(i,1),t,r)}var xor=baseRest(function(e){return baseXor(arrayFilter(e,isArrayLikeObject))}),xorBy=baseRest(function(e){var t=last(e);return isArrayLikeObject(t)&&(t=void 0),baseXor(arrayFilter(e,isArrayLikeObject),baseIteratee(t,2))}),xorWith=baseRest(function(e){var t=last(e);return t="function"==typeof t?t:void 0,baseXor(arrayFilter(e,isArrayLikeObject),void 0,t)}),zip=baseRest(unzip);function baseZipObject(e,t,r){for(var n=-1,o=e.length,i=t.length,a={};++n<o;){var s=n<i?t[n]:void 0;r(a,e[n],s)}return a}function zipObject(e,t){return baseZipObject(e||[],t||[],assignValue)}function zipObjectDeep(e,t){return baseZipObject(e||[],t||[],baseSet)}var zipWith=baseRest(function(e){var t=e.length,r=t>1?e[t-1]:void 0;return r="function"==typeof r?(e.pop(),r):void 0,unzipWith(e,r)}),array={chunk:chunk,compact:compact,concat:concat,difference:difference,differenceBy:differenceBy,differenceWith:differenceWith,drop:drop,dropRight:dropRight,dropRightWhile:dropRightWhile,dropWhile:dropWhile,fill:fill,findIndex:findIndex,findLastIndex:findLastIndex,first:head,flatten:flatten,flattenDeep:flattenDeep,flattenDepth:flattenDepth,fromPairs:fromPairs,head:head,indexOf:indexOf,initial:initial,intersection:intersection,intersectionBy:intersectionBy,intersectionWith:intersectionWith,join:join,last:last,lastIndexOf:lastIndexOf,nth:nth,pull:pull,pullAll:pullAll,pullAllBy:pullAllBy,pullAllWith:pullAllWith,pullAt:pullAt,remove:remove,reverse:reverse,slice:slice,sortedIndex:sortedIndex,sortedIndexBy:sortedIndexBy,sortedIndexOf:sortedIndexOf,sortedLastIndex:sortedLastIndex,sortedLastIndexBy:sortedLastIndexBy,sortedLastIndexOf:sortedLastIndexOf,sortedUniq:sortedUniq,sortedUniqBy:sortedUniqBy,tail:tail,take:take,takeRight:takeRight,takeRightWhile:takeRightWhile,takeWhile:takeWhile,union:union,unionBy:unionBy,unionWith:unionWith,uniq:uniq,uniqBy:uniqBy,uniqWith:uniqWith,unzip:unzip,unzipWith:unzipWith,without:without,xor:xor,xorBy:xorBy,xorWith:xorWith,zip:zip,zipObject:zipObject,zipObjectDeep:zipObjectDeep,zipWith:zipWith},collection={countBy:countBy,each:forEach,eachRight:forEachRight,every:every,filter:filter,find:find,findLast:findLast,flatMap:flatMap,flatMapDeep:flatMapDeep,flatMapDepth:flatMapDepth,forEach:forEach,forEachRight:forEachRight,groupBy:groupBy,includes:includes,invokeMap:invokeMap,keyBy:keyBy,map:map,orderBy:orderBy,partition:partition,reduce:reduce,reduceRight:reduceRight,reject:reject,sample:sample,sampleSize:sampleSize,shuffle:shuffle,size:size,some:some,sortBy:sortBy},date={now:now},func={after:after,ary:ary,before:before,bind:bind,bindKey:bindKey,curry:curry,curryRight:curryRight,debounce:debounce,defer:defer,delay:delay,flip:flip,memoize:memoize,negate:negate,once:once,overArgs:overArgs,partial:partial,partialRight:partialRight,rearg:rearg,rest:rest,spread:spread,throttle:throttle$1,unary:unary,wrap:wrap},lang={castArray:castArray,clone:clone,cloneDeep:cloneDeep,cloneDeepWith:cloneDeepWith,cloneWith:cloneWith,conformsTo:conformsTo,eq:eq,gt:gt,gte:gte,isArguments:isArguments,isArray:isArray,isArrayBuffer:isArrayBuffer,isArrayLike:isArrayLike,isArrayLikeObject:isArrayLikeObject,isBoolean:isBoolean,isBuffer:isBuffer,isDate:isDate,isElement:isElement,isEmpty:isEmpty,isEqual:isEqual,isEqualWith:isEqualWith,isError:isError,isFinite:isFinite$1,isFunction:isFunction,isInteger:isInteger,isLength:isLength,isMap:isMap,isMatch:isMatch,isMatchWith:isMatchWith,isNaN:isNaN$1,isNative:isNative,isNil:isNil,isNull:isNull,isNumber:isNumber,isObject:isObject,isObjectLike:isObjectLike,isPlainObject:isPlainObject,isRegExp:isRegExp,isSafeInteger:isSafeInteger,isSet:isSet,isString:isString,isSymbol:isSymbol,isTypedArray:isTypedArray,isUndefined:isUndefined,isWeakMap:isWeakMap,isWeakSet:isWeakSet,lt:lt,lte:lte,toArray:toArray,toFinite:toFinite,toInteger:toInteger,toLength:toLength,toNumber:toNumber,toPlainObject:toPlainObject,toSafeInteger:toSafeInteger,toString:toString},math={add:add,ceil:ceil,divide:divide,floor:floor,max:max,maxBy:maxBy,mean:mean,meanBy:meanBy,min:min,minBy:minBy,multiply:multiply,round:round,subtract:subtract,sum:sum,sumBy:sumBy},number$1={clamp:clamp,inRange:inRange,random:random},object={assign:assign,assignIn:assignIn,assignInWith:assignInWith,assignWith:assignWith,at:at,create:create,defaults:defaults,defaultsDeep:defaultsDeep,entries:toPairs,entriesIn:toPairsIn,extend:assignIn,extendWith:assignInWith,findKey:findKey,findLastKey:findLastKey,forIn:forIn,forInRight:forInRight,forOwn:forOwn,forOwnRight:forOwnRight,functions:functions,functionsIn:functionsIn,get:get,has:has,hasIn:hasIn,invert:invert,invertBy:invertBy,invoke:invoke,keys:keys,keysIn:keysIn$1,mapKeys:mapKeys,mapValues:mapValues,merge:merge,mergeWith:mergeWith,omit:omit,omitBy:omitBy,pick:pick,pickBy:pickBy,result:result,set:set,setWith:setWith,toPairs:toPairs,toPairsIn:toPairsIn,transform:transform,unset:unset,update:update,updateWith:updateWith,values:values,valuesIn:valuesIn},seq={at:wrapperAt,chain:chain,commit:wrapperCommit,lodash:lodash,next:wrapperNext,plant:wrapperPlant,reverse:wrapperReverse,tap:tap,thru:thru,toIterator:wrapperToIterator,toJSON:wrapperValue,value:wrapperValue,valueOf:wrapperValue,wrapperChain:wrapperChain},string={camelCase:camelCase,capitalize:capitalize,deburr:deburr,endsWith:endsWith,escape:escape,escapeRegExp:escapeRegExp,kebabCase:kebabCase,lowerCase:lowerCase,lowerFirst:lowerFirst,pad:pad,padEnd:padEnd,padStart:padStart,parseInt:parseInt$1,repeat:repeat,replace:replace,snakeCase:snakeCase,split:split,startCase:startCase,startsWith:startsWith,template:template,templateSettings:templateSettings,toLower:toLower,toUpper:toUpper,trim:trim,trimEnd:trimEnd,trimStart:trimStart,truncate:truncate,unescape:unescape$1,upperCase:upperCase,upperFirst:upperFirst,words:words},util={attempt:attempt,bindAll:bindAll,cond:cond,conforms:conforms,constant:constant,defaultTo:defaultTo,flow:flow,flowRight:flowRight,identity:identity,iteratee:iteratee,matches:matches,matchesProperty:matchesProperty,method:method,methodOf:methodOf,mixin:mixin,noop:noop,nthArg:nthArg,over:over,overEvery:overEvery,overSome:overSome,property:property,propertyOf:propertyOf,range:range,rangeRight:rangeRight,stubArray:stubArray,stubFalse:stubFalse,stubObject:stubObject,stubString:stubString,stubTrue:stubTrue,times:times,toPath:toPath,uniqueId:uniqueId};function lazyClone(){var e=new LazyWrapper(this.__wrapped__);return e.__actions__=copyArray(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=copyArray(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=copyArray(this.__views__),e}function lazyReverse(){if(this.__filtered__){var e=new LazyWrapper(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}var nativeMax$f=Math.max,nativeMin$c=Math.min;function getView(e,t,r){for(var n=-1,o=r.length;++n<o;){var i=r[n],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=nativeMin$c(t,e+a);break;case"takeRight":e=nativeMax$f(e,t-a)}}return{start:e,end:t}}var LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,nativeMin$d=Math.min;function lazyValue(){var e=this.__wrapped__.value(),t=this.__dir__,r=isArray(e),n=t<0,o=r?e.length:0,i=getView(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=n?s:a-1,u=this.__iteratees__,h=u.length,f=0,p=nativeMin$d(l,this.__takeCount__);if(!r||!n&&o==l&&p==l)return baseWrapperValue(e,this.__actions__);var d=[];e:for(;l--&&f<p;){for(var m=-1,g=e[c+=t];++m<h;){var v=u[m],y=v.iteratee,b=v.type,_=y(g);if(b==LAZY_MAP_FLAG)g=_;else if(!_){if(b==LAZY_FILTER_FLAG)continue e;break e}}d[f++]=g}return d}var VERSION="4.17.11",WRAP_BIND_KEY_FLAG$6=2,LAZY_FILTER_FLAG$1=1,LAZY_WHILE_FLAG=3,MAX_ARRAY_LENGTH$6=4294967295,arrayProto$5=Array.prototype,objectProto$r=Object.prototype,hasOwnProperty$n=objectProto$r.hasOwnProperty,symIterator$1=Symbol$1?Symbol$1.iterator:void 0,nativeMax$g=Math.max,nativeMin$e=Math.min,mixin$1=(e=mixin,function(t,r,n){if(null==n){var o=isObject(r),i=o&&keys(r),a=i&&i.length&&baseFunctions(r,i);(a?a.length:o)||(n=r,r=t,t=this)}return e(t,r,n)}),e;lodash.after=func.after,lodash.ary=func.ary,lodash.assign=object.assign,lodash.assignIn=object.assignIn,lodash.assignInWith=object.assignInWith,lodash.assignWith=object.assignWith,lodash.at=object.at,lodash.before=func.before,lodash.bind=func.bind,lodash.bindAll=util.bindAll,lodash.bindKey=func.bindKey,lodash.castArray=lang.castArray,lodash.chain=seq.chain,lodash.chunk=array.chunk,lodash.compact=array.compact,lodash.concat=array.concat,lodash.cond=util.cond,lodash.conforms=util.conforms,lodash.constant=util.constant,lodash.countBy=collection.countBy,lodash.create=object.create,lodash.curry=func.curry,lodash.curryRight=func.curryRight,lodash.debounce=func.debounce,lodash.defaults=object.defaults,lodash.defaultsDeep=object.defaultsDeep,lodash.defer=func.defer,lodash.delay=func.delay,lodash.difference=array.difference,lodash.differenceBy=array.differenceBy,lodash.differenceWith=array.differenceWith,lodash.drop=array.drop,lodash.dropRight=array.dropRight,lodash.dropRightWhile=array.dropRightWhile,lodash.dropWhile=array.dropWhile,lodash.fill=array.fill,lodash.filter=collection.filter,lodash.flatMap=collection.flatMap,lodash.flatMapDeep=collection.flatMapDeep,lodash.flatMapDepth=collection.flatMapDepth,lodash.flatten=array.flatten,lodash.flattenDeep=array.flattenDeep,lodash.flattenDepth=array.flattenDepth,lodash.flip=func.flip,lodash.flow=util.flow,lodash.flowRight=util.flowRight,lodash.fromPairs=array.fromPairs,lodash.functions=object.functions,lodash.functionsIn=object.functionsIn,lodash.groupBy=collection.groupBy,lodash.initial=array.initial,lodash.intersection=array.intersection,lodash.intersectionBy=array.intersectionBy,lodash.intersectionWith=array.intersectionWith,lodash.invert=object.invert,lodash.invertBy=object.invertBy,lodash.invokeMap=collection.invokeMap,lodash.iteratee=util.iteratee,lodash.keyBy=collection.keyBy,lodash.keys=keys,lodash.keysIn=object.keysIn,lodash.map=collection.map,lodash.mapKeys=object.mapKeys,lodash.mapValues=object.mapValues,lodash.matches=util.matches,lodash.matchesProperty=util.matchesProperty,lodash.memoize=func.memoize,lodash.merge=object.merge,lodash.mergeWith=object.mergeWith,lodash.method=util.method,lodash.methodOf=util.methodOf,lodash.mixin=mixin$1,lodash.negate=negate,lodash.nthArg=util.nthArg,lodash.omit=object.omit,lodash.omitBy=object.omitBy,lodash.once=func.once,lodash.orderBy=collection.orderBy,lodash.over=util.over,lodash.overArgs=func.overArgs,lodash.overEvery=util.overEvery,lodash.overSome=util.overSome,lodash.partial=func.partial,lodash.partialRight=func.partialRight,lodash.partition=collection.partition,lodash.pick=object.pick,lodash.pickBy=object.pickBy,lodash.property=util.property,lodash.propertyOf=util.propertyOf,lodash.pull=array.pull,lodash.pullAll=array.pullAll,lodash.pullAllBy=array.pullAllBy,lodash.pullAllWith=array.pullAllWith,lodash.pullAt=array.pullAt,lodash.range=util.range,lodash.rangeRight=util.rangeRight,lodash.rearg=func.rearg,lodash.reject=collection.reject,lodash.remove=array.remove,lodash.rest=func.rest,lodash.reverse=array.reverse,lodash.sampleSize=collection.sampleSize,lodash.set=object.set,lodash.setWith=object.setWith,lodash.shuffle=collection.shuffle,lodash.slice=array.slice,lodash.sortBy=collection.sortBy,lodash.sortedUniq=array.sortedUniq,lodash.sortedUniqBy=array.sortedUniqBy,lodash.split=string.split,lodash.spread=func.spread,lodash.tail=array.tail,lodash.take=array.take,lodash.takeRight=array.takeRight,lodash.takeRightWhile=array.takeRightWhile,lodash.takeWhile=array.takeWhile,lodash.tap=seq.tap,lodash.throttle=func.throttle,lodash.thru=thru,lodash.toArray=lang.toArray,lodash.toPairs=object.toPairs,lodash.toPairsIn=object.toPairsIn,lodash.toPath=util.toPath,lodash.toPlainObject=lang.toPlainObject,lodash.transform=object.transform,lodash.unary=func.unary,lodash.union=array.union,lodash.unionBy=array.unionBy,lodash.unionWith=array.unionWith,lodash.uniq=array.uniq,lodash.uniqBy=array.uniqBy,lodash.uniqWith=array.uniqWith,lodash.unset=object.unset,lodash.unzip=array.unzip,lodash.unzipWith=array.unzipWith,lodash.update=object.update,lodash.updateWith=object.updateWith,lodash.values=object.values,lodash.valuesIn=object.valuesIn,lodash.without=array.without,lodash.words=string.words,lodash.wrap=func.wrap,lodash.xor=array.xor,lodash.xorBy=array.xorBy,lodash.xorWith=array.xorWith,lodash.zip=array.zip,lodash.zipObject=array.zipObject,lodash.zipObjectDeep=array.zipObjectDeep,lodash.zipWith=array.zipWith,lodash.entries=object.toPairs,lodash.entriesIn=object.toPairsIn,lodash.extend=object.assignIn,lodash.extendWith=object.assignInWith,mixin$1(lodash,lodash),lodash.add=math.add,lodash.attempt=util.attempt,lodash.camelCase=string.camelCase,lodash.capitalize=string.capitalize,lodash.ceil=math.ceil,lodash.clamp=number$1.clamp,lodash.clone=lang.clone,lodash.cloneDeep=lang.cloneDeep,lodash.cloneDeepWith=lang.cloneDeepWith,lodash.cloneWith=lang.cloneWith,lodash.conformsTo=lang.conformsTo,lodash.deburr=string.deburr,lodash.defaultTo=util.defaultTo,lodash.divide=math.divide,lodash.endsWith=string.endsWith,lodash.eq=lang.eq,lodash.escape=string.escape,lodash.escapeRegExp=string.escapeRegExp,lodash.every=collection.every,lodash.find=collection.find,lodash.findIndex=array.findIndex,lodash.findKey=object.findKey,lodash.findLast=collection.findLast,lodash.findLastIndex=array.findLastIndex,lodash.findLastKey=object.findLastKey,lodash.floor=math.floor,lodash.forEach=collection.forEach,lodash.forEachRight=collection.forEachRight,lodash.forIn=object.forIn,lodash.forInRight=object.forInRight,lodash.forOwn=object.forOwn,lodash.forOwnRight=object.forOwnRight,lodash.get=object.get,lodash.gt=lang.gt,lodash.gte=lang.gte,lodash.has=object.has,lodash.hasIn=object.hasIn,lodash.head=array.head,lodash.identity=identity,lodash.includes=collection.includes,lodash.indexOf=array.indexOf,lodash.inRange=number$1.inRange,lodash.invoke=object.invoke,lodash.isArguments=lang.isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=lang.isArrayBuffer,lodash.isArrayLike=lang.isArrayLike,lodash.isArrayLikeObject=lang.isArrayLikeObject,lodash.isBoolean=lang.isBoolean,lodash.isBuffer=lang.isBuffer,lodash.isDate=lang.isDate,lodash.isElement=lang.isElement,lodash.isEmpty=lang.isEmpty,lodash.isEqual=lang.isEqual,lodash.isEqualWith=lang.isEqualWith,lodash.isError=lang.isError,lodash.isFinite=lang.isFinite,lodash.isFunction=lang.isFunction,lodash.isInteger=lang.isInteger,lodash.isLength=lang.isLength,lodash.isMap=lang.isMap,lodash.isMatch=lang.isMatch,lodash.isMatchWith=lang.isMatchWith,lodash.isNaN=lang.isNaN,lodash.isNative=lang.isNative,lodash.isNil=lang.isNil,lodash.isNull=lang.isNull,lodash.isNumber=lang.isNumber,lodash.isObject=isObject,lodash.isObjectLike=lang.isObjectLike,lodash.isPlainObject=lang.isPlainObject,lodash.isRegExp=lang.isRegExp,lodash.isSafeInteger=lang.isSafeInteger,lodash.isSet=lang.isSet,lodash.isString=lang.isString,lodash.isSymbol=lang.isSymbol,lodash.isTypedArray=lang.isTypedArray,lodash.isUndefined=lang.isUndefined,lodash.isWeakMap=lang.isWeakMap,lodash.isWeakSet=lang.isWeakSet,lodash.join=array.join,lodash.kebabCase=string.kebabCase,lodash.last=last,lodash.lastIndexOf=array.lastIndexOf,lodash.lowerCase=string.lowerCase,lodash.lowerFirst=string.lowerFirst,lodash.lt=lang.lt,lodash.lte=lang.lte,lodash.max=math.max,lodash.maxBy=math.maxBy,lodash.mean=math.mean,lodash.meanBy=math.meanBy,lodash.min=math.min,lodash.minBy=math.minBy,lodash.stubArray=util.stubArray,lodash.stubFalse=util.stubFalse,lodash.stubObject=util.stubObject,lodash.stubString=util.stubString,lodash.stubTrue=util.stubTrue,lodash.multiply=math.multiply,lodash.nth=array.nth,lodash.noop=util.noop,lodash.now=date.now,lodash.pad=string.pad,lodash.padEnd=string.padEnd,lodash.padStart=string.padStart,lodash.parseInt=string.parseInt,lodash.random=number$1.random,lodash.reduce=collection.reduce,lodash.reduceRight=collection.reduceRight,lodash.repeat=string.repeat,lodash.replace=string.replace,lodash.result=object.result,lodash.round=math.round,lodash.sample=collection.sample,lodash.size=collection.size,lodash.snakeCase=string.snakeCase,lodash.some=collection.some,lodash.sortedIndex=array.sortedIndex,lodash.sortedIndexBy=array.sortedIndexBy,lodash.sortedIndexOf=array.sortedIndexOf,lodash.sortedLastIndex=array.sortedLastIndex,lodash.sortedLastIndexBy=array.sortedLastIndexBy,lodash.sortedLastIndexOf=array.sortedLastIndexOf,lodash.startCase=string.startCase,lodash.startsWith=string.startsWith,lodash.subtract=math.subtract,lodash.sum=math.sum,lodash.sumBy=math.sumBy,lodash.template=string.template,lodash.times=util.times,lodash.toFinite=lang.toFinite,lodash.toInteger=toInteger,lodash.toLength=lang.toLength,lodash.toLower=string.toLower,lodash.toNumber=lang.toNumber,lodash.toSafeInteger=lang.toSafeInteger,lodash.toString=lang.toString,lodash.toUpper=string.toUpper,lodash.trim=string.trim,lodash.trimEnd=string.trimEnd,lodash.trimStart=string.trimStart,lodash.truncate=string.truncate,lodash.unescape=string.unescape,lodash.uniqueId=util.uniqueId,lodash.upperCase=string.upperCase,lodash.upperFirst=string.upperFirst,lodash.each=collection.forEach,lodash.eachRight=collection.forEachRight,lodash.first=array.head,mixin$1(lodash,function(){var e={};return baseForOwn(lodash,function(t,r){hasOwnProperty$n.call(lodash.prototype,r)||(e[r]=t)}),e}(),{chain:!1}),lodash.VERSION=VERSION,(lodash.templateSettings=string.templateSettings).imports._=lodash,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){lodash[e].placeholder=lodash}),arrayEach(["drop","take"],function(e,t){LazyWrapper.prototype[e]=function(r){r=void 0===r?1:nativeMax$g(toInteger(r),0);var n=this.__filtered__&&!t?new LazyWrapper(this):this.clone();return n.__filtered__?n.__takeCount__=nativeMin$e(r,n.__takeCount__):n.__views__.push({size:nativeMin$e(r,MAX_ARRAY_LENGTH$6),type:e+(n.__dir__<0?"Right":"")}),n},LazyWrapper.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),arrayEach(["filter","map","takeWhile"],function(e,t){var r=t+1,n=r==LAZY_FILTER_FLAG$1||r==LAZY_WHILE_FLAG;LazyWrapper.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:baseIteratee(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}}),arrayEach(["head","last"],function(e,t){var r="take"+(t?"Right":"");LazyWrapper.prototype[e]=function(){return this[r](1).value()[0]}}),arrayEach(["initial","tail"],function(e,t){var r="drop"+(t?"":"Right");LazyWrapper.prototype[e]=function(){return this.__filtered__?new LazyWrapper(this):this[r](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(e){return this.filter(e).head()},LazyWrapper.prototype.findLast=function(e){return this.reverse().find(e)},LazyWrapper.prototype.invokeMap=baseRest(function(e,t){return"function"==typeof e?new LazyWrapper(this):this.map(function(r){return baseInvoke(r,e,t)})}),LazyWrapper.prototype.reject=function(e){return this.filter(negate(baseIteratee(e)))},LazyWrapper.prototype.slice=function(e,t){e=toInteger(e);var r=this;return r.__filtered__&&(e>0||t<0)?new LazyWrapper(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),void 0!==t&&(r=(t=toInteger(t))<0?r.dropRight(-t):r.take(t-e)),r)},LazyWrapper.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH$6)},baseForOwn(LazyWrapper.prototype,function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=lodash[n?"take"+("last"==t?"Right":""):t],i=n||/^find/.test(t);o&&(lodash.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,s=t instanceof LazyWrapper,l=a[0],c=s||isArray(t),u=function(e){var t=o.apply(lodash,arrayPush([e],a));return n&&h?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,f=!!this.__actions__.length,p=i&&!h,d=s&&!f;if(!i&&c){t=d?t:new LazyWrapper(this);var m=e.apply(t,a);return m.__actions__.push({func:thru,args:[u],thisArg:void 0}),new LodashWrapper(m,h)}return p&&d?e.apply(this,a):(m=this.thru(u),p?n?m.value()[0]:m.value():m)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(e){var t=arrayProto$5[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);lodash.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var o=this.value();return t.apply(isArray(o)?o:[],e)}return this[r](function(r){return t.apply(isArray(r)?r:[],e)})}}),baseForOwn(LazyWrapper.prototype,function(e,t){var r=lodash[t];if(r){var n=r.name+"";(realNames[n]||(realNames[n]=[])).push({name:t,func:r})}}),realNames[createHybrid(void 0,WRAP_BIND_KEY_FLAG$6).name]=[{name:"wrapper",func:void 0}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.at=seq.at,lodash.prototype.chain=seq.wrapperChain,lodash.prototype.commit=seq.commit,lodash.prototype.next=seq.next,lodash.prototype.plant=seq.plant,lodash.prototype.reverse=seq.reverse,lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=seq.value,lodash.prototype.first=lodash.prototype.head,symIterator$1&&(lodash.prototype[symIterator$1]=seq.toIterator),$3Dmol.VolumeData.prototype.volume=function(e){this.size=new $3Dmol.Vector3(e.dimensions[0],e.dimensions[1],e.dimensions[2]),this.origin=new $3Dmol.Vector3(e.origin[0],e.origin[1],e.origin[2]),this.unit=new $3Dmol.Vector3(e.spacing[0],e.spacing[1],e.spacing[2]),this.data=new Float32Array(e.scalars)};var MoleculeMoljs=function(){function e(){this.rotate=!1,this.cjsonHasChanged=!1}return e.prototype.cjsonHandler=function(){this.cjsonHasChanged=!0,this.cjsonData=null},e.prototype.optionsHandler=function(e){this.optionsData=Object(_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.e)(e)},e.prototype.componentWillLoad=function(){console.log("Component is about to be rendered")},e.prototype.componentDidLoad=function(){var e=this;console.log("Component has been rendered"),isNil(this.viewer)&&(this.molViewer.width=function(){return this.clientWidth},this.molViewer.height=function(){return this.clientHeight},this.viewer=$3Dmol.createViewer(this.molViewer,{})),this.convertCjson(),this.renderMolecule();var t=throttle$1(function(){isNil(e.viewer)||e.viewer.resize()},33),r=new index(function(){t()});setTimeout(function(){r.observe(e.el.parentElement)},500)},e.prototype.componentWillUpdate=function(){console.log("Component will update and re-render")},e.prototype.componentDidUpdate=function(){console.log("Component did update"),this.cjsonHasChanged&&this.convertCjson(),this.renderMolecule(),this.cjsonHasChanged=!1},e.prototype.componentDidUnload=function(){console.log("Component removed from the DOM"),isNil(this.animationInterval)||clearInterval(this.animationInterval),isNil(this.rotateInterval)||clearInterval(this.rotateInterval),isNil(this.viewer)||(this.viewer.clear(),this.viewer=null)},e.prototype.setCjson=function(){isNil(this.cjson)?this.cjsonData=null:(Object(_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.c)(this.cjson)?this.cjsonData=this.cjson:this.cjsonData=JSON.parse(this.cjson),Object(_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.b)(this.cjsonData)||(this.cjsonData=null))},e.prototype.convertCjson=function(){var e=this.getCjson();isNil(e)||isNil(e.atoms)?this.currAtoms=[]:this.currAtoms=Object(_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.d)(e)},e.prototype.renderMolecule=function(){this.viewer.clear(),this.currModel=this.viewer.addModel(),this.setAtoms(),this.setVolume(),this.viewer.zoomTo(),this.viewer.render(),this.startAnimation(),this.handleRotate()},e.prototype.setAtoms=function(){this.stopAnimation(),this.currModel.addAtoms(this.currAtoms),this.currModel.setStyle({},this.getOptions().style)},e.prototype.stopAnimation=function(){isNil(this.animationInterval)||(clearInterval(this.animationInterval),this.animationInterval=null)},e.prototype.startAnimation=function(){var e=this;this.stopAnimation();var t=this.getCjson(),r=this.getOptions().normalMode;if(!isNil(t)&&!isNil(t.vibrations)&&!isNil(t.vibrations.eigenVectors)&&r.play){var n=r.modeIdx;if(n<0)return;var o=t.vibrations.eigenVectors[n],i=1;this.animationInterval=setInterval(function(){e.viewer.removeModel(e.currModel),e.currModel=e.viewer.addModel();for(var t=[],n=r.scale*Math.sin(2*Math.PI*i/r.framesPerPeriod),a=0;a<e.currAtoms.length;++a){var s=Object.assign({},e.currAtoms[a]),l=n*o[3*a],c=n*o[3*a+1],u=n*o[3*a+2];s.x+=l,s.y+=c,s.z+=u,t.push(s)}e.currModel.addAtoms(t),e.currModel.setStyle({},e.getOptions().style),e.viewer.render(),i++},1e3/(r.framesPerPeriod*r.periodsPerSecond))}},e.prototype.setVolume=function(){var e=this.getCjson();if(!isNil(e)&&!isNil(e.cube)&&this.getOptions().visibility.isoSurfaces)for(var t=new $3Dmol.VolumeData(e.cube,"volume"),r=0,n=this.getOptions().isoSurfaces;r<n.length;r++){var o=n[r],i={isoval:o.value,color:o.color,opacity:o.opacity};"smoothness"in o&&(i.smoothness=o.smoothness),this.viewer.addIsosurface(t,i)}},e.prototype.getCjson=function(){return isNil(this.cjsonData)&&this.setCjson(),this.cjsonData},e.prototype.setOptions=function(){this.optionsData=Object(_chunk_d889fa81_js__WEBPACK_IMPORTED_MODULE_2__.e)(this.options)},e.prototype.getOptions=function(){return isNil(this.optionsData)&&this.setOptions(),this.optionsData},e.prototype.handleRotate=function(){var e=this;this.rotate&&isNil(this.rotateInterval)?this.rotateInterval=setInterval(function(){return e.viewer.rotate(.5)},50):this.rotate||isNil(this.rotateInterval)||(clearInterval(this.rotateInterval),this.rotateInterval=null)},e.prototype.render=function(){var e=this;return Object(_molecule_core_js__WEBPACK_IMPORTED_MODULE_0__.b)("div",{id:"mol-viewer",ref:function(t){e.molViewer=t}})},Object.defineProperty(e,"is",{get:function(){return"oc-molecule-moljs"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{cjson:{type:String,attr:"cjson",watchCallbacks:["cjsonHandler"]},el:{elementRef:!0},options:{type:"Any",attr:"options",watchCallbacks:["optionsHandler"]},rotate:{type:Boolean,attr:"rotate"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"#mol-viewer{width:100%;height:100%;padding:0;margin:0}"},enumerable:!0,configurable:!0}),e}()}.call(this,__webpack_require__(96)(module))}}]);
//# sourceMappingURL=10.ed761a6d.chunk.js.map