(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{146:function(e,t){e.exports="varying vec4 vColor;\nattribute float size;\nuniform float zoom;\nattribute float selected;\nvarying vec4 edgeColor;\nattribute float focus;\nattribute float hidden;\nvarying float _hidden;\n\nvoid main() {\n  gl_PointSize = zoom * 0.5 * size;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vColor = selected > 0.5 ? vec4(1.0, 1.0, 0.0, focus) : vec4(color, focus);\n  edgeColor = vec4(0.0, 0.0, 0.0, focus);\n  _hidden = hidden;\n}\n"},147:function(e,t){e.exports="varying vec4 vColor;\nvarying vec4 edgeColor;\nvarying float _hidden;\n\nvoid main() {\n  float f = length(gl_PointCoord - vec2(0.5, 0.5));\n  if (_hidden > 0.0 || f > 0.5) {\n    discard;\n  } else if (f > 0.4) {\n    gl_FragColor = edgeColor;\n  } else {\n    gl_FragColor = vColor;\n  }\n}\n"},148:function(e,t){e.exports="attribute float focus;\nvarying float attenuate;\nattribute float hidden;\nvarying float _hidden;\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  attenuate = focus;\n  _hidden = hidden;\n}\n"},149:function(e,t){e.exports="uniform float opacity;\nuniform float night;\nvarying float attenuate;\nvarying float _hidden;\n\nvoid main() {\n  if (_hidden > 0.0) {\n    discard;\n  }\n  gl_FragColor = night > 0.0 ? vec4(1.0, 1.0, 1.0, attenuate * opacity) : vec4(0.0, 0.0, 0.0, attenuate * opacity);\n}\n"},150:function(e,t,n){e.exports=n.p+"static/media/logo.89378f99.svg"},5444:function(e,t,n){e.exports=n(5629)},5449:function(e,t,n){},5624:function(e,t,n){},5627:function(e,t,n){var a={"./u9hv9ptx.entry.js":[5636,8],"./u9hv9ptx.sc.entry.js":[5637,9]};function i(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}i.keys=function(){return Object.keys(a)},i.id=5627,e.exports=i},5628:function(e,t,n){var a={"./56hngwe8.entry.js":[5644,16],"./56hngwe8.sc.entry.js":[5645,17],"./cixjba28.entry.js":[5646,19],"./cixjba28.sc.entry.js":[5647,20],"./ev9ubn2w.entry.js":[5648,21],"./ev9ubn2w.sc.entry.js":[5649,22],"./gbpyknum.entry.js":[5650,23],"./gbpyknum.sc.entry.js":[5651,24],"./gvvbtjih.entry.js":[5652,25],"./gvvbtjih.sc.entry.js":[5653,26],"./merxf92y.entry.js":[5654,27],"./merxf92y.sc.entry.js":[5655,28],"./owbwhwu9.entry.js":[5656,29],"./owbwhwu9.sc.entry.js":[5657,30]};function i(e){var t=a[e];return t?n.e(t[1]).then(function(){var e=t[0];return n(e)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}i.keys=function(){return Object.keys(a)},i.id=5628,e.exports=i},5629:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(19),r=n.n(o),s=(n(5449),n(17)),l=n(18),u=n(21),c=n(20),d=n(22),h=n(56),g=n.n(h),v=n(138),m=n(43),p=n(2),f=n(86),y=n(139);var b=n(140),E=function(e){var t=e.onChange,n=e.params,a=e.digits,o=e.children;return i.a.createElement("div",{style:{display:"flex",alignItems:"center",width:"100%"}},i.a.createElement("div",null,n.value.toFixed(Number.isInteger(a)?a:3)),i.a.createElement("div",{style:{flexGrow:1,paddingRight:16,paddingLeft:16}},i.a.createElement(b.a,Object.assign({},e,{value:n.value,min:n.min,max:n.max,step:n.step,onChange:function(e,n){t(n)}}))),o)},C=n(57),k=n(156),j=n(142),x=n.n(j),w=n(143),O=n.n(w),P=n(144),S=n.n(P),z=n(5662),N=n(30),V=n.n(N),D=n(55),F=n.n(D),_=n(54),M=n.n(_),L=n(53),B=n.n(L),G=n(25);function U(e){var t=e.classes,n=e.inputRef,a=void 0===n?function(){}:n,o=e.ref,r=Object(k.a)(e,["classes","inputRef","ref"]);return i.a.createElement(B.a,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){o(e),a(e)},classes:{input:t.input}}},r))}function W(e,t){var n=t.query,a=t.isHighlighted,o=x()(e.label,n),r=O()(e.label,o);return i.a.createElement(M.a,{selected:a,component:"div"},i.a.createElement("div",null,r.map(function(e,t){return e.highlight?i.a.createElement("span",{key:String(t),style:{fontWeight:500}},e.text):i.a.createElement("strong",{key:String(t),style:{fontWeight:300}},e.text)})))}var A=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={suggestions:[]},n.handleSuggestionsFetchRequested=function(e){var t=e.value;n.setState({suggestions:n.getSuggestions(t)})},n.handleSuggestionsClearRequested=function(){n.setState({suggestions:[]})},n.handleChange=function(e){return function(t,a){var i=a.newValue;n.setState(Object(C.a)({},e,i))}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getSuggestions",value:function(e){var t=Object(z.a)(e.trim()).toLowerCase(),n=t.length,a=0;return 0===n?[]:this.props.options.filter(function(e){var i=a<10&&e.label.slice(0,n).toLowerCase()===t;return i&&(a+=1),i})}},{key:"getSuggestionValue",value:function(e){return e.label}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.onChange,o=t.value,r={renderInputComponent:U,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:W};return i.a.createElement("div",{className:n.root},i.a.createElement(S.a,Object.assign({},r,{inputProps:{classes:n,placeholder:"Search (e.g. NaCl)",value:o,onChange:a,inputRef:function(t){e.popperNode=t}},theme:{container:n.container,suggestionsContainerOpen:n.suggestionsContainerOpen,suggestionsList:n.suggestionsList,suggestion:n.suggestion},renderSuggestionsContainer:function(t){return i.a.createElement(F.a,{anchorEl:e.popperNode,open:Boolean(t.children),placement:"bottom-start"},i.a.createElement(V.a,Object.assign({square:!0},t.containerProps,{style:{width:e.popperNode?e.popperNode.clientWidth:null}}),t.children))}})))}}]),t}(i.a.Component),I=Object(G.withStyles)(function(e){return{root:{flexGrow:1},container:{position:"relative"},suggestionsContainerOpen:{position:"absolute",zIndex:1,marginTop:e.spacing.unit,left:0,right:0},suggestion:{display:"block"},suggestionsList:{margin:0,padding:0,listStyleType:"none"}}})(A),R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.degree,a=e.discovery,o=e.formationEnergy,r=e.synthesisProbability,s=e.clusCoeff,l=e.eigenCent,u=e.degCent,c=e.shortestPath,d=e.degNeigh,h=e.onClear,g=null===a;return i.a.createElement(p.c,null,i.a.createElement(p.e,{title:"".concat(t," (").concat(g?"undiscovered":a,")"),action:i.a.createElement(p.b,{onClick:h},"Clear selection")}),i.a.createElement(p.d,null,i.a.createElement(p.r,{gutterBottom:!0,variant:"title"},"Material Properties"),i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Derived materials"),i.a.createElement(p.r,{paragraph:!0},n)),o&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Formation energy"),i.a.createElement(p.r,{paragraph:!0},o.toFixed(3)," eV/atom")),g&&r&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Synthesis probability"),i.a.createElement(p.r,{paragraph:!0},(100*r).toFixed(1),"%")),i.a.createElement(p.r,{gutterBottom:!0,variant:"title"},"Network Properties"),s&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Clustering coefficient"),i.a.createElement(p.r,{paragraph:!0},s.toFixed(3))),l&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Eigenvector centrality"),i.a.createElement(p.r,{paragraph:!0},l.toFixed(3))),u&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Degree centrality"),i.a.createElement(p.r,{paragraph:!0},u.toFixed(3))),c&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Shortest path"),i.a.createElement(p.r,{paragraph:!0},c.toFixed(3))),d&&i.a.createElement("div",null,i.a.createElement(p.r,{gutterBottom:!0,variant:"subheading",color:"textSecondary"},"Degree neighborhood"),i.a.createElement(p.r,{paragraph:!0},d.toFixed(3)))))}}]),t}(a.Component);function q(e,t){return e.length<t.length?-1:e.length>t.length?1:function(e,t){return e<t?-1:e>t?1:0}(e,t)}var H=n(87),Y=n(152),T=n(153),X=n(8),Z=n(15),J=n(146),$=n.n(J),K=n(147),Q=n.n(K),ee=n(148),te=n.n(ee),ne=n(149),ae=n.n(ne),ie=function(){function e(t){var n=this,a=t.el,i=t.dp;Object(s.a)(this,e);var o=a.clientWidth,r=a.clientHeight;this.width=o,this.height=r,this.parent=a,this.dp=i,this.scene=new Z.h,this.scene.background=new Z.b(16777215),this.camera=new Z.e(-o/2,o/2,r/2,-r/2,-1,1),this.raycaster=new Z.g,this.threshold=6,this.raycaster.params.Points.threshold=this.threshold,this.mouse=new Z.j,this.pixel=new Z.j,this.expansion=1,this.attenuation=.02,this.renderer=new Z.l({antialias:!0}),this.el=this.renderer.domElement,Object(H.a)(a).append(function(){return n.el});var l=[],u=[],c=[];this.linkIndex={};for(var d=0;d<this.dp.edgeCount();d++){var h=this.dp.edgePosition(d);l.push(h[0].x,h[0].y,-.1),l.push(h[1].x,h[1].y,-.1),u.push(1,1),c.push(0,0)}this.edgeGeom=new Z.a,this.edgeGeom.addAttribute("position",new Z.c(l,3).setDynamic(!0)),this.edgeGeom.addAttribute("focus",new Z.c(u,1).setDynamic(!0)),this.edgeGeom.addAttribute("hidden",new Z.c(c,1).setDynamic(!0)),this.edgeGeom.computeBoundingSphere(),this.lineMaterial=new Z.i({uniforms:{opacity:{value:.05},night:{value:0}},vertexShader:te.a,fragmentShader:ae.a}),this.lineMaterial.transparent=!0,this.lines=new Z.d(this.edgeGeom,this.lineMaterial),this._linksVisible=!0,this.scene.add(this.lines),this.cmap=Object(Y.a)(T.a).domain([1945,2015]),l.length=0,u.length=0,c.length=0;var g=[],v=[],m=[];this.index={},this.dp.nodeNames().forEach(function(e){var t,a=n.dp.nodePosition(e);l.push(a.x,a.y,0),n.index[e]=l.length/3-1;var i=n.dp.nodeProperty(e,"discovery");t=null!==i?Object(X.a)(n.cmap(i)):Object(X.a)("#de2d26"),g.push(t.r/255,t.g/255,t.b/255),v.push(10),m.push(0),u.push(1),c.push(0)}),this.selected=null,this.geometry=new Z.a,this.geometry.addAttribute("position",new Z.c(l,3).setDynamic(!0)),this.geometry.addAttribute("color",new Z.c(g,3).setDynamic(!0)),this.geometry.addAttribute("size",new Z.c(v,1).setDynamic(!0)),this.geometry.addAttribute("selected",new Z.c(m,1).setDynamic(!0)),this.geometry.addAttribute("focus",new Z.c(u,1).setDynamic(!0)),this.geometry.addAttribute("hidden",new Z.c(c,1).setDynamic(!0)),this.geometry.computeBoundingSphere(),this.material=new Z.i({vertexColors:Z.k,uniforms:{color:new Z.b(1,0,0),zoom:{value:this.zoom}},vertexShader:$.a,fragmentShader:Q.a}),this.material.transparent=!0,this.points=new Z.f(this.geometry,this.material),this.scene.add(this.points),this.setDegreeSize(2017,"normal"),this.resize()}return Object(l.a)(e,[{key:"resize",value:function(){var e=this.width=this.parent.clientWidth,t=this.height=this.parent.clientHeight;this.renderer.setSize(e,t);var n=.5*(this.camera.left+this.camera.right);this.camera.left=n-e/2,this.camera.right=n+e/2,this.camera.updateProjectionMatrix(),this.render()}},{key:"linksVisible",value:function(e){this._linksVisible=e,this.lines.visible=this._linksVisible}},{key:"setNightMode",value:function(e){e?(this.scene.background.setRGB(0,0,0),this.lineMaterial.uniforms.night.value=1):(this.scene.background.setRGB(1,1,1),this.lineMaterial.uniforms.night.value=0)}},{key:"setLinkOpacity",value:function(e){this.lineMaterial.uniforms.opacity.value=e}},{key:"setConstSize",value:function(e){this.degreeSize=!1;for(var t=0;t<this.geometry.attributes.size.array.length;t++)this.setSize(t,e);this.updateSize()}},{key:"setDegreeSize",value:function(e,t){var n=this;this.degreeSize=!0;var a=this.dp.nodeDegrees(e);this.dp.nodeNames().forEach(function(e,i){var o=a[e];if("normal"===t)n.setSize(i,10+Math.sqrt(o));else if("large"===t)n.setSize(i,10+Math.sqrt(Math.sqrt(o*o*o)));else if("huge"===t)n.setSize(i,10+o);else{if("none"!==t)throw new Error("bad level option: ".concat(t));n.setConstSize(10)}}),this.updateSize()}},{key:"setConstColor",value:function(e,t,n){for(var a=0;a<this.geometry.attributes.size.array.length;a++)this.setColor(a,e,t,n);this.updateColor()}},{key:"setDiscoveryColor",value:function(){var e=this;this.undiscoveredColor=!1,this.dp.nodeNames().forEach(function(t,n){var a,i=e.dp.nodeProperty(t,"discovery");a=null!==i?Object(X.a)(e.cmap(i)):Object(X.a)("#de2d26"),e.setColor(n,a.r/255,a.g/255,a.b/255)}),this.updateColor()}},{key:"setBooleanColor",value:function(){var e=this;this.undiscoveredColor=!1,this.dp.nodeNames().forEach(function(t,n){var a=e.dp.nodeExists(t)?Object(X.a)("rgb(81,96,204)"):Object(X.a)("#de2d26");e.setColor(n,a.r/255,a.g/255,a.b/255)}),this.updateColor()}},{key:"setUndiscoveredColor",value:function(e){var t=this;this.undiscoveredColor=!0,this.dp.nodeNames().forEach(function(n,a){var i=t.dp.nodeExists(n)&&t.dp.nodeProperty(n,"discovery")<=e?Object(X.a)("rgb(81,96,204)"):Object(X.a)("#de2d26");t.setColor(a,i.r/255,i.g/255,i.b/255)}),this.updateColor()}},{key:"setColorYear",value:function(e){this.undiscoveredColor&&this.setUndiscoveredColor(e)}},{key:"on",value:function(e,t){Object(H.a)(this.el).on(e,t.bind(this))}},{key:"pick",value:function(e){var t=e.x,n=e.y,a=this.parent.getBoundingClientRect(),i=t-a.left,o=n-a.top;this.mouse.x=i/this.parent.clientWidth*2-1,this.mouse.y=-(o/this.parent.clientHeight*2-1),this.raycaster.setFromCamera(this.mouse,this.camera);var r=this.raycaster.intersectObject(this.points);if(0===r.length)return null;var s=r[0];if(s.index>=this.dp.nodeNames())return null;var l=this.dp.nodeNames()[s.index];return this.pickName(l)}},{key:"pickName",value:function(e){return this.index.hasOwnProperty(e)?{name:e,degree:this.dp.nodeProperty(e,"degree"),discovery:this.dp.nodeProperty(e,"discovery"),formationEnergy:this.dp.nodeProperty(e,"formation_energy"),synthesisProbability:this.dp.nodeProperty(e,"synthesis_probability"),clusCoeff:this.dp.nodeProperty(e,"clus_coeff"),eigenCent:this.dp.nodeProperty(e,"eigen_cent"),degCent:this.dp.nodeProperty(e,"deg_cent"),shortestPath:this.dp.nodeProperty(e,"shortest_path"),degNeigh:this.dp.nodeProperty(e,"deg_neigh")}:null}},{key:"setColor",value:function(e,t,n,a){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.geometry.attributes.color.array[3*e+0]=t,this.geometry.attributes.color.array[3*e+1]=n,this.geometry.attributes.color.array[3*e+2]=a,i&&this.updateColor()}},{key:"updateColor",value:function(){this.geometry.attributes.color.needsUpdate=!0}},{key:"getPosition",value:function(e){var t=this.geometry.attributes.position.array;return new Z.j(t[3*e+0],t[3*e+1])}},{key:"setPosition",value:function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.geometry.attributes.position.array[3*e+0]=t,this.geometry.attributes.position.array[3*e+1]=n,a&&this.updatePosition()}},{key:"updatePosition",value:function(){this.geometry.attributes.position.needsUpdate=!0}},{key:"setFocus",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.geometry.attributes.focus.array[e]=t?1:this.attenuation,n&&this.updateFocus()}},{key:"updateFocus",value:function(){this.geometry.attributes.focus.needsUpdate=!0}},{key:"getEdgePosition",value:function(e,t){var n=this.edgeGeom.attributes.position.array;return new Z.j(n[3*(2*e+t)+0],n[3*(2*e+t)+1])}},{key:"setEdgePosition",value:function(e,t,n,a){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.edgeGeom.attributes.position.array[3*(2*e+t)+0]=n,this.edgeGeom.attributes.position.array[3*(2*e+t)+1]=a,i&&this.updateEdgePosition()}},{key:"updateEdgePosition",value:function(){this.edgeGeom.attributes.position.needsUpdate=!0}},{key:"setEdgeFocus",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.edgeGeom.attributes.focus.array[2*e+0]=t?1:this.attenuation,this.edgeGeom.attributes.focus.array[2*e+1]=t?1:this.attenuation,n&&this.updateEdgeFocus()}},{key:"updateEdgeFocus",value:function(){this.edgeGeom.attributes.focus.needsUpdate=!0}},{key:"setSize",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.geometry.attributes.size.array[e]=t,n&&this.updateSize()}},{key:"updateSize",value:function(){this.geometry.attributes.size.needsUpdate=!0}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null!==this.selected&&(this.geometry.attributes.selected.array[this.selected]=0),this.selected=this.index[e],this.geometry.attributes.selected.array[this.selected]=1,this.geometry.attributes.selected.needsUpdate=!0;var n=this.geometry.attributes.position.array[3*this.selected+0],a=this.geometry.attributes.position.array[3*this.selected+1];t&&this.setCamera(n,a)}},{key:"unselect",value:function(){this.geometry.attributes.selected.array[this.selected]=0,this.geometry.attributes.selected.needsUpdate=!0,this.selected=null}},{key:"focus",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.geometry.attributes.focus.count,a=0;a<n;a++)this.setFocus(a,!1,!1);var i=this.index[e];if(this.setFocus(i,!0,!1),t){for(var o=0;o<this.dp.edgeCount();o++){var r=this.dp.edgeNodes(o),s=null;r[0]===e?s=r[1]:r[1]===e&&(s=r[0]),s?(this.setEdgeFocus(o,!0,!1),this.setFocus(this.index[s],!0,!1)):this.setEdgeFocus(o,!1,!1)}this.updateEdgeFocus()}this.updateFocus()}},{key:"unfocus",value:function(){for(var e=this.geometry.attributes.focus.count,t=0;t<e;t++)this.setFocus(t,!0,!1);for(var n=0;n<this.dp.edgeCount();n++)this.setEdgeFocus(n,!0,!1);this.updateFocus(),this.updateEdgeFocus()}},{key:"display",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("NAME",e),e&&""!==e.trim()?(this.select(e,t),this.focus(e)):this.undisplay()}},{key:"undisplay",value:function(){this.unselect(),this.unfocus()}},{key:"hideAfter",value:function(e){var t=this,n=e<2016?this.dp.nodeNames().filter(function(n){var a=t.dp.nodeProperty(n,"discovery")||2016;return!t.dp.nodeExists(n)||a>e}):[];this.hideNodes([]),this.hideNodes(n)}},{key:"hideNodes",value:function(e){var t=this;this.dp.nodeNames().forEach(function(e){return t.hideNode(e,!1,!1)}),e.forEach(function(e){return t.hideNode(e,!0,!1)}),this.updateHideNode();for(var n=new Set(e),a=0;a<this.dp.edgeCount();a++){var i=this.dp.edgeNodes(a);this.hideEdge(a,n.has(i[0])||n.has(i[1]),!1)}this.updateHideEdge()}},{key:"hideNode",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.geometry.attributes.hidden.array[this.index[e]]=t,n&&this.updateHideNode()}},{key:"updateHideNode",value:function(){this.geometry.attributes.hidden.needsUpdate=!0}},{key:"hideEdge",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.edgeGeom.attributes.hidden.array[2*e+0]=t,this.edgeGeom.attributes.hidden.array[2*e+1]=t,n&&this.updateHideEdge()}},{key:"updateHideEdge",value:function(){this.edgeGeom.attributes.hidden.needsUpdate=!0}},{key:"center",value:function(){for(var e=this.geometry.attributes.selected.count,t=0,n=0,a=0;a<e;a++){var i=this.getPosition(a);t+=i.x,n+=i.y}t/=e,n/=e;for(var o=0;o<e;o++){var r=this.getPosition(o);this.setPosition(o,r.x-t,r.y-n,!1)}this.updatePosition();for(var s=0;s<this.dp.edgeCount();s++){var l=this.getEdgePosition(s,0);this.setEdgePosition(s,0,l.x-t,l.y-n,!1);var u=this.getEdgePosition(s,1);this.setEdgePosition(s,1,u.x-t,u.y-n,!1)}this.updateEdgePosition()}},{key:"expand",value:function(e){var t=e/this.expansion;this.expansion=e;for(var n=this.geometry.attributes.selected.count,a=0;a<n;a++){var i=this.getPosition(a);this.setPosition(a,i.x*t,i.y*t,!1)}this.updatePosition();for(var o=0;o<this.dp.edgeCount();o++){var r=this.getEdgePosition(o,0);this.setEdgePosition(o,0,r.x*t,r.y*t,!1);var s=this.getEdgePosition(o,1);this.setEdgePosition(o,1,s.x*t,s.y*t,!1)}this.updateEdgePosition()}},{key:"moveCamera",value:function(e,t){this.camera.left-=e/this.camera.zoom,this.camera.right-=e/this.camera.zoom,this.camera.top+=t/this.camera.zoom,this.camera.bottom+=t/this.camera.zoom,this.camera.updateProjectionMatrix()}},{key:"setCamera",value:function(e,t){this.camera.left=e-this.width/2,this.camera.right=e+this.width/2,this.camera.bottom=t-this.height/2,this.camera.top=t+this.height/2,this.camera.updateProjectionMatrix()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"zoom",get:function(){return this.camera.zoom},set:function(e){this.camera.zoom=e,this.camera.updateProjectionMatrix(),this.material.uniforms.zoom.value=e,this.raycaster.params.Points.threshold=this.threshold}}]),e}();var oe=function(e){function t(e,n){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this))).nodes=e,a.edges=n;var i=function(e){var t={},n=0;e.forEach(function(e){e.forEach(function(e){t.hasOwnProperty(e)||(t[e]=n++)})});var a=e.map(function(e){return e.map(function(e){return t[e]})});return{nodeIndex:t,edgeIndex:a}}(n);return a._nodeIndex=i.nodeIndex,a.edgeIndex=i.edgeIndex,a._names=Object.keys(a.nodes),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"edgeCount",value:function(){return this.edges.length}},{key:"edgePosition",value:function(e){var t=this.edges[e],n=[this.nodes[t[0]],this.nodes[t[1]]];return void 0!==n[0]&&void 0!==n[1]||(console.log(e),console.log(t),console.log(n)),n}},{key:"edgeNodes",value:function(e){return this.edges[e]}},{key:"nodeNames",value:function(){return this._names}},{key:"nodePosition",value:function(e){var t=this.nodes[e];return{x:t.x,y:t.y}}},{key:"nodeDegrees",value:function(e){var t=this,n={},a=function(a,i){n.hasOwnProperty(a)||(n[a]=0);var o=t.nodeProperty(i,"discovery")||2016;t.nodeExists(i)&&o<=e&&n[a]++};return this.edges.forEach(function(e){a(e[0],e[1]),a(e[1],e[0])}),n}},{key:"nodeIndex",value:function(e){return this._nodeIndex[e]}},{key:"nodeProperty",value:function(e,t){return this.nodes[e][t]}},{key:"nodeExists",value:function(e){return null!==this.nodes[e].discovery}}]),t}(function e(){Object(s.a)(this,e),console.log("hi")});function re(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a){Object.entries(t).forEach(function(t){var n=Object(m.a)(t,2),i=n[0],o=n[1],r=a?a.addEventListener:e.removeEventListener;"function"!==typeof o||r(i,o)}),a&&Object.entries(n).forEach(function(e){var t=Object(m.a)(e,2),n=t[0],i=t[1];a[n]=i}),e=a}}var se=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).dragging={status:!1,start:{x:0,y:0}},n.onValueChanged=function(e,t){t in n.state&&n.setState(function(n,a){return n[t].value=e,n}),t in n.sceneSetters&&n.sceneSetters[t](e)},n.onVisZoom=function(e){e.preventDefault();var t=e.deltaY>0?-1:1;n.onValueChanged(n.state.zoom.value+t,"zoom")},n.onVisClick=function(e){if(!n.dragging.status){var t=n.scene.pick({x:e.clientX,y:e.clientY});t&&n.selectNode(t)}},n.onVisDrag=function(e){e.preventDefault(),n.dragging.status=!0,n.dragging.start={x:e.clientX,y:e.clientY};var t=n.state.showLinks.value;t&&n.scene.linksVisible(!1);var a=function(e){n.onDrag(e)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",function e(){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",e),t&&n.scene.linksVisible(!0),setTimeout(function(){n.dragging.status=!1},50)})},n.toggleAutoplay=function(){var e=n.state.year,t=e.interval,a=!e.play;e.play&&e.interval&&(clearInterval(e.interval),t=null),e.play||(t=setInterval(function(){var e=n.state.year,t=e.value+1;e.value===e.max&&(t=e.min),n.onValueChanged(t,"year")},1e3)),n.setState(function(e,n){return e.year.play=a,e.year.interval=t,e})},n.onDrag=function(e){if(n.dragging.status){var t=e.clientX-n.dragging.start.x,a=e.clientY-n.dragging.start.y;n.scene.moveCamera(t,a),n.dragging.start={x:e.clientX,y:e.clientY}}},n.onClearSelection=function(){n.scene.undisplay(),n.onValueChanged(null,"selected"),n.onValueChanged(null,"structure")},n.state={zoom:{value:40,min:0,max:100},spacing:{value:1,min:.1,max:10},opacity:{value:.01,min:0,max:.1,step:.001},year:{value:2016,min:1945,max:2016,step:1,play:!1,interval:null},search:{value:""},color:{value:"discovery",options:[{label:"None",value:"none"},{label:"Year of discovery",value:"discovery"},{label:"Discovered/Hypothetical",value:"boolean"},{label:"Discovered/Undiscovered",value:"undiscovered"}]},colorYear:{value:2016,min:1945,max:2016,step:1},size:{value:"normal",options:[{label:"None",value:"none"},{label:"Degree",value:"normal"},{label:"Degree - Large",value:"large"},{label:"Degree - Huge",value:"huge"}]},showLinks:{value:!1},nightMode:{value:!1},selected:{value:null},structure:{value:null}},n.sceneSetters={zoom:function(e){n.scene.zoom=.125*Math.pow(1.06,e)},spacing:function(e){n.scene.expand(e)},year:function(e){n.scene.hideAfter(e),"none"!==n.state.size.value&&n.scene.setDegreeSize(n.state.year.value,n.state.size.value)},opacity:function(e){n.scene.setLinkOpacity(e)},search:function(e){var t=n.scene.pickName(e);t?(n.scene.display(e,!0),n.selectNode(t)):(n.scene.undisplay(),n.onValueChanged(null,"selected"),n.onValueChanged(null,"structure"))},showLinks:function(e){n.scene.linksVisible(e)},nightMode:function(e){n.scene.setNightMode(e)},size:function(e){n.scene.setDegreeSize(n.state.year.value,e)},color:function(e){switch(e){case"boolean":n.scene.setBooleanColor();break;case"discovery":n.scene.setDiscoveryColor();break;case"undiscovered":n.scene.setUndiscoveredColor(n.state.colorYear.value)}},colorYear:function(e){switch(n.state.color.value){case"boolean":n.scene.setBooleanColor();break;case"discovery":n.scene.setDiscoveryColor();break;case"undiscovered":n.scene.setUndiscoveredColor(e)}}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.edges,a=t.nodes;this.data=new oe(a,n),this.searchOptions=this.data.nodeNames().slice().sort(q).map(function(e){return{label:e}}),this.scene=new ie({el:this.visElement,dp:this.data}),this.setDefaults();window.requestAnimationFrame(function t(n){e.scene.render(),window.requestAnimationFrame(t)}),this.ro=new y.a(function(){e.scene.resize()}),this.ro.observe(this.visElement)}},{key:"componentWillUnmount",value:function(){this.ro&&this.ro.unobserve(this.visElement)}},{key:"setDefaults",value:function(){for(var e in this.state){var t=this.state[e].value;this.onValueChanged(t,e)}}},{key:"selectNode",value:function(e){var t,n=this,a=this.state.selected.value?this.state.selected.value.name:"";(e.name===a?(this.scene.undisplay(),e=null):this.scene.display(e.name),this.onValueChanged(e,"selected"),this.onValueChanged(null,"structure"),e)&&(t=e.name,fetch("sample-data/structures/".concat(t,".cjson")).then(function(e){return e.json()})).then(function(e){n.onValueChanged(e,"structure")})}},{key:"render",value:function(){var e=this,t=this.state,n=t.zoom,a=t.spacing,o=t.opacity,r=t.year,s=t.search,l=t.size,u=t.color,c=t.colorYear,d=t.showLinks,h=t.nightMode,g=t.selected,v=t.structure;return i.a.createElement("div",null,i.a.createElement(p.l,null,i.a.createElement(p.o,null,i.a.createElement(p.p,null,i.a.createElement(p.n,null,"Zoom"),i.a.createElement(p.n,null,"Link opacity / display"),i.a.createElement(p.n,null,"Node spacing"),i.a.createElement(p.n,null,"Discovered before"))),i.a.createElement(p.m,null,i.a.createElement(p.p,null,i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(E,{params:n,onChange:function(t){e.onValueChanged(t,"zoom")}}))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(E,{disabled:!d.value,params:o,onChange:function(t){e.onValueChanged(t,"opacity")}},i.a.createElement(p.f,{checked:d.value,onChange:function(t,n){e.onValueChanged(n,"showLinks")}})))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(E,{params:a,onChange:function(t){e.onValueChanged(t,"spacing")}}))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(E,{params:r,onChange:function(t){e.onValueChanged(t,"year")},digits:0},i.a.createElement(p.h,{onClick:this.toggleAutoplay},r.play?i.a.createElement(f.a,null):i.a.createElement(f.b,null))))))),i.a.createElement(p.o,null,i.a.createElement(p.p,null,i.a.createElement(p.n,null,"Search"),i.a.createElement(p.n,null,"Node size"),i.a.createElement(p.n,null,"Node color"),i.a.createElement(p.n,null,"Color year"))),i.a.createElement(p.m,null,i.a.createElement(p.p,null,i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(I,{options:this.searchOptions,value:s.value,onChange:function(t,n){e.onValueChanged(n.newValue,"search")}}))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(p.k,{value:l.value,onChange:function(t){e.onValueChanged(t.target.value,"size")}},l.options.map(function(e){return i.a.createElement(p.i,{key:e.value,value:e.value},e.label)})))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(p.k,{value:u.value,onChange:function(t){e.onValueChanged(t.target.value,"color")}},u.options.map(function(e){return i.a.createElement(p.i,{key:e.value,value:e.value},e.label)})))),i.a.createElement(p.n,null,i.a.createElement(p.g,{fullWidth:!0},i.a.createElement(E,{params:c,onChange:function(t){e.onValueChanged(t,"colorYear")},disabled:"undiscovered"!==u.value,digits:0}))))),i.a.createElement(p.o,null,i.a.createElement(p.p,null,i.a.createElement(p.n,null,"Night Mode ",i.a.createElement(p.f,{checked:h.value,onChange:function(t,n){e.onValueChanged(n,"nightMode")}}))))),i.a.createElement(p.j,{style:{width:"100%",height:"40rem",marginTop:"2rem",marginBottom:"2rem"}},i.a.createElement("split-me",{n:2,sizes:"0.6, 0.4",ref:re({slotResized:function(){e.onValueChanged(n.value,"zoom")}})},i.a.createElement("div",{slot:0,style:{width:"100%",height:"100%"},ref:function(t){e.visElement=t},draggable:!0,onDragStart:this.onVisDrag,onWheel:this.onVisZoom,onClick:this.onVisClick}),i.a.createElement("oc-molecule",{slot:1,ref:re({},{cjson:v.value})}))),g.value&&i.a.createElement(R,Object.assign({},g.value,{onClear:this.onClearSelection})))}}]),t}(a.Component),le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={nodes:null,edges:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=fetch("sample-data/edges.json"),n=fetch("sample-data/nodes.json");Promise.all([t,n]).then(function(e){return Promise.all(e.map(function(e){return e.json()}))}).then(function(t){var n=Object(m.a)(t,2),a=n[0],i=n[1];e.setState(Object(v.a)({},e.state,{edges:a,nodes:i}))})}},{key:"render",value:function(){var e=this.state,t=e.nodes,n=e.edges;return t&&n?i.a.createElement(se,{nodes:t,edges:n}):null}}]),t}(a.Component),ue=n(150),ce=n.n(ue),de=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{color:"default",position:"static"},i.a.createElement(p.q,null,i.a.createElement(p.b,{color:"inherit","aria-label":"Logo",style:{marginRight:9}},i.a.createElement("img",{className:"logo",src:ce.a,alt:"logo"})),i.a.createElement(p.r,{variant:"h5",color:"inherit",noWrap:!0},"MaterialNet"),i.a.createElement("div",{style:{flex:1}})))}}]),t}(a.Component),he=(n(5624),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(g.a,null),i.a.createElement(de,null),i.a.createElement("div",{className:"content"},i.a.createElement(le,null)))}}]),t}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ge=n(154),ve=n(155);Object(ge.a)(window),Object(ve.a)(window),r.a.render(i.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5444,31,18]]]);
//# sourceMappingURL=main.389fdd01.chunk.js.map